function TO(i,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in i)){const s=Object.getOwnPropertyDescriptor(n,r);s&&Object.defineProperty(i,r,s.get?s:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function oC(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var O_={exports:{}},hh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lS;function SO(){if(lS)return hh;lS=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,r,s){var o=null;if(s!==void 0&&(o=""+s),r.key!==void 0&&(o=""+r.key),"key"in r){s={};for(var c in r)c!=="key"&&(s[c]=r[c])}else s=r;return r=s.ref,{$$typeof:i,type:n,key:o,ref:r!==void 0?r:null,props:s}}return hh.Fragment=e,hh.jsx=t,hh.jsxs=t,hh}var cS;function xO(){return cS||(cS=1,O_.exports=SO()),O_.exports}var O=xO(),P_={exports:{}},Pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uS;function DO(){if(uS)return Pe;uS=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function _(F){return F===null||typeof F!="object"?null:(F=y&&F[y]||F["@@iterator"],typeof F=="function"?F:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,S={};function T(F,re,fe){this.props=F,this.context=re,this.refs=S,this.updater=fe||b}T.prototype.isReactComponent={},T.prototype.setState=function(F,re){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,re,"setState")},T.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function C(){}C.prototype=T.prototype;function N(F,re,fe){this.props=F,this.context=re,this.refs=S,this.updater=fe||b}var j=N.prototype=new C;j.constructor=N,E(j,T.prototype),j.isPureReactComponent=!0;var q=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},K=Object.prototype.hasOwnProperty;function M(F,re,fe,he,be,Me){return fe=Me.ref,{$$typeof:i,type:F,key:re,ref:fe!==void 0?fe:null,props:Me}}function A(F,re){return M(F.type,re,void 0,void 0,void 0,F.props)}function k(F){return typeof F=="object"&&F!==null&&F.$$typeof===i}function L(F){var re={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(fe){return re[fe]})}var B=/\/+/g;function U(F,re){return typeof F=="object"&&F!==null&&F.key!=null?L(""+F.key):re.toString(36)}function V(){}function _e(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(V,V):(F.status="pending",F.then(function(re){F.status==="pending"&&(F.status="fulfilled",F.value=re)},function(re){F.status==="pending"&&(F.status="rejected",F.reason=re)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function de(F,re,fe,he,be){var Me=typeof F;(Me==="undefined"||Me==="boolean")&&(F=null);var Se=!1;if(F===null)Se=!0;else switch(Me){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(F.$$typeof){case i:case e:Se=!0;break;case p:return Se=F._init,de(Se(F._payload),re,fe,he,be)}}if(Se)return be=be(F),Se=he===""?"."+U(F,0):he,q(be)?(fe="",Se!=null&&(fe=Se.replace(B,"$&/")+"/"),de(be,re,fe,"",function(Ki){return Ki})):be!=null&&(k(be)&&(be=A(be,fe+(be.key==null||F&&F.key===be.key?"":(""+be.key).replace(B,"$&/")+"/")+Se)),re.push(be)),1;Se=0;var on=he===""?".":he+":";if(q(F))for(var yt=0;yt<F.length;yt++)he=F[yt],Me=on+U(he,yt),Se+=de(he,re,fe,Me,be);else if(yt=_(F),typeof yt=="function")for(F=yt.call(F),yt=0;!(he=F.next()).done;)he=he.value,Me=on+U(he,yt++),Se+=de(he,re,fe,Me,be);else if(Me==="object"){if(typeof F.then=="function")return de(_e(F),re,fe,he,be);throw re=String(F),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Se}function W(F,re,fe){if(F==null)return F;var he=[],be=0;return de(F,he,"","",function(Me){return re.call(fe,Me,be++)}),he}function ee(F){if(F._status===-1){var re=F._result;re=re(),re.then(function(fe){(F._status===0||F._status===-1)&&(F._status=1,F._result=fe)},function(fe){(F._status===0||F._status===-1)&&(F._status=2,F._result=fe)}),F._status===-1&&(F._status=0,F._result=re)}if(F._status===1)return F._result.default;throw F._result}var ne=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function le(){}return Pe.Children={map:W,forEach:function(F,re,fe){W(F,function(){re.apply(this,arguments)},fe)},count:function(F){var re=0;return W(F,function(){re++}),re},toArray:function(F){return W(F,function(re){return re})||[]},only:function(F){if(!k(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Pe.Component=T,Pe.Fragment=t,Pe.Profiler=r,Pe.PureComponent=N,Pe.StrictMode=n,Pe.Suspense=h,Pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Pe.__COMPILER_RUNTIME={__proto__:null,c:function(F){return H.H.useMemoCache(F)}},Pe.cache=function(F){return function(){return F.apply(null,arguments)}},Pe.cloneElement=function(F,re,fe){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var he=E({},F.props),be=F.key,Me=void 0;if(re!=null)for(Se in re.ref!==void 0&&(Me=void 0),re.key!==void 0&&(be=""+re.key),re)!K.call(re,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&re.ref===void 0||(he[Se]=re[Se]);var Se=arguments.length-2;if(Se===1)he.children=fe;else if(1<Se){for(var on=Array(Se),yt=0;yt<Se;yt++)on[yt]=arguments[yt+2];he.children=on}return M(F.type,be,void 0,void 0,Me,he)},Pe.createContext=function(F){return F={$$typeof:o,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:s,_context:F},F},Pe.createElement=function(F,re,fe){var he,be={},Me=null;if(re!=null)for(he in re.key!==void 0&&(Me=""+re.key),re)K.call(re,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(be[he]=re[he]);var Se=arguments.length-2;if(Se===1)be.children=fe;else if(1<Se){for(var on=Array(Se),yt=0;yt<Se;yt++)on[yt]=arguments[yt+2];be.children=on}if(F&&F.defaultProps)for(he in Se=F.defaultProps,Se)be[he]===void 0&&(be[he]=Se[he]);return M(F,Me,void 0,void 0,null,be)},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(F){return{$$typeof:c,render:F}},Pe.isValidElement=k,Pe.lazy=function(F){return{$$typeof:p,_payload:{_status:-1,_result:F},_init:ee}},Pe.memo=function(F,re){return{$$typeof:d,type:F,compare:re===void 0?null:re}},Pe.startTransition=function(F){var re=H.T,fe={};H.T=fe;try{var he=F(),be=H.S;be!==null&&be(fe,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(le,ne)}catch(Me){ne(Me)}finally{H.T=re}},Pe.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Pe.use=function(F){return H.H.use(F)},Pe.useActionState=function(F,re,fe){return H.H.useActionState(F,re,fe)},Pe.useCallback=function(F,re){return H.H.useCallback(F,re)},Pe.useContext=function(F){return H.H.useContext(F)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(F,re){return H.H.useDeferredValue(F,re)},Pe.useEffect=function(F,re,fe){var he=H.H;if(typeof fe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return he.useEffect(F,re)},Pe.useId=function(){return H.H.useId()},Pe.useImperativeHandle=function(F,re,fe){return H.H.useImperativeHandle(F,re,fe)},Pe.useInsertionEffect=function(F,re){return H.H.useInsertionEffect(F,re)},Pe.useLayoutEffect=function(F,re){return H.H.useLayoutEffect(F,re)},Pe.useMemo=function(F,re){return H.H.useMemo(F,re)},Pe.useOptimistic=function(F,re){return H.H.useOptimistic(F,re)},Pe.useReducer=function(F,re,fe){return H.H.useReducer(F,re,fe)},Pe.useRef=function(F){return H.H.useRef(F)},Pe.useState=function(F){return H.H.useState(F)},Pe.useSyncExternalStore=function(F,re,fe){return H.H.useSyncExternalStore(F,re,fe)},Pe.useTransition=function(){return H.H.useTransition()},Pe.version="19.1.1",Pe}var hS;function _b(){return hS||(hS=1,P_.exports=DO()),P_.exports}var P=_b();const ie=oC(P),lC=TO({__proto__:null,default:ie},[P]);var N_={exports:{}},dh={},L_={exports:{}},V_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dS;function CO(){return dS||(dS=1,(function(i){function e(W,ee){var ne=W.length;W.push(ee);e:for(;0<ne;){var le=ne-1>>>1,F=W[le];if(0<r(F,ee))W[le]=ee,W[ne]=F,ne=le;else break e}}function t(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var ee=W[0],ne=W.pop();if(ne!==ee){W[0]=ne;e:for(var le=0,F=W.length,re=F>>>1;le<re;){var fe=2*(le+1)-1,he=W[fe],be=fe+1,Me=W[be];if(0>r(he,ne))be<F&&0>r(Me,he)?(W[le]=Me,W[be]=ne,le=be):(W[le]=he,W[fe]=ne,le=fe);else if(be<F&&0>r(Me,ne))W[le]=Me,W[be]=ne,le=be;else break e}}return ee}function r(W,ee){var ne=W.sortIndex-ee.sortIndex;return ne!==0?ne:W.id-ee.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;i.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();i.unstable_now=function(){return o.now()-c}}var h=[],d=[],p=1,y=null,_=3,b=!1,E=!1,S=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function q(W){for(var ee=t(d);ee!==null;){if(ee.callback===null)n(d);else if(ee.startTime<=W)n(d),ee.sortIndex=ee.expirationTime,e(h,ee);else break;ee=t(d)}}function H(W){if(S=!1,q(W),!E)if(t(h)!==null)E=!0,K||(K=!0,U());else{var ee=t(d);ee!==null&&de(H,ee.startTime-W)}}var K=!1,M=-1,A=5,k=-1;function L(){return T?!0:!(i.unstable_now()-k<A)}function B(){if(T=!1,K){var W=i.unstable_now();k=W;var ee=!0;try{e:{E=!1,S&&(S=!1,N(M),M=-1),b=!0;var ne=_;try{t:{for(q(W),y=t(h);y!==null&&!(y.expirationTime>W&&L());){var le=y.callback;if(typeof le=="function"){y.callback=null,_=y.priorityLevel;var F=le(y.expirationTime<=W);if(W=i.unstable_now(),typeof F=="function"){y.callback=F,q(W),ee=!0;break t}y===t(h)&&n(h),q(W)}else n(h);y=t(h)}if(y!==null)ee=!0;else{var re=t(d);re!==null&&de(H,re.startTime-W),ee=!1}}break e}finally{y=null,_=ne,b=!1}ee=void 0}}finally{ee?U():K=!1}}}var U;if(typeof j=="function")U=function(){j(B)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,_e=V.port2;V.port1.onmessage=B,U=function(){_e.postMessage(null)}}else U=function(){C(B,0)};function de(W,ee){M=C(function(){W(i.unstable_now())},ee)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(W){W.callback=null},i.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<W?Math.floor(1e3/W):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_next=function(W){switch(_){case 1:case 2:case 3:var ee=3;break;default:ee=_}var ne=_;_=ee;try{return W()}finally{_=ne}},i.unstable_requestPaint=function(){T=!0},i.unstable_runWithPriority=function(W,ee){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ne=_;_=W;try{return ee()}finally{_=ne}},i.unstable_scheduleCallback=function(W,ee,ne){var le=i.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?le+ne:le):ne=le,W){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ne+F,W={id:p++,callback:ee,priorityLevel:W,startTime:ne,expirationTime:F,sortIndex:-1},ne>le?(W.sortIndex=ne,e(d,W),t(h)===null&&W===t(d)&&(S?(N(M),M=-1):S=!0,de(H,ne-le))):(W.sortIndex=F,e(h,W),E||b||(E=!0,K||(K=!0,U()))),W},i.unstable_shouldYield=L,i.unstable_wrapCallback=function(W){var ee=_;return function(){var ne=_;_=ee;try{return W.apply(this,arguments)}finally{_=ne}}}})(V_)),V_}var fS;function AO(){return fS||(fS=1,L_.exports=CO()),L_.exports}var B_={exports:{}},An={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pS;function RO(){if(pS)return An;pS=1;var i=_b();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(h,d,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:h,containerInfo:d,implementation:p}}var o=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,An.createPortal=function(h,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return s(h,d,null,p)},An.flushSync=function(h){var d=o.T,p=n.p;try{if(o.T=null,n.p=2,h)return h()}finally{o.T=d,n.p=p,n.d.f()}},An.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(h,d))},An.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},An.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var p=d.as,y=c(p,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?n.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:b}):p==="script"&&n.d.X(h,{crossOrigin:y,integrity:_,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},An.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);n.d.M(h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(h)},An.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,y=c(p,d.crossOrigin);n.d.L(h,p,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},An.preloadModule=function(h,d){if(typeof h=="string")if(d){var p=c(d.as,d.crossOrigin);n.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(h)},An.requestFormReset=function(h){n.d.r(h)},An.unstable_batchedUpdates=function(h,d){return h(d)},An.useFormState=function(h,d,p){return o.H.useFormState(h,d,p)},An.useFormStatus=function(){return o.H.useHostTransitionStatus()},An.version="19.1.1",An}var mS;function cC(){if(mS)return B_.exports;mS=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),B_.exports=RO(),B_.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gS;function kO(){if(gS)return dh;gS=1;var i=AO(),e=_b(),t=cC();function n(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var l=a,u=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(u=l.return),a=l.return;while(a)}return l.tag===3?u:null}function o(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function c(a){if(s(a)!==a)throw Error(n(188))}function h(a){var l=a.alternate;if(!l){if(l=s(a),l===null)throw Error(n(188));return l!==a?null:a}for(var u=a,f=l;;){var g=u.return;if(g===null)break;var v=g.alternate;if(v===null){if(f=g.return,f!==null){u=f;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===u)return c(g),a;if(v===f)return c(g),l;v=v.sibling}throw Error(n(188))}if(u.return!==f.return)u=g,f=v;else{for(var D=!1,R=g.child;R;){if(R===u){D=!0,u=g,f=v;break}if(R===f){D=!0,f=g,u=v;break}R=R.sibling}if(!D){for(R=v.child;R;){if(R===u){D=!0,u=v,f=g;break}if(R===f){D=!0,f=v,u=g;break}R=R.sibling}if(!D)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?a:l}function d(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=d(a),l!==null)return l;a=a.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),j=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function U(a){return a===null||typeof a!="object"?null:(a=B&&a[B]||a["@@iterator"],typeof a=="function"?a:null)}var V=Symbol.for("react.client.reference");function _e(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===V?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case T:return"Profiler";case S:return"StrictMode";case H:return"Suspense";case K:return"SuspenseList";case k:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case j:return(a.displayName||"Context")+".Provider";case N:return(a._context.displayName||"Context")+".Consumer";case q:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case M:return l=a.displayName||null,l!==null?l:_e(a.type)||"Memo";case A:l=a._payload,a=a._init;try{return _e(a(l))}catch{}}return null}var de=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},le=[],F=-1;function re(a){return{current:a}}function fe(a){0>F||(a.current=le[F],le[F]=null,F--)}function he(a,l){F++,le[F]=a.current,a.current=l}var be=re(null),Me=re(null),Se=re(null),on=re(null);function yt(a,l){switch(he(Se,l),he(Me,a),he(be,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?LT(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=LT(l),a=VT(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}fe(be),he(be,a)}function Ki(){fe(be),fe(Me),fe(Se)}function Vs(a){a.memoizedState!==null&&he(on,a);var l=be.current,u=VT(l,a.type);l!==u&&(he(Me,a),he(be,u))}function Lr(a){Me.current===a&&(fe(be),fe(Me)),on.current===a&&(fe(on),ah._currentValue=ne)}var Ga=Object.prototype.hasOwnProperty,$a=i.unstable_scheduleCallback,Qa=i.unstable_cancelCallback,iu=i.unstable_shouldYield,Nd=i.unstable_requestPaint,di=i.unstable_now,Og=i.unstable_getCurrentPriorityLevel,ru=i.unstable_ImmediatePriority,_l=i.unstable_UserBlockingPriority,Ka=i.unstable_NormalPriority,Pg=i.unstable_LowPriority,vl=i.unstable_IdlePriority,su=i.log,Ld=i.unstable_setDisableYieldValue,It=null,at=null;function Jn(a){if(typeof su=="function"&&Ld(a),at&&typeof at.setStrictMode=="function")try{at.setStrictMode(It,a)}catch{}}var Dn=Math.clz32?Math.clz32:Xa,Vd=Math.log,Ng=Math.LN2;function Xa(a){return a>>>=0,a===0?32:31-(Vd(a)/Ng|0)|0}var Za=256,Ja=4194304;function Ni(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function bl(a,l,u){var f=a.pendingLanes;if(f===0)return 0;var g=0,v=a.suspendedLanes,D=a.pingedLanes;a=a.warmLanes;var R=f&134217727;return R!==0?(f=R&~v,f!==0?g=Ni(f):(D&=R,D!==0?g=Ni(D):u||(u=R&~a,u!==0&&(g=Ni(u))))):(R=f&~v,R!==0?g=Ni(R):D!==0?g=Ni(D):u||(u=f&~a,u!==0&&(g=Ni(u)))),g===0?0:l!==0&&l!==g&&(l&v)===0&&(v=g&-g,u=l&-l,v>=u||v===32&&(u&4194048)!==0)?l:g}function eo(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function au(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ou(){var a=Za;return Za<<=1,(Za&4194048)===0&&(Za=256),a}function lu(){var a=Ja;return Ja<<=1,(Ja&62914560)===0&&(Ja=4194304),a}function Vr(a){for(var l=[],u=0;31>u;u++)l.push(a);return l}function Br(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function cu(a,l,u,f,g,v){var D=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var R=a.entanglements,z=a.expirationTimes,X=a.hiddenUpdates;for(u=D&~u;0<u;){var se=31-Dn(u),ce=1<<se;R[se]=0,z[se]=-1;var Z=X[se];if(Z!==null)for(X[se]=null,se=0;se<Z.length;se++){var J=Z[se];J!==null&&(J.lane&=-536870913)}u&=~ce}f!==0&&Xi(a,f,0),v!==0&&g===0&&a.tag!==0&&(a.suspendedLanes|=v&~(D&~l))}function Xi(a,l,u){a.pendingLanes|=l,a.suspendedLanes&=~l;var f=31-Dn(l);a.entangledLanes|=l,a.entanglements[f]=a.entanglements[f]|1073741824|u&4194090}function uu(a,l){var u=a.entangledLanes|=l;for(a=a.entanglements;u;){var f=31-Dn(u),g=1<<f;g&l|a[f]&l&&(a[f]|=l),u&=~g}}function Bs(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function wl(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Fs(){var a=ee.p;return a!==0?a:(a=window.event,a===void 0?32:nS(a.type))}function Bd(a,l){var u=ee.p;try{return ee.p=a,l()}finally{ee.p=u}}var Tt=Math.random().toString(36).slice(2),Jt="__reactFiber$"+Tt,qt="__reactProps$"+Tt,fi="__reactContainer$"+Tt,hu="__reactEvents$"+Tt,Lg="__reactListeners$"+Tt,Us="__reactHandles$"+Tt,Fd="__reactResources$"+Tt,to="__reactMarker$"+Tt;function js(a){delete a[Jt],delete a[qt],delete a[hu],delete a[Lg],delete a[Us]}function Fr(a){var l=a[Jt];if(l)return l;for(var u=a.parentNode;u;){if(l=u[fi]||u[Jt]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(a=jT(a);a!==null;){if(u=a[Jt])return u;a=jT(a)}return l}a=u,u=a.parentNode}return null}function Zi(a){if(a=a[Jt]||a[fi]){var l=a.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return a}return null}function Ji(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(n(33))}function Fn(a){var l=a[Fd];return l||(l=a[Fd]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Vt(a){a[to]=!0}var du=new Set,El={};function Li(a,l){Ur(a,l),Ur(a+"Capture",l)}function Ur(a,l){for(El[a]=l,a=0;a<l.length;a++)du.add(l[a])}var Ud=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jd={},no={};function zd(a){return Ga.call(no,a)?!0:Ga.call(jd,a)?!1:Ud.test(a)?no[a]=!0:(jd[a]=!0,!1)}function zs(a,l,u){if(zd(l))if(u===null)a.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var f=l.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+u)}}function er(a,l,u){if(u===null)a.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+u)}}function gn(a,l,u,f){if(f===null)a.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(l,u,""+f)}}var io,Hd;function jr(a){if(io===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);io=l&&l[1]||"",Hd=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+io+a+Hd}var Tl=!1;function Sl(a,l){if(!a||Tl)return"";Tl=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(l){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(J){var Z=J}Reflect.construct(a,[],ce)}else{try{ce.call()}catch(J){Z=J}a.call(ce.prototype)}}else{try{throw Error()}catch(J){Z=J}(ce=a())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(J){if(J&&Z&&typeof J.stack=="string")return[J.stack,Z.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=f.DetermineComponentFrameRoot(),D=v[0],R=v[1];if(D&&R){var z=D.split(`
`),X=R.split(`
`);for(g=f=0;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;for(;g<X.length&&!X[g].includes("DetermineComponentFrameRoot");)g++;if(f===z.length||g===X.length)for(f=z.length-1,g=X.length-1;1<=f&&0<=g&&z[f]!==X[g];)g--;for(;1<=f&&0<=g;f--,g--)if(z[f]!==X[g]){if(f!==1||g!==1)do if(f--,g--,0>g||z[f]!==X[g]){var se=`
`+z[f].replace(" at new "," at ");return a.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",a.displayName)),se}while(1<=f&&0<=g);break}}}finally{Tl=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?jr(u):""}function fu(a){switch(a.tag){case 26:case 27:case 5:return jr(a.type);case 16:return jr("Lazy");case 13:return jr("Suspense");case 19:return jr("SuspenseList");case 0:case 15:return Sl(a.type,!1);case 11:return Sl(a.type.render,!1);case 1:return Sl(a.type,!0);case 31:return jr("Activity");default:return""}}function xl(a){try{var l="";do l+=fu(a),a=a.return;while(a);return l}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Un(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function pu(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Vg(a){var l=pu(a)?"checked":"value",u=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),f=""+a[l];if(!a.hasOwnProperty(l)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,v=u.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return g.call(this)},set:function(D){f=""+D,v.call(this,D)}}),Object.defineProperty(a,l,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(D){f=""+D},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Dl(a){a._valueTracker||(a._valueTracker=Vg(a))}function mu(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var u=l.getValue(),f="";return a&&(f=pu(a)?a.checked?"true":"false":a.value),a=f,a!==u?(l.setValue(a),!0):!1}function ro(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Bg=/[\n"\\]/g;function Wt(a){return a.replace(Bg,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function ei(a,l,u,f,g,v,D,R){a.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?a.type=D:a.removeAttribute("type"),l!=null?D==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+Un(l)):a.value!==""+Un(l)&&(a.value=""+Un(l)):D!=="submit"&&D!=="reset"||a.removeAttribute("value"),l!=null?Hs(a,D,Un(l)):u!=null?Hs(a,D,Un(u)):f!=null&&a.removeAttribute("value"),g==null&&v!=null&&(a.defaultChecked=!!v),g!=null&&(a.checked=g&&typeof g!="function"&&typeof g!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?a.name=""+Un(R):a.removeAttribute("name")}function so(a,l,u,f,g,v,D,R){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(a.type=v),l!=null||u!=null){if(!(v!=="submit"&&v!=="reset"||l!=null))return;u=u!=null?""+Un(u):"",l=l!=null?""+Un(l):u,R||l===a.value||(a.value=l),a.defaultValue=l}f=f??g,f=typeof f!="function"&&typeof f!="symbol"&&!!f,a.checked=R?a.checked:!!f,a.defaultChecked=!!f,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(a.name=D)}function Hs(a,l,u){l==="number"&&ro(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function zr(a,l,u,f){if(a=a.options,l){l={};for(var g=0;g<u.length;g++)l["$"+u[g]]=!0;for(u=0;u<a.length;u++)g=l.hasOwnProperty("$"+a[u].value),a[u].selected!==g&&(a[u].selected=g),g&&f&&(a[u].defaultSelected=!0)}else{for(u=""+Un(u),l=null,g=0;g<a.length;g++){if(a[g].value===u){a[g].selected=!0,f&&(a[g].defaultSelected=!0);return}l!==null||a[g].disabled||(l=a[g])}l!==null&&(l.selected=!0)}}function dt(a,l,u){if(l!=null&&(l=""+Un(l),l!==a.value&&(a.value=l),u==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=u!=null?""+Un(u):""}function ao(a,l,u,f){if(l==null){if(f!=null){if(u!=null)throw Error(n(92));if(de(f)){if(1<f.length)throw Error(n(93));f=f[0]}u=f}u==null&&(u=""),l=u}u=Un(l),a.defaultValue=u,f=a.textContent,f===u&&f!==""&&f!==null&&(a.value=f)}function pi(a,l){if(l){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=l;return}}a.textContent=l}var oo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yd(a,l,u){var f=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":f?a.setProperty(l,u):typeof u!="number"||u===0||oo.has(l)?l==="float"?a.cssFloat=u:a[l]=(""+u).trim():a[l]=u+"px"}function gu(a,l,u){if(l!=null&&typeof l!="object")throw Error(n(62));if(a=a.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||l!=null&&l.hasOwnProperty(f)||(f.indexOf("--")===0?a.setProperty(f,""):f==="float"?a.cssFloat="":a[f]="");for(var g in l)f=l[g],l.hasOwnProperty(g)&&u[g]!==f&&Yd(a,g,f)}else for(var v in l)l.hasOwnProperty(v)&&Yd(a,v,l[v])}function yu(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ug=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cl(a){return Ug.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var Hr=null;function mi(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Yr=null,qr=null;function _u(a){var l=Zi(a);if(l&&(a=l.stateNode)){var u=a[qt]||null;e:switch(a=l.stateNode,l.type){case"input":if(ei(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Wt(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var f=u[l];if(f!==a&&f.form===a.form){var g=f[qt]||null;if(!g)throw Error(n(90));ei(f,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(l=0;l<u.length;l++)f=u[l],f.form===a.form&&mu(f)}break e;case"textarea":dt(a,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&zr(a,!!u.multiple,l,!1)}}}var tr=!1;function qd(a,l,u){if(tr)return a(l,u);tr=!0;try{var f=a(l);return f}finally{if(tr=!1,(Yr!==null||qr!==null)&&(Ff(),Yr&&(l=Yr,a=qr,qr=Yr=null,_u(l),a)))for(l=0;l<a.length;l++)_u(a[l])}}function lo(a,l){var u=a.stateNode;if(u===null)return null;var f=u[qt]||null;if(f===null)return null;u=f[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(a=a.type,f=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!f;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(n(231,l,typeof u));return u}var Vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gi=!1;if(Vi)try{var co={};Object.defineProperty(co,"passive",{get:function(){gi=!0}}),window.addEventListener("test",co,co),window.removeEventListener("test",co,co)}catch{gi=!1}var nr=null,Ys=null,Wr=null;function vu(){if(Wr)return Wr;var a,l=Ys,u=l.length,f,g="value"in nr?nr.value:nr.textContent,v=g.length;for(a=0;a<u&&l[a]===g[a];a++);var D=u-a;for(f=1;f<=D&&l[u-f]===g[v-f];f++);return Wr=g.slice(a,1<f?1-f:void 0)}function ir(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function rr(){return!0}function bu(){return!1}function ln(a){function l(u,f,g,v,D){this._reactName=u,this._targetInst=g,this.type=f,this.nativeEvent=v,this.target=D,this.currentTarget=null;for(var R in a)a.hasOwnProperty(R)&&(u=a[R],this[R]=u?u(v):v[R]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?rr:bu,this.isPropagationStopped=bu,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),l}var it={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Al=ln(it),uo=p({},it,{view:0,detail:0}),Wd=ln(uo),Rl,kl,sr,ho=p({},uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mo,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==sr&&(sr&&a.type==="mousemove"?(Rl=a.screenX-sr.screenX,kl=a.screenY-sr.screenY):kl=Rl=0,sr=a),Rl)},movementY:function(a){return"movementY"in a?a.movementY:kl}}),yi=ln(ho),Gd=p({},ho,{dataTransfer:0}),jg=ln(Gd),fo=p({},uo,{relatedTarget:0}),Ml=ln(fo),wu=p({},it,{animationName:0,elapsedTime:0,pseudoElement:0}),Il=ln(wu),$d=p({},it,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Ol=ln($d),zg=p({},it,{data:0}),Eu=ln(zg),po={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=Kd[a])?!!l[a]:!1}function mo(){return Tu}var Xd=p({},uo,{key:function(a){if(a.key){var l=po[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=ir(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Qd[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mo,charCode:function(a){return a.type==="keypress"?ir(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ir(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Pl=ln(Xd),Zd=p({},ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Su=ln(Zd),Gr=p({},uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mo}),Jd=ln(Gr),ef=p({},it,{propertyName:0,elapsedTime:0,pseudoElement:0}),tf=ln(ef),nf=p({},ho,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Nl=ln(nf),jn=p({},it,{newState:0,oldState:0}),rf=ln(jn),sf=[9,13,27,32],ar=Vi&&"CompositionEvent"in window,m=null;Vi&&"documentMode"in document&&(m=document.documentMode);var w=Vi&&"TextEvent"in window&&!m,x=Vi&&(!ar||m&&8<m&&11>=m),I=" ",$=!1;function te(a,l){switch(a){case"keyup":return sf.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pe(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var qe=!1;function en(a,l){switch(a){case"compositionend":return pe(l);case"keypress":return l.which!==32?null:($=!0,I);case"textInput":return a=l.data,a===I&&$?null:a;default:return null}}function We(a,l){if(qe)return a==="compositionend"||!ar&&te(a,l)?(a=vu(),Wr=Ys=nr=null,qe=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return x&&l.locale!=="ko"?null:l.data;default:return null}}var cn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tn(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!cn[a.type]:l==="textarea"}function $r(a,l,u,f){Yr?qr?qr.push(f):qr=[f]:Yr=f,l=qf(l,"onChange"),0<l.length&&(u=new Al("onChange","change",null,u,f),a.push({event:u,listeners:l}))}var yn=null,or=null;function xu(a){MT(a,0)}function af(a){var l=Ji(a);if(mu(l))return a}function Z0(a,l){if(a==="change")return l}var J0=!1;if(Vi){var Hg;if(Vi){var Yg="oninput"in document;if(!Yg){var ew=document.createElement("div");ew.setAttribute("oninput","return;"),Yg=typeof ew.oninput=="function"}Hg=Yg}else Hg=!1;J0=Hg&&(!document.documentMode||9<document.documentMode)}function tw(){yn&&(yn.detachEvent("onpropertychange",nw),or=yn=null)}function nw(a){if(a.propertyName==="value"&&af(or)){var l=[];$r(l,or,a,mi(a)),qd(xu,l)}}function JM(a,l,u){a==="focusin"?(tw(),yn=l,or=u,yn.attachEvent("onpropertychange",nw)):a==="focusout"&&tw()}function eI(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return af(or)}function tI(a,l){if(a==="click")return af(l)}function nI(a,l){if(a==="input"||a==="change")return af(l)}function iI(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var ti=typeof Object.is=="function"?Object.is:iI;function Du(a,l){if(ti(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var u=Object.keys(a),f=Object.keys(l);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var g=u[f];if(!Ga.call(l,g)||!ti(a[g],l[g]))return!1}return!0}function iw(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function rw(a,l){var u=iw(a);a=0;for(var f;u;){if(u.nodeType===3){if(f=a+u.textContent.length,a<=l&&f>=l)return{node:u,offset:l-a};a=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=iw(u)}}function sw(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?sw(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function aw(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=ro(a.document);l instanceof a.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)a=l.contentWindow;else break;l=ro(a.document)}return l}function qg(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var rI=Vi&&"documentMode"in document&&11>=document.documentMode,Ll=null,Wg=null,Cu=null,Gg=!1;function ow(a,l,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Gg||Ll==null||Ll!==ro(f)||(f=Ll,"selectionStart"in f&&qg(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Cu&&Du(Cu,f)||(Cu=f,f=qf(Wg,"onSelect"),0<f.length&&(l=new Al("onSelect","select",null,l,u),a.push({event:l,listeners:f}),l.target=Ll)))}function go(a,l){var u={};return u[a.toLowerCase()]=l.toLowerCase(),u["Webkit"+a]="webkit"+l,u["Moz"+a]="moz"+l,u}var Vl={animationend:go("Animation","AnimationEnd"),animationiteration:go("Animation","AnimationIteration"),animationstart:go("Animation","AnimationStart"),transitionrun:go("Transition","TransitionRun"),transitionstart:go("Transition","TransitionStart"),transitioncancel:go("Transition","TransitionCancel"),transitionend:go("Transition","TransitionEnd")},$g={},lw={};Vi&&(lw=document.createElement("div").style,"AnimationEvent"in window||(delete Vl.animationend.animation,delete Vl.animationiteration.animation,delete Vl.animationstart.animation),"TransitionEvent"in window||delete Vl.transitionend.transition);function yo(a){if($g[a])return $g[a];if(!Vl[a])return a;var l=Vl[a],u;for(u in l)if(l.hasOwnProperty(u)&&u in lw)return $g[a]=l[u];return a}var cw=yo("animationend"),uw=yo("animationiteration"),hw=yo("animationstart"),sI=yo("transitionrun"),aI=yo("transitionstart"),oI=yo("transitioncancel"),dw=yo("transitionend"),fw=new Map,Qg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qg.push("scrollEnd");function Bi(a,l){fw.set(a,l),Li(l,[a])}var pw=new WeakMap;function _i(a,l){if(typeof a=="object"&&a!==null){var u=pw.get(a);return u!==void 0?u:(l={value:a,source:l,stack:xl(l)},pw.set(a,l),l)}return{value:a,source:l,stack:xl(l)}}var vi=[],Bl=0,Kg=0;function of(){for(var a=Bl,l=Kg=Bl=0;l<a;){var u=vi[l];vi[l++]=null;var f=vi[l];vi[l++]=null;var g=vi[l];vi[l++]=null;var v=vi[l];if(vi[l++]=null,f!==null&&g!==null){var D=f.pending;D===null?g.next=g:(g.next=D.next,D.next=g),f.pending=g}v!==0&&mw(u,g,v)}}function lf(a,l,u,f){vi[Bl++]=a,vi[Bl++]=l,vi[Bl++]=u,vi[Bl++]=f,Kg|=f,a.lanes|=f,a=a.alternate,a!==null&&(a.lanes|=f)}function Xg(a,l,u,f){return lf(a,l,u,f),cf(a)}function Fl(a,l){return lf(a,null,null,l),cf(a)}function mw(a,l,u){a.lanes|=u;var f=a.alternate;f!==null&&(f.lanes|=u);for(var g=!1,v=a.return;v!==null;)v.childLanes|=u,f=v.alternate,f!==null&&(f.childLanes|=u),v.tag===22&&(a=v.stateNode,a===null||a._visibility&1||(g=!0)),a=v,v=v.return;return a.tag===3?(v=a.stateNode,g&&l!==null&&(g=31-Dn(u),a=v.hiddenUpdates,f=a[g],f===null?a[g]=[l]:f.push(l),l.lane=u|536870912),v):null}function cf(a){if(50<Zu)throw Zu=0,i_=null,Error(n(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var Ul={};function lI(a,l,u,f){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ni(a,l,u,f){return new lI(a,l,u,f)}function Zg(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Qr(a,l){var u=a.alternate;return u===null?(u=ni(a.tag,l,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=l,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,l=a.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function gw(a,l){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,l=u.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function uf(a,l,u,f,g,v){var D=0;if(f=a,typeof a=="function")Zg(a)&&(D=1);else if(typeof a=="string")D=uO(a,u,be.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case k:return a=ni(31,u,l,g),a.elementType=k,a.lanes=v,a;case E:return _o(u.children,g,v,l);case S:D=8,g|=24;break;case T:return a=ni(12,u,l,g|2),a.elementType=T,a.lanes=v,a;case H:return a=ni(13,u,l,g),a.elementType=H,a.lanes=v,a;case K:return a=ni(19,u,l,g),a.elementType=K,a.lanes=v,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case C:case j:D=10;break e;case N:D=9;break e;case q:D=11;break e;case M:D=14;break e;case A:D=16,f=null;break e}D=29,u=Error(n(130,a===null?"null":typeof a,"")),f=null}return l=ni(D,u,l,g),l.elementType=a,l.type=f,l.lanes=v,l}function _o(a,l,u,f){return a=ni(7,a,f,l),a.lanes=u,a}function Jg(a,l,u){return a=ni(6,a,null,l),a.lanes=u,a}function ey(a,l,u){return l=ni(4,a.children!==null?a.children:[],a.key,l),l.lanes=u,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var jl=[],zl=0,hf=null,df=0,bi=[],wi=0,vo=null,Kr=1,Xr="";function bo(a,l){jl[zl++]=df,jl[zl++]=hf,hf=a,df=l}function yw(a,l,u){bi[wi++]=Kr,bi[wi++]=Xr,bi[wi++]=vo,vo=a;var f=Kr;a=Xr;var g=32-Dn(f)-1;f&=~(1<<g),u+=1;var v=32-Dn(l)+g;if(30<v){var D=g-g%5;v=(f&(1<<D)-1).toString(32),f>>=D,g-=D,Kr=1<<32-Dn(l)+g|u<<g|f,Xr=v+a}else Kr=1<<v|u<<g|f,Xr=a}function ty(a){a.return!==null&&(bo(a,1),yw(a,1,0))}function ny(a){for(;a===hf;)hf=jl[--zl],jl[zl]=null,df=jl[--zl],jl[zl]=null;for(;a===vo;)vo=bi[--wi],bi[wi]=null,Xr=bi[--wi],bi[wi]=null,Kr=bi[--wi],bi[wi]=null}var zn=null,Ot=null,et=!1,wo=null,lr=!1,iy=Error(n(519));function Eo(a){var l=Error(n(418,""));throw ku(_i(l,a)),iy}function _w(a){var l=a.stateNode,u=a.type,f=a.memoizedProps;switch(l[Jt]=a,l[qt]=f,u){case"dialog":Fe("cancel",l),Fe("close",l);break;case"iframe":case"object":case"embed":Fe("load",l);break;case"video":case"audio":for(u=0;u<eh.length;u++)Fe(eh[u],l);break;case"source":Fe("error",l);break;case"img":case"image":case"link":Fe("error",l),Fe("load",l);break;case"details":Fe("toggle",l);break;case"input":Fe("invalid",l),so(l,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Dl(l);break;case"select":Fe("invalid",l);break;case"textarea":Fe("invalid",l),ao(l,f.value,f.defaultValue,f.children),Dl(l)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||f.suppressHydrationWarning===!0||NT(l.textContent,u)?(f.popover!=null&&(Fe("beforetoggle",l),Fe("toggle",l)),f.onScroll!=null&&Fe("scroll",l),f.onScrollEnd!=null&&Fe("scrollend",l),f.onClick!=null&&(l.onclick=Wf),l=!0):l=!1,l||Eo(a)}function vw(a){for(zn=a.return;zn;)switch(zn.tag){case 5:case 13:lr=!1;return;case 27:case 3:lr=!0;return;default:zn=zn.return}}function Au(a){if(a!==zn)return!1;if(!et)return vw(a),et=!0,!1;var l=a.tag,u;if((u=l!==3&&l!==27)&&((u=l===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||v_(a.type,a.memoizedProps)),u=!u),u&&Ot&&Eo(a),vw(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8)if(u=a.data,u==="/$"){if(l===0){Ot=Ui(a.nextSibling);break e}l--}else u!=="$"&&u!=="$!"&&u!=="$?"||l++;a=a.nextSibling}Ot=null}}else l===27?(l=Ot,aa(a.type)?(a=T_,T_=null,Ot=a):Ot=l):Ot=zn?Ui(a.stateNode.nextSibling):null;return!0}function Ru(){Ot=zn=null,et=!1}function bw(){var a=wo;return a!==null&&(Gn===null?Gn=a:Gn.push.apply(Gn,a),wo=null),a}function ku(a){wo===null?wo=[a]:wo.push(a)}var ry=re(null),To=null,Zr=null;function qs(a,l,u){he(ry,l._currentValue),l._currentValue=u}function Jr(a){a._currentValue=ry.current,fe(ry)}function sy(a,l,u){for(;a!==null;){var f=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,f!==null&&(f.childLanes|=l)):f!==null&&(f.childLanes&l)!==l&&(f.childLanes|=l),a===u)break;a=a.return}}function ay(a,l,u,f){var g=a.child;for(g!==null&&(g.return=a);g!==null;){var v=g.dependencies;if(v!==null){var D=g.child;v=v.firstContext;e:for(;v!==null;){var R=v;v=g;for(var z=0;z<l.length;z++)if(R.context===l[z]){v.lanes|=u,R=v.alternate,R!==null&&(R.lanes|=u),sy(v.return,u,a),f||(D=null);break e}v=R.next}}else if(g.tag===18){if(D=g.return,D===null)throw Error(n(341));D.lanes|=u,v=D.alternate,v!==null&&(v.lanes|=u),sy(D,u,a),D=null}else D=g.child;if(D!==null)D.return=g;else for(D=g;D!==null;){if(D===a){D=null;break}if(g=D.sibling,g!==null){g.return=D.return,D=g;break}D=D.return}g=D}}function Mu(a,l,u,f){a=null;for(var g=l,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var D=g.alternate;if(D===null)throw Error(n(387));if(D=D.memoizedProps,D!==null){var R=g.type;ti(g.pendingProps.value,D.value)||(a!==null?a.push(R):a=[R])}}else if(g===on.current){if(D=g.alternate,D===null)throw Error(n(387));D.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(a!==null?a.push(ah):a=[ah])}g=g.return}a!==null&&ay(l,a,u,f),l.flags|=262144}function ff(a){for(a=a.firstContext;a!==null;){if(!ti(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function So(a){To=a,Zr=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Cn(a){return ww(To,a)}function pf(a,l){return To===null&&So(a),ww(a,l)}function ww(a,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},Zr===null){if(a===null)throw Error(n(308));Zr=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else Zr=Zr.next=l;return u}var cI=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(u,f){a.push(f)}};this.abort=function(){l.aborted=!0,a.forEach(function(u){return u()})}},uI=i.unstable_scheduleCallback,hI=i.unstable_NormalPriority,nn={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oy(){return{controller:new cI,data:new Map,refCount:0}}function Iu(a){a.refCount--,a.refCount===0&&uI(hI,function(){a.controller.abort()})}var Ou=null,ly=0,Hl=0,Yl=null;function dI(a,l){if(Ou===null){var u=Ou=[];ly=0,Hl=u_(),Yl={status:"pending",value:void 0,then:function(f){u.push(f)}}}return ly++,l.then(Ew,Ew),l}function Ew(){if(--ly===0&&Ou!==null){Yl!==null&&(Yl.status="fulfilled");var a=Ou;Ou=null,Hl=0,Yl=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function fI(a,l){var u=[],f={status:"pending",value:null,reason:null,then:function(g){u.push(g)}};return a.then(function(){f.status="fulfilled",f.value=l;for(var g=0;g<u.length;g++)(0,u[g])(l)},function(g){for(f.status="rejected",f.reason=g,g=0;g<u.length;g++)(0,u[g])(void 0)}),f}var Tw=W.S;W.S=function(a,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&dI(a,l),Tw!==null&&Tw(a,l)};var xo=re(null);function cy(){var a=xo.current;return a!==null?a:_t.pooledCache}function mf(a,l){l===null?he(xo,xo.current):he(xo,l.pool)}function Sw(){var a=cy();return a===null?null:{parent:nn._currentValue,pool:a}}var Pu=Error(n(460)),xw=Error(n(474)),gf=Error(n(542)),uy={then:function(){}};function Dw(a){return a=a.status,a==="fulfilled"||a==="rejected"}function yf(){}function Cw(a,l,u){switch(u=a[u],u===void 0?a.push(l):u!==l&&(l.then(yf,yf),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,Rw(a),a;default:if(typeof l.status=="string")l.then(yf,yf);else{if(a=_t,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=l,a.status="pending",a.then(function(f){if(l.status==="pending"){var g=l;g.status="fulfilled",g.value=f}},function(f){if(l.status==="pending"){var g=l;g.status="rejected",g.reason=f}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,Rw(a),a}throw Nu=l,Pu}}var Nu=null;function Aw(){if(Nu===null)throw Error(n(459));var a=Nu;return Nu=null,a}function Rw(a){if(a===Pu||a===gf)throw Error(n(483))}var Ws=!1;function hy(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dy(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Gs(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function $s(a,l,u){var f=a.updateQueue;if(f===null)return null;if(f=f.shared,(ot&2)!==0){var g=f.pending;return g===null?l.next=l:(l.next=g.next,g.next=l),f.pending=l,l=cf(a),mw(a,null,u),l}return lf(a,f,l,u),cf(a)}function Lu(a,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194048)!==0)){var f=l.lanes;f&=a.pendingLanes,u|=f,l.lanes=u,uu(a,u)}}function fy(a,l){var u=a.updateQueue,f=a.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var g=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var D={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};v===null?g=v=D:v=v.next=D,u=u.next}while(u!==null);v===null?g=v=l:v=v.next=l}else g=v=l;u={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:f.shared,callbacks:f.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=l}var py=!1;function Vu(){if(py){var a=Yl;if(a!==null)throw a}}function Bu(a,l,u,f){py=!1;var g=a.updateQueue;Ws=!1;var v=g.firstBaseUpdate,D=g.lastBaseUpdate,R=g.shared.pending;if(R!==null){g.shared.pending=null;var z=R,X=z.next;z.next=null,D===null?v=X:D.next=X,D=z;var se=a.alternate;se!==null&&(se=se.updateQueue,R=se.lastBaseUpdate,R!==D&&(R===null?se.firstBaseUpdate=X:R.next=X,se.lastBaseUpdate=z))}if(v!==null){var ce=g.baseState;D=0,se=X=z=null,R=v;do{var Z=R.lane&-536870913,J=Z!==R.lane;if(J?(Ge&Z)===Z:(f&Z)===Z){Z!==0&&Z===Hl&&(py=!0),se!==null&&(se=se.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Re=a,xe=R;Z=l;var mt=u;switch(xe.tag){case 1:if(Re=xe.payload,typeof Re=="function"){ce=Re.call(mt,ce,Z);break e}ce=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=xe.payload,Z=typeof Re=="function"?Re.call(mt,ce,Z):Re,Z==null)break e;ce=p({},ce,Z);break e;case 2:Ws=!0}}Z=R.callback,Z!==null&&(a.flags|=64,J&&(a.flags|=8192),J=g.callbacks,J===null?g.callbacks=[Z]:J.push(Z))}else J={lane:Z,tag:R.tag,payload:R.payload,callback:R.callback,next:null},se===null?(X=se=J,z=ce):se=se.next=J,D|=Z;if(R=R.next,R===null){if(R=g.shared.pending,R===null)break;J=R,R=J.next,J.next=null,g.lastBaseUpdate=J,g.shared.pending=null}}while(!0);se===null&&(z=ce),g.baseState=z,g.firstBaseUpdate=X,g.lastBaseUpdate=se,v===null&&(g.shared.lanes=0),na|=D,a.lanes=D,a.memoizedState=ce}}function kw(a,l){if(typeof a!="function")throw Error(n(191,a));a.call(l)}function Mw(a,l){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)kw(u[a],l)}var ql=re(null),_f=re(0);function Iw(a,l){a=as,he(_f,a),he(ql,l),as=a|l.baseLanes}function my(){he(_f,as),he(ql,ql.current)}function gy(){as=_f.current,fe(ql),fe(_f)}var Qs=0,Ne=null,ft=null,Gt=null,vf=!1,Wl=!1,Do=!1,bf=0,Fu=0,Gl=null,pI=0;function Bt(){throw Error(n(321))}function yy(a,l){if(l===null)return!1;for(var u=0;u<l.length&&u<a.length;u++)if(!ti(a[u],l[u]))return!1;return!0}function _y(a,l,u,f,g,v){return Qs=v,Ne=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,W.H=a===null||a.memoizedState===null?mE:gE,Do=!1,v=u(f,g),Do=!1,Wl&&(v=Pw(l,u,f,g)),Ow(a),v}function Ow(a){W.H=Df;var l=ft!==null&&ft.next!==null;if(Qs=0,Gt=ft=Ne=null,vf=!1,Fu=0,Gl=null,l)throw Error(n(300));a===null||un||(a=a.dependencies,a!==null&&ff(a)&&(un=!0))}function Pw(a,l,u,f){Ne=a;var g=0;do{if(Wl&&(Gl=null),Fu=0,Wl=!1,25<=g)throw Error(n(301));if(g+=1,Gt=ft=null,a.updateQueue!=null){var v=a.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}W.H=wI,v=l(u,f)}while(Wl);return v}function mI(){var a=W.H,l=a.useState()[0];return l=typeof l.then=="function"?Uu(l):l,a=a.useState()[0],(ft!==null?ft.memoizedState:null)!==a&&(Ne.flags|=1024),l}function vy(){var a=bf!==0;return bf=0,a}function by(a,l,u){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~u}function wy(a){if(vf){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}vf=!1}Qs=0,Gt=ft=Ne=null,Wl=!1,Fu=bf=0,Gl=null}function qn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?Ne.memoizedState=Gt=a:Gt=Gt.next=a,Gt}function $t(){if(ft===null){var a=Ne.alternate;a=a!==null?a.memoizedState:null}else a=ft.next;var l=Gt===null?Ne.memoizedState:Gt.next;if(l!==null)Gt=l,ft=a;else{if(a===null)throw Ne.alternate===null?Error(n(467)):Error(n(310));ft=a,a={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},Gt===null?Ne.memoizedState=Gt=a:Gt=Gt.next=a}return Gt}function Ey(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Uu(a){var l=Fu;return Fu+=1,Gl===null&&(Gl=[]),a=Cw(Gl,a,l),l=Ne,(Gt===null?l.memoizedState:Gt.next)===null&&(l=l.alternate,W.H=l===null||l.memoizedState===null?mE:gE),a}function wf(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Uu(a);if(a.$$typeof===j)return Cn(a)}throw Error(n(438,String(a)))}function Ty(a){var l=null,u=Ne.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var f=Ne.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(l={data:f.data.map(function(g){return g.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=Ey(),Ne.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(a),f=0;f<a;f++)u[f]=L;return l.index++,u}function es(a,l){return typeof l=="function"?l(a):l}function Ef(a){var l=$t();return Sy(l,ft,a)}function Sy(a,l,u){var f=a.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=u;var g=a.baseQueue,v=f.pending;if(v!==null){if(g!==null){var D=g.next;g.next=v.next,v.next=D}l.baseQueue=g=v,f.pending=null}if(v=a.baseState,g===null)a.memoizedState=v;else{l=g.next;var R=D=null,z=null,X=l,se=!1;do{var ce=X.lane&-536870913;if(ce!==X.lane?(Ge&ce)===ce:(Qs&ce)===ce){var Z=X.revertLane;if(Z===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ce===Hl&&(se=!0);else if((Qs&Z)===Z){X=X.next,Z===Hl&&(se=!0);continue}else ce={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},z===null?(R=z=ce,D=v):z=z.next=ce,Ne.lanes|=Z,na|=Z;ce=X.action,Do&&u(v,ce),v=X.hasEagerState?X.eagerState:u(v,ce)}else Z={lane:ce,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},z===null?(R=z=Z,D=v):z=z.next=Z,Ne.lanes|=ce,na|=ce;X=X.next}while(X!==null&&X!==l);if(z===null?D=v:z.next=R,!ti(v,a.memoizedState)&&(un=!0,se&&(u=Yl,u!==null)))throw u;a.memoizedState=v,a.baseState=D,a.baseQueue=z,f.lastRenderedState=v}return g===null&&(f.lanes=0),[a.memoizedState,f.dispatch]}function xy(a){var l=$t(),u=l.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=a;var f=u.dispatch,g=u.pending,v=l.memoizedState;if(g!==null){u.pending=null;var D=g=g.next;do v=a(v,D.action),D=D.next;while(D!==g);ti(v,l.memoizedState)||(un=!0),l.memoizedState=v,l.baseQueue===null&&(l.baseState=v),u.lastRenderedState=v}return[v,f]}function Nw(a,l,u){var f=Ne,g=$t(),v=et;if(v){if(u===void 0)throw Error(n(407));u=u()}else u=l();var D=!ti((ft||g).memoizedState,u);D&&(g.memoizedState=u,un=!0),g=g.queue;var R=Bw.bind(null,f,g,a);if(ju(2048,8,R,[a]),g.getSnapshot!==l||D||Gt!==null&&Gt.memoizedState.tag&1){if(f.flags|=2048,$l(9,Tf(),Vw.bind(null,f,g,u,l),null),_t===null)throw Error(n(349));v||(Qs&124)!==0||Lw(f,l,u)}return u}function Lw(a,l,u){a.flags|=16384,a={getSnapshot:l,value:u},l=Ne.updateQueue,l===null?(l=Ey(),Ne.updateQueue=l,l.stores=[a]):(u=l.stores,u===null?l.stores=[a]:u.push(a))}function Vw(a,l,u,f){l.value=u,l.getSnapshot=f,Fw(l)&&Uw(a)}function Bw(a,l,u){return u(function(){Fw(l)&&Uw(a)})}function Fw(a){var l=a.getSnapshot;a=a.value;try{var u=l();return!ti(a,u)}catch{return!0}}function Uw(a){var l=Fl(a,2);l!==null&&oi(l,a,2)}function Dy(a){var l=qn();if(typeof a=="function"){var u=a;if(a=u(),Do){Jn(!0);try{u()}finally{Jn(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:a},l}function jw(a,l,u,f){return a.baseState=u,Sy(a,ft,typeof f=="function"?f:es)}function gI(a,l,u,f,g){if(xf(a))throw Error(n(485));if(a=l.action,a!==null){var v={payload:g,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){v.listeners.push(D)}};W.T!==null?u(!0):v.isTransition=!1,f(v),u=l.pending,u===null?(v.next=l.pending=v,zw(l,v)):(v.next=u.next,l.pending=u.next=v)}}function zw(a,l){var u=l.action,f=l.payload,g=a.state;if(l.isTransition){var v=W.T,D={};W.T=D;try{var R=u(g,f),z=W.S;z!==null&&z(D,R),Hw(a,l,R)}catch(X){Cy(a,l,X)}finally{W.T=v}}else try{v=u(g,f),Hw(a,l,v)}catch(X){Cy(a,l,X)}}function Hw(a,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){Yw(a,l,f)},function(f){return Cy(a,l,f)}):Yw(a,l,u)}function Yw(a,l,u){l.status="fulfilled",l.value=u,qw(l),a.state=u,l=a.pending,l!==null&&(u=l.next,u===l?a.pending=null:(u=u.next,l.next=u,zw(a,u)))}function Cy(a,l,u){var f=a.pending;if(a.pending=null,f!==null){f=f.next;do l.status="rejected",l.reason=u,qw(l),l=l.next;while(l!==f)}a.action=null}function qw(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function Ww(a,l){return l}function Gw(a,l){if(et){var u=_t.formState;if(u!==null){e:{var f=Ne;if(et){if(Ot){t:{for(var g=Ot,v=lr;g.nodeType!==8;){if(!v){g=null;break t}if(g=Ui(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){Ot=Ui(g.nextSibling),f=g.data==="F!";break e}}Eo(f)}f=!1}f&&(l=u[0])}}return u=qn(),u.memoizedState=u.baseState=l,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ww,lastRenderedState:l},u.queue=f,u=dE.bind(null,Ne,f),f.dispatch=u,f=Dy(!1),v=Iy.bind(null,Ne,!1,f.queue),f=qn(),g={state:l,dispatch:null,action:a,pending:null},f.queue=g,u=gI.bind(null,Ne,g,v,u),g.dispatch=u,f.memoizedState=a,[l,u,!1]}function $w(a){var l=$t();return Qw(l,ft,a)}function Qw(a,l,u){if(l=Sy(a,l,Ww)[0],a=Ef(es)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var f=Uu(l)}catch(D){throw D===Pu?gf:D}else f=l;l=$t();var g=l.queue,v=g.dispatch;return u!==l.memoizedState&&(Ne.flags|=2048,$l(9,Tf(),yI.bind(null,g,u),null)),[f,v,a]}function yI(a,l){a.action=l}function Kw(a){var l=$t(),u=ft;if(u!==null)return Qw(l,u,a);$t(),l=l.memoizedState,u=$t();var f=u.queue.dispatch;return u.memoizedState=a,[l,f,!1]}function $l(a,l,u,f){return a={tag:a,create:u,deps:f,inst:l,next:null},l=Ne.updateQueue,l===null&&(l=Ey(),Ne.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=a.next=a:(f=u.next,u.next=a,a.next=f,l.lastEffect=a),a}function Tf(){return{destroy:void 0,resource:void 0}}function Xw(){return $t().memoizedState}function Sf(a,l,u,f){var g=qn();f=f===void 0?null:f,Ne.flags|=a,g.memoizedState=$l(1|l,Tf(),u,f)}function ju(a,l,u,f){var g=$t();f=f===void 0?null:f;var v=g.memoizedState.inst;ft!==null&&f!==null&&yy(f,ft.memoizedState.deps)?g.memoizedState=$l(l,v,u,f):(Ne.flags|=a,g.memoizedState=$l(1|l,v,u,f))}function Zw(a,l){Sf(8390656,8,a,l)}function Jw(a,l){ju(2048,8,a,l)}function eE(a,l){return ju(4,2,a,l)}function tE(a,l){return ju(4,4,a,l)}function nE(a,l){if(typeof l=="function"){a=a();var u=l(a);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function iE(a,l,u){u=u!=null?u.concat([a]):null,ju(4,4,nE.bind(null,l,a),u)}function Ay(){}function rE(a,l){var u=$t();l=l===void 0?null:l;var f=u.memoizedState;return l!==null&&yy(l,f[1])?f[0]:(u.memoizedState=[a,l],a)}function sE(a,l){var u=$t();l=l===void 0?null:l;var f=u.memoizedState;if(l!==null&&yy(l,f[1]))return f[0];if(f=a(),Do){Jn(!0);try{a()}finally{Jn(!1)}}return u.memoizedState=[f,l],f}function Ry(a,l,u){return u===void 0||(Qs&1073741824)!==0?a.memoizedState=l:(a.memoizedState=u,a=lT(),Ne.lanes|=a,na|=a,u)}function aE(a,l,u,f){return ti(u,l)?u:ql.current!==null?(a=Ry(a,u,f),ti(a,l)||(un=!0),a):(Qs&42)===0?(un=!0,a.memoizedState=u):(a=lT(),Ne.lanes|=a,na|=a,l)}function oE(a,l,u,f,g){var v=ee.p;ee.p=v!==0&&8>v?v:8;var D=W.T,R={};W.T=R,Iy(a,!1,l,u);try{var z=g(),X=W.S;if(X!==null&&X(R,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var se=fI(z,f);zu(a,l,se,ai(a))}else zu(a,l,f,ai(a))}catch(ce){zu(a,l,{then:function(){},status:"rejected",reason:ce},ai())}finally{ee.p=v,W.T=D}}function _I(){}function ky(a,l,u,f){if(a.tag!==5)throw Error(n(476));var g=lE(a).queue;oE(a,g,l,ne,u===null?_I:function(){return cE(a),u(f)})}function lE(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:ne},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:u},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function cE(a){var l=lE(a).next.queue;zu(a,l,{},ai())}function My(){return Cn(ah)}function uE(){return $t().memoizedState}function hE(){return $t().memoizedState}function vI(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var u=ai();a=Gs(u);var f=$s(l,a,u);f!==null&&(oi(f,l,u),Lu(f,l,u)),l={cache:oy()},a.payload=l;return}l=l.return}}function bI(a,l,u){var f=ai();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},xf(a)?fE(l,u):(u=Xg(a,l,u,f),u!==null&&(oi(u,a,f),pE(u,l,f)))}function dE(a,l,u){var f=ai();zu(a,l,u,f)}function zu(a,l,u,f){var g={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(xf(a))fE(l,g);else{var v=a.alternate;if(a.lanes===0&&(v===null||v.lanes===0)&&(v=l.lastRenderedReducer,v!==null))try{var D=l.lastRenderedState,R=v(D,u);if(g.hasEagerState=!0,g.eagerState=R,ti(R,D))return lf(a,l,g,0),_t===null&&of(),!1}catch{}finally{}if(u=Xg(a,l,g,f),u!==null)return oi(u,a,f),pE(u,l,f),!0}return!1}function Iy(a,l,u,f){if(f={lane:2,revertLane:u_(),action:f,hasEagerState:!1,eagerState:null,next:null},xf(a)){if(l)throw Error(n(479))}else l=Xg(a,u,f,2),l!==null&&oi(l,a,2)}function xf(a){var l=a.alternate;return a===Ne||l!==null&&l===Ne}function fE(a,l){Wl=vf=!0;var u=a.pending;u===null?l.next=l:(l.next=u.next,u.next=l),a.pending=l}function pE(a,l,u){if((u&4194048)!==0){var f=l.lanes;f&=a.pendingLanes,u|=f,l.lanes=u,uu(a,u)}}var Df={readContext:Cn,use:wf,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useLayoutEffect:Bt,useInsertionEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useSyncExternalStore:Bt,useId:Bt,useHostTransitionStatus:Bt,useFormState:Bt,useActionState:Bt,useOptimistic:Bt,useMemoCache:Bt,useCacheRefresh:Bt},mE={readContext:Cn,use:wf,useCallback:function(a,l){return qn().memoizedState=[a,l===void 0?null:l],a},useContext:Cn,useEffect:Zw,useImperativeHandle:function(a,l,u){u=u!=null?u.concat([a]):null,Sf(4194308,4,nE.bind(null,l,a),u)},useLayoutEffect:function(a,l){return Sf(4194308,4,a,l)},useInsertionEffect:function(a,l){Sf(4,2,a,l)},useMemo:function(a,l){var u=qn();l=l===void 0?null:l;var f=a();if(Do){Jn(!0);try{a()}finally{Jn(!1)}}return u.memoizedState=[f,l],f},useReducer:function(a,l,u){var f=qn();if(u!==void 0){var g=u(l);if(Do){Jn(!0);try{u(l)}finally{Jn(!1)}}}else g=l;return f.memoizedState=f.baseState=g,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:g},f.queue=a,a=a.dispatch=bI.bind(null,Ne,a),[f.memoizedState,a]},useRef:function(a){var l=qn();return a={current:a},l.memoizedState=a},useState:function(a){a=Dy(a);var l=a.queue,u=dE.bind(null,Ne,l);return l.dispatch=u,[a.memoizedState,u]},useDebugValue:Ay,useDeferredValue:function(a,l){var u=qn();return Ry(u,a,l)},useTransition:function(){var a=Dy(!1);return a=oE.bind(null,Ne,a.queue,!0,!1),qn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,u){var f=Ne,g=qn();if(et){if(u===void 0)throw Error(n(407));u=u()}else{if(u=l(),_t===null)throw Error(n(349));(Ge&124)!==0||Lw(f,l,u)}g.memoizedState=u;var v={value:u,getSnapshot:l};return g.queue=v,Zw(Bw.bind(null,f,v,a),[a]),f.flags|=2048,$l(9,Tf(),Vw.bind(null,f,v,u,l),null),u},useId:function(){var a=qn(),l=_t.identifierPrefix;if(et){var u=Xr,f=Kr;u=(f&~(1<<32-Dn(f)-1)).toString(32)+u,l=""+l+"R"+u,u=bf++,0<u&&(l+="H"+u.toString(32)),l+=""}else u=pI++,l=""+l+"r"+u.toString(32)+"";return a.memoizedState=l},useHostTransitionStatus:My,useFormState:Gw,useActionState:Gw,useOptimistic:function(a){var l=qn();l.memoizedState=l.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=Iy.bind(null,Ne,!0,u),u.dispatch=l,[a,l]},useMemoCache:Ty,useCacheRefresh:function(){return qn().memoizedState=vI.bind(null,Ne)}},gE={readContext:Cn,use:wf,useCallback:rE,useContext:Cn,useEffect:Jw,useImperativeHandle:iE,useInsertionEffect:eE,useLayoutEffect:tE,useMemo:sE,useReducer:Ef,useRef:Xw,useState:function(){return Ef(es)},useDebugValue:Ay,useDeferredValue:function(a,l){var u=$t();return aE(u,ft.memoizedState,a,l)},useTransition:function(){var a=Ef(es)[0],l=$t().memoizedState;return[typeof a=="boolean"?a:Uu(a),l]},useSyncExternalStore:Nw,useId:uE,useHostTransitionStatus:My,useFormState:$w,useActionState:$w,useOptimistic:function(a,l){var u=$t();return jw(u,ft,a,l)},useMemoCache:Ty,useCacheRefresh:hE},wI={readContext:Cn,use:wf,useCallback:rE,useContext:Cn,useEffect:Jw,useImperativeHandle:iE,useInsertionEffect:eE,useLayoutEffect:tE,useMemo:sE,useReducer:xy,useRef:Xw,useState:function(){return xy(es)},useDebugValue:Ay,useDeferredValue:function(a,l){var u=$t();return ft===null?Ry(u,a,l):aE(u,ft.memoizedState,a,l)},useTransition:function(){var a=xy(es)[0],l=$t().memoizedState;return[typeof a=="boolean"?a:Uu(a),l]},useSyncExternalStore:Nw,useId:uE,useHostTransitionStatus:My,useFormState:Kw,useActionState:Kw,useOptimistic:function(a,l){var u=$t();return ft!==null?jw(u,ft,a,l):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:Ty,useCacheRefresh:hE},Ql=null,Hu=0;function Cf(a){var l=Hu;return Hu+=1,Ql===null&&(Ql=[]),Cw(Ql,a,l)}function Yu(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function Af(a,l){throw l.$$typeof===y?Error(n(525)):(a=Object.prototype.toString.call(l),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function yE(a){var l=a._init;return l(a._payload)}function _E(a){function l(G,Y){if(a){var Q=G.deletions;Q===null?(G.deletions=[Y],G.flags|=16):Q.push(Y)}}function u(G,Y){if(!a)return null;for(;Y!==null;)l(G,Y),Y=Y.sibling;return null}function f(G){for(var Y=new Map;G!==null;)G.key!==null?Y.set(G.key,G):Y.set(G.index,G),G=G.sibling;return Y}function g(G,Y){return G=Qr(G,Y),G.index=0,G.sibling=null,G}function v(G,Y,Q){return G.index=Q,a?(Q=G.alternate,Q!==null?(Q=Q.index,Q<Y?(G.flags|=67108866,Y):Q):(G.flags|=67108866,Y)):(G.flags|=1048576,Y)}function D(G){return a&&G.alternate===null&&(G.flags|=67108866),G}function R(G,Y,Q,ae){return Y===null||Y.tag!==6?(Y=Jg(Q,G.mode,ae),Y.return=G,Y):(Y=g(Y,Q),Y.return=G,Y)}function z(G,Y,Q,ae){var ve=Q.type;return ve===E?se(G,Y,Q.props.children,ae,Q.key):Y!==null&&(Y.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&yE(ve)===Y.type)?(Y=g(Y,Q.props),Yu(Y,Q),Y.return=G,Y):(Y=uf(Q.type,Q.key,Q.props,null,G.mode,ae),Yu(Y,Q),Y.return=G,Y)}function X(G,Y,Q,ae){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==Q.containerInfo||Y.stateNode.implementation!==Q.implementation?(Y=ey(Q,G.mode,ae),Y.return=G,Y):(Y=g(Y,Q.children||[]),Y.return=G,Y)}function se(G,Y,Q,ae,ve){return Y===null||Y.tag!==7?(Y=_o(Q,G.mode,ae,ve),Y.return=G,Y):(Y=g(Y,Q),Y.return=G,Y)}function ce(G,Y,Q){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Jg(""+Y,G.mode,Q),Y.return=G,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case _:return Q=uf(Y.type,Y.key,Y.props,null,G.mode,Q),Yu(Q,Y),Q.return=G,Q;case b:return Y=ey(Y,G.mode,Q),Y.return=G,Y;case A:var ae=Y._init;return Y=ae(Y._payload),ce(G,Y,Q)}if(de(Y)||U(Y))return Y=_o(Y,G.mode,Q,null),Y.return=G,Y;if(typeof Y.then=="function")return ce(G,Cf(Y),Q);if(Y.$$typeof===j)return ce(G,pf(G,Y),Q);Af(G,Y)}return null}function Z(G,Y,Q,ae){var ve=Y!==null?Y.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return ve!==null?null:R(G,Y,""+Q,ae);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case _:return Q.key===ve?z(G,Y,Q,ae):null;case b:return Q.key===ve?X(G,Y,Q,ae):null;case A:return ve=Q._init,Q=ve(Q._payload),Z(G,Y,Q,ae)}if(de(Q)||U(Q))return ve!==null?null:se(G,Y,Q,ae,null);if(typeof Q.then=="function")return Z(G,Y,Cf(Q),ae);if(Q.$$typeof===j)return Z(G,Y,pf(G,Q),ae);Af(G,Q)}return null}function J(G,Y,Q,ae,ve){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return G=G.get(Q)||null,R(Y,G,""+ae,ve);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case _:return G=G.get(ae.key===null?Q:ae.key)||null,z(Y,G,ae,ve);case b:return G=G.get(ae.key===null?Q:ae.key)||null,X(Y,G,ae,ve);case A:var Ve=ae._init;return ae=Ve(ae._payload),J(G,Y,Q,ae,ve)}if(de(ae)||U(ae))return G=G.get(Q)||null,se(Y,G,ae,ve,null);if(typeof ae.then=="function")return J(G,Y,Q,Cf(ae),ve);if(ae.$$typeof===j)return J(G,Y,Q,pf(Y,ae),ve);Af(Y,ae)}return null}function Re(G,Y,Q,ae){for(var ve=null,Ve=null,Ee=Y,De=Y=0,dn=null;Ee!==null&&De<Q.length;De++){Ee.index>De?(dn=Ee,Ee=null):dn=Ee.sibling;var Ze=Z(G,Ee,Q[De],ae);if(Ze===null){Ee===null&&(Ee=dn);break}a&&Ee&&Ze.alternate===null&&l(G,Ee),Y=v(Ze,Y,De),Ve===null?ve=Ze:Ve.sibling=Ze,Ve=Ze,Ee=dn}if(De===Q.length)return u(G,Ee),et&&bo(G,De),ve;if(Ee===null){for(;De<Q.length;De++)Ee=ce(G,Q[De],ae),Ee!==null&&(Y=v(Ee,Y,De),Ve===null?ve=Ee:Ve.sibling=Ee,Ve=Ee);return et&&bo(G,De),ve}for(Ee=f(Ee);De<Q.length;De++)dn=J(Ee,G,De,Q[De],ae),dn!==null&&(a&&dn.alternate!==null&&Ee.delete(dn.key===null?De:dn.key),Y=v(dn,Y,De),Ve===null?ve=dn:Ve.sibling=dn,Ve=dn);return a&&Ee.forEach(function(ha){return l(G,ha)}),et&&bo(G,De),ve}function xe(G,Y,Q,ae){if(Q==null)throw Error(n(151));for(var ve=null,Ve=null,Ee=Y,De=Y=0,dn=null,Ze=Q.next();Ee!==null&&!Ze.done;De++,Ze=Q.next()){Ee.index>De?(dn=Ee,Ee=null):dn=Ee.sibling;var ha=Z(G,Ee,Ze.value,ae);if(ha===null){Ee===null&&(Ee=dn);break}a&&Ee&&ha.alternate===null&&l(G,Ee),Y=v(ha,Y,De),Ve===null?ve=ha:Ve.sibling=ha,Ve=ha,Ee=dn}if(Ze.done)return u(G,Ee),et&&bo(G,De),ve;if(Ee===null){for(;!Ze.done;De++,Ze=Q.next())Ze=ce(G,Ze.value,ae),Ze!==null&&(Y=v(Ze,Y,De),Ve===null?ve=Ze:Ve.sibling=Ze,Ve=Ze);return et&&bo(G,De),ve}for(Ee=f(Ee);!Ze.done;De++,Ze=Q.next())Ze=J(Ee,G,De,Ze.value,ae),Ze!==null&&(a&&Ze.alternate!==null&&Ee.delete(Ze.key===null?De:Ze.key),Y=v(Ze,Y,De),Ve===null?ve=Ze:Ve.sibling=Ze,Ve=Ze);return a&&Ee.forEach(function(EO){return l(G,EO)}),et&&bo(G,De),ve}function mt(G,Y,Q,ae){if(typeof Q=="object"&&Q!==null&&Q.type===E&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case _:e:{for(var ve=Q.key;Y!==null;){if(Y.key===ve){if(ve=Q.type,ve===E){if(Y.tag===7){u(G,Y.sibling),ae=g(Y,Q.props.children),ae.return=G,G=ae;break e}}else if(Y.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&yE(ve)===Y.type){u(G,Y.sibling),ae=g(Y,Q.props),Yu(ae,Q),ae.return=G,G=ae;break e}u(G,Y);break}else l(G,Y);Y=Y.sibling}Q.type===E?(ae=_o(Q.props.children,G.mode,ae,Q.key),ae.return=G,G=ae):(ae=uf(Q.type,Q.key,Q.props,null,G.mode,ae),Yu(ae,Q),ae.return=G,G=ae)}return D(G);case b:e:{for(ve=Q.key;Y!==null;){if(Y.key===ve)if(Y.tag===4&&Y.stateNode.containerInfo===Q.containerInfo&&Y.stateNode.implementation===Q.implementation){u(G,Y.sibling),ae=g(Y,Q.children||[]),ae.return=G,G=ae;break e}else{u(G,Y);break}else l(G,Y);Y=Y.sibling}ae=ey(Q,G.mode,ae),ae.return=G,G=ae}return D(G);case A:return ve=Q._init,Q=ve(Q._payload),mt(G,Y,Q,ae)}if(de(Q))return Re(G,Y,Q,ae);if(U(Q)){if(ve=U(Q),typeof ve!="function")throw Error(n(150));return Q=ve.call(Q),xe(G,Y,Q,ae)}if(typeof Q.then=="function")return mt(G,Y,Cf(Q),ae);if(Q.$$typeof===j)return mt(G,Y,pf(G,Q),ae);Af(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,Y!==null&&Y.tag===6?(u(G,Y.sibling),ae=g(Y,Q),ae.return=G,G=ae):(u(G,Y),ae=Jg(Q,G.mode,ae),ae.return=G,G=ae),D(G)):u(G,Y)}return function(G,Y,Q,ae){try{Hu=0;var ve=mt(G,Y,Q,ae);return Ql=null,ve}catch(Ee){if(Ee===Pu||Ee===gf)throw Ee;var Ve=ni(29,Ee,null,G.mode);return Ve.lanes=ae,Ve.return=G,Ve}finally{}}}var Kl=_E(!0),vE=_E(!1),Ei=re(null),cr=null;function Ks(a){var l=a.alternate;he(rn,rn.current&1),he(Ei,a),cr===null&&(l===null||ql.current!==null||l.memoizedState!==null)&&(cr=a)}function bE(a){if(a.tag===22){if(he(rn,rn.current),he(Ei,a),cr===null){var l=a.alternate;l!==null&&l.memoizedState!==null&&(cr=a)}}else Xs()}function Xs(){he(rn,rn.current),he(Ei,Ei.current)}function ts(a){fe(Ei),cr===a&&(cr=null),fe(rn)}var rn=re(0);function Rf(a){for(var l=a;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||E_(u)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function Oy(a,l,u,f){l=a.memoizedState,u=u(f,l),u=u==null?l:p({},l,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Py={enqueueSetState:function(a,l,u){a=a._reactInternals;var f=ai(),g=Gs(f);g.payload=l,u!=null&&(g.callback=u),l=$s(a,g,f),l!==null&&(oi(l,a,f),Lu(l,a,f))},enqueueReplaceState:function(a,l,u){a=a._reactInternals;var f=ai(),g=Gs(f);g.tag=1,g.payload=l,u!=null&&(g.callback=u),l=$s(a,g,f),l!==null&&(oi(l,a,f),Lu(l,a,f))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var u=ai(),f=Gs(u);f.tag=2,l!=null&&(f.callback=l),l=$s(a,f,u),l!==null&&(oi(l,a,u),Lu(l,a,u))}};function wE(a,l,u,f,g,v,D){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(f,v,D):l.prototype&&l.prototype.isPureReactComponent?!Du(u,f)||!Du(g,v):!0}function EE(a,l,u,f){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,f),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,f),l.state!==a&&Py.enqueueReplaceState(l,l.state,null)}function Co(a,l){var u=l;if("ref"in l){u={};for(var f in l)f!=="ref"&&(u[f]=l[f])}if(a=a.defaultProps){u===l&&(u=p({},u));for(var g in a)u[g]===void 0&&(u[g]=a[g])}return u}var kf=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function TE(a){kf(a)}function SE(a){console.error(a)}function xE(a){kf(a)}function Mf(a,l){try{var u=a.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(f){setTimeout(function(){throw f})}}function DE(a,l,u){try{var f=a.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Ny(a,l,u){return u=Gs(u),u.tag=3,u.payload={element:null},u.callback=function(){Mf(a,l)},u}function CE(a){return a=Gs(a),a.tag=3,a}function AE(a,l,u,f){var g=u.type.getDerivedStateFromError;if(typeof g=="function"){var v=f.value;a.payload=function(){return g(v)},a.callback=function(){DE(l,u,f)}}var D=u.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(a.callback=function(){DE(l,u,f),typeof g!="function"&&(ia===null?ia=new Set([this]):ia.add(this));var R=f.stack;this.componentDidCatch(f.value,{componentStack:R!==null?R:""})})}function EI(a,l,u,f,g){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(l=u.alternate,l!==null&&Mu(l,u,g,!0),u=Ei.current,u!==null){switch(u.tag){case 13:return cr===null?s_():u.alternate===null&&Pt===0&&(Pt=3),u.flags&=-257,u.flags|=65536,u.lanes=g,f===uy?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([f]):l.add(f),o_(a,f,g)),!1;case 22:return u.flags|=65536,f===uy?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([f]):u.add(f)),o_(a,f,g)),!1}throw Error(n(435,u.tag))}return o_(a,f,g),s_(),!1}if(et)return l=Ei.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=g,f!==iy&&(a=Error(n(422),{cause:f}),ku(_i(a,u)))):(f!==iy&&(l=Error(n(423),{cause:f}),ku(_i(l,u))),a=a.current.alternate,a.flags|=65536,g&=-g,a.lanes|=g,f=_i(f,u),g=Ny(a.stateNode,f,g),fy(a,g),Pt!==4&&(Pt=2)),!1;var v=Error(n(520),{cause:f});if(v=_i(v,u),Xu===null?Xu=[v]:Xu.push(v),Pt!==4&&(Pt=2),l===null)return!0;f=_i(f,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,a=g&-g,u.lanes|=a,a=Ny(u.stateNode,f,a),fy(u,a),!1;case 1:if(l=u.type,v=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(ia===null||!ia.has(v))))return u.flags|=65536,g&=-g,u.lanes|=g,g=CE(g),AE(g,a,u,f),fy(u,g),!1}u=u.return}while(u!==null);return!1}var RE=Error(n(461)),un=!1;function _n(a,l,u,f){l.child=a===null?vE(l,null,u,f):Kl(l,a.child,u,f)}function kE(a,l,u,f,g){u=u.render;var v=l.ref;if("ref"in f){var D={};for(var R in f)R!=="ref"&&(D[R]=f[R])}else D=f;return So(l),f=_y(a,l,u,D,v,g),R=vy(),a!==null&&!un?(by(a,l,g),ns(a,l,g)):(et&&R&&ty(l),l.flags|=1,_n(a,l,f,g),l.child)}function ME(a,l,u,f,g){if(a===null){var v=u.type;return typeof v=="function"&&!Zg(v)&&v.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=v,IE(a,l,v,f,g)):(a=uf(u.type,null,f,l,l.mode,g),a.ref=l.ref,a.return=l,l.child=a)}if(v=a.child,!Hy(a,g)){var D=v.memoizedProps;if(u=u.compare,u=u!==null?u:Du,u(D,f)&&a.ref===l.ref)return ns(a,l,g)}return l.flags|=1,a=Qr(v,f),a.ref=l.ref,a.return=l,l.child=a}function IE(a,l,u,f,g){if(a!==null){var v=a.memoizedProps;if(Du(v,f)&&a.ref===l.ref)if(un=!1,l.pendingProps=f=v,Hy(a,g))(a.flags&131072)!==0&&(un=!0);else return l.lanes=a.lanes,ns(a,l,g)}return Ly(a,l,u,f,g)}function OE(a,l,u){var f=l.pendingProps,g=f.children,v=a!==null?a.memoizedState:null;if(f.mode==="hidden"){if((l.flags&128)!==0){if(f=v!==null?v.baseLanes|u:u,a!==null){for(g=l.child=a.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;l.childLanes=v&~f}else l.childLanes=0,l.child=null;return PE(a,l,f,u)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&mf(l,v!==null?v.cachePool:null),v!==null?Iw(l,v):my(),bE(l);else return l.lanes=l.childLanes=536870912,PE(a,l,v!==null?v.baseLanes|u:u,u)}else v!==null?(mf(l,v.cachePool),Iw(l,v),Xs(),l.memoizedState=null):(a!==null&&mf(l,null),my(),Xs());return _n(a,l,g,u),l.child}function PE(a,l,u,f){var g=cy();return g=g===null?null:{parent:nn._currentValue,pool:g},l.memoizedState={baseLanes:u,cachePool:g},a!==null&&mf(l,null),my(),bE(l),a!==null&&Mu(a,l,f,!0),null}function If(a,l){var u=l.ref;if(u===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(a===null||a.ref!==u)&&(l.flags|=4194816)}}function Ly(a,l,u,f,g){return So(l),u=_y(a,l,u,f,void 0,g),f=vy(),a!==null&&!un?(by(a,l,g),ns(a,l,g)):(et&&f&&ty(l),l.flags|=1,_n(a,l,u,g),l.child)}function NE(a,l,u,f,g,v){return So(l),l.updateQueue=null,u=Pw(l,f,u,g),Ow(a),f=vy(),a!==null&&!un?(by(a,l,v),ns(a,l,v)):(et&&f&&ty(l),l.flags|=1,_n(a,l,u,v),l.child)}function LE(a,l,u,f,g){if(So(l),l.stateNode===null){var v=Ul,D=u.contextType;typeof D=="object"&&D!==null&&(v=Cn(D)),v=new u(f,v),l.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Py,l.stateNode=v,v._reactInternals=l,v=l.stateNode,v.props=f,v.state=l.memoizedState,v.refs={},hy(l),D=u.contextType,v.context=typeof D=="object"&&D!==null?Cn(D):Ul,v.state=l.memoizedState,D=u.getDerivedStateFromProps,typeof D=="function"&&(Oy(l,u,D,f),v.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(D=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),D!==v.state&&Py.enqueueReplaceState(v,v.state,null),Bu(l,f,v,g),Vu(),v.state=l.memoizedState),typeof v.componentDidMount=="function"&&(l.flags|=4194308),f=!0}else if(a===null){v=l.stateNode;var R=l.memoizedProps,z=Co(u,R);v.props=z;var X=v.context,se=u.contextType;D=Ul,typeof se=="object"&&se!==null&&(D=Cn(se));var ce=u.getDerivedStateFromProps;se=typeof ce=="function"||typeof v.getSnapshotBeforeUpdate=="function",R=l.pendingProps!==R,se||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(R||X!==D)&&EE(l,v,f,D),Ws=!1;var Z=l.memoizedState;v.state=Z,Bu(l,f,v,g),Vu(),X=l.memoizedState,R||Z!==X||Ws?(typeof ce=="function"&&(Oy(l,u,ce,f),X=l.memoizedState),(z=Ws||wE(l,u,z,f,Z,X,D))?(se||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(l.flags|=4194308)):(typeof v.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=f,l.memoizedState=X),v.props=f,v.state=X,v.context=D,f=z):(typeof v.componentDidMount=="function"&&(l.flags|=4194308),f=!1)}else{v=l.stateNode,dy(a,l),D=l.memoizedProps,se=Co(u,D),v.props=se,ce=l.pendingProps,Z=v.context,X=u.contextType,z=Ul,typeof X=="object"&&X!==null&&(z=Cn(X)),R=u.getDerivedStateFromProps,(X=typeof R=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(D!==ce||Z!==z)&&EE(l,v,f,z),Ws=!1,Z=l.memoizedState,v.state=Z,Bu(l,f,v,g),Vu();var J=l.memoizedState;D!==ce||Z!==J||Ws||a!==null&&a.dependencies!==null&&ff(a.dependencies)?(typeof R=="function"&&(Oy(l,u,R,f),J=l.memoizedState),(se=Ws||wE(l,u,se,f,Z,J,z)||a!==null&&a.dependencies!==null&&ff(a.dependencies))?(X||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(f,J,z),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(f,J,z)),typeof v.componentDidUpdate=="function"&&(l.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof v.componentDidUpdate!="function"||D===a.memoizedProps&&Z===a.memoizedState||(l.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||D===a.memoizedProps&&Z===a.memoizedState||(l.flags|=1024),l.memoizedProps=f,l.memoizedState=J),v.props=f,v.state=J,v.context=z,f=se):(typeof v.componentDidUpdate!="function"||D===a.memoizedProps&&Z===a.memoizedState||(l.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||D===a.memoizedProps&&Z===a.memoizedState||(l.flags|=1024),f=!1)}return v=f,If(a,l),f=(l.flags&128)!==0,v||f?(v=l.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:v.render(),l.flags|=1,a!==null&&f?(l.child=Kl(l,a.child,null,g),l.child=Kl(l,null,u,g)):_n(a,l,u,g),l.memoizedState=v.state,a=l.child):a=ns(a,l,g),a}function VE(a,l,u,f){return Ru(),l.flags|=256,_n(a,l,u,f),l.child}var Vy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function By(a){return{baseLanes:a,cachePool:Sw()}}function Fy(a,l,u){return a=a!==null?a.childLanes&~u:0,l&&(a|=Ti),a}function BE(a,l,u){var f=l.pendingProps,g=!1,v=(l.flags&128)!==0,D;if((D=v)||(D=a!==null&&a.memoizedState===null?!1:(rn.current&2)!==0),D&&(g=!0,l.flags&=-129),D=(l.flags&32)!==0,l.flags&=-33,a===null){if(et){if(g?Ks(l):Xs(),et){var R=Ot,z;if(z=R){e:{for(z=R,R=lr;z.nodeType!==8;){if(!R){R=null;break e}if(z=Ui(z.nextSibling),z===null){R=null;break e}}R=z}R!==null?(l.memoizedState={dehydrated:R,treeContext:vo!==null?{id:Kr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},z=ni(18,null,null,0),z.stateNode=R,z.return=l,l.child=z,zn=l,Ot=null,z=!0):z=!1}z||Eo(l)}if(R=l.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return E_(R)?l.lanes=32:l.lanes=536870912,null;ts(l)}return R=f.children,f=f.fallback,g?(Xs(),g=l.mode,R=Of({mode:"hidden",children:R},g),f=_o(f,g,u,null),R.return=l,f.return=l,R.sibling=f,l.child=R,g=l.child,g.memoizedState=By(u),g.childLanes=Fy(a,D,u),l.memoizedState=Vy,f):(Ks(l),Uy(l,R))}if(z=a.memoizedState,z!==null&&(R=z.dehydrated,R!==null)){if(v)l.flags&256?(Ks(l),l.flags&=-257,l=jy(a,l,u)):l.memoizedState!==null?(Xs(),l.child=a.child,l.flags|=128,l=null):(Xs(),g=f.fallback,R=l.mode,f=Of({mode:"visible",children:f.children},R),g=_o(g,R,u,null),g.flags|=2,f.return=l,g.return=l,f.sibling=g,l.child=f,Kl(l,a.child,null,u),f=l.child,f.memoizedState=By(u),f.childLanes=Fy(a,D,u),l.memoizedState=Vy,l=g);else if(Ks(l),E_(R)){if(D=R.nextSibling&&R.nextSibling.dataset,D)var X=D.dgst;D=X,f=Error(n(419)),f.stack="",f.digest=D,ku({value:f,source:null,stack:null}),l=jy(a,l,u)}else if(un||Mu(a,l,u,!1),D=(u&a.childLanes)!==0,un||D){if(D=_t,D!==null&&(f=u&-u,f=(f&42)!==0?1:Bs(f),f=(f&(D.suspendedLanes|u))!==0?0:f,f!==0&&f!==z.retryLane))throw z.retryLane=f,Fl(a,f),oi(D,a,f),RE;R.data==="$?"||s_(),l=jy(a,l,u)}else R.data==="$?"?(l.flags|=192,l.child=a.child,l=null):(a=z.treeContext,Ot=Ui(R.nextSibling),zn=l,et=!0,wo=null,lr=!1,a!==null&&(bi[wi++]=Kr,bi[wi++]=Xr,bi[wi++]=vo,Kr=a.id,Xr=a.overflow,vo=l),l=Uy(l,f.children),l.flags|=4096);return l}return g?(Xs(),g=f.fallback,R=l.mode,z=a.child,X=z.sibling,f=Qr(z,{mode:"hidden",children:f.children}),f.subtreeFlags=z.subtreeFlags&65011712,X!==null?g=Qr(X,g):(g=_o(g,R,u,null),g.flags|=2),g.return=l,f.return=l,f.sibling=g,l.child=f,f=g,g=l.child,R=a.child.memoizedState,R===null?R=By(u):(z=R.cachePool,z!==null?(X=nn._currentValue,z=z.parent!==X?{parent:X,pool:X}:z):z=Sw(),R={baseLanes:R.baseLanes|u,cachePool:z}),g.memoizedState=R,g.childLanes=Fy(a,D,u),l.memoizedState=Vy,f):(Ks(l),u=a.child,a=u.sibling,u=Qr(u,{mode:"visible",children:f.children}),u.return=l,u.sibling=null,a!==null&&(D=l.deletions,D===null?(l.deletions=[a],l.flags|=16):D.push(a)),l.child=u,l.memoizedState=null,u)}function Uy(a,l){return l=Of({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function Of(a,l){return a=ni(22,a,null,l),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function jy(a,l,u){return Kl(l,a.child,null,u),a=Uy(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function FE(a,l,u){a.lanes|=l;var f=a.alternate;f!==null&&(f.lanes|=l),sy(a.return,l,u)}function zy(a,l,u,f,g){var v=a.memoizedState;v===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:g}:(v.isBackwards=l,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=u,v.tailMode=g)}function UE(a,l,u){var f=l.pendingProps,g=f.revealOrder,v=f.tail;if(_n(a,l,f.children,u),f=rn.current,(f&2)!==0)f=f&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&FE(a,u,l);else if(a.tag===19)FE(a,u,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}f&=1}switch(he(rn,f),g){case"forwards":for(u=l.child,g=null;u!==null;)a=u.alternate,a!==null&&Rf(a)===null&&(g=u),u=u.sibling;u=g,u===null?(g=l.child,l.child=null):(g=u.sibling,u.sibling=null),zy(l,!1,g,u,v);break;case"backwards":for(u=null,g=l.child,l.child=null;g!==null;){if(a=g.alternate,a!==null&&Rf(a)===null){l.child=g;break}a=g.sibling,g.sibling=u,u=g,g=a}zy(l,!0,u,null,v);break;case"together":zy(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function ns(a,l,u){if(a!==null&&(l.dependencies=a.dependencies),na|=l.lanes,(u&l.childLanes)===0)if(a!==null){if(Mu(a,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(n(153));if(l.child!==null){for(a=l.child,u=Qr(a,a.pendingProps),l.child=u,u.return=l;a.sibling!==null;)a=a.sibling,u=u.sibling=Qr(a,a.pendingProps),u.return=l;u.sibling=null}return l.child}function Hy(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&ff(a)))}function TI(a,l,u){switch(l.tag){case 3:yt(l,l.stateNode.containerInfo),qs(l,nn,a.memoizedState.cache),Ru();break;case 27:case 5:Vs(l);break;case 4:yt(l,l.stateNode.containerInfo);break;case 10:qs(l,l.type,l.memoizedProps.value);break;case 13:var f=l.memoizedState;if(f!==null)return f.dehydrated!==null?(Ks(l),l.flags|=128,null):(u&l.child.childLanes)!==0?BE(a,l,u):(Ks(l),a=ns(a,l,u),a!==null?a.sibling:null);Ks(l);break;case 19:var g=(a.flags&128)!==0;if(f=(u&l.childLanes)!==0,f||(Mu(a,l,u,!1),f=(u&l.childLanes)!==0),g){if(f)return UE(a,l,u);l.flags|=128}if(g=l.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),he(rn,rn.current),f)break;return null;case 22:case 23:return l.lanes=0,OE(a,l,u);case 24:qs(l,nn,a.memoizedState.cache)}return ns(a,l,u)}function jE(a,l,u){if(a!==null)if(a.memoizedProps!==l.pendingProps)un=!0;else{if(!Hy(a,u)&&(l.flags&128)===0)return un=!1,TI(a,l,u);un=(a.flags&131072)!==0}else un=!1,et&&(l.flags&1048576)!==0&&yw(l,df,l.index);switch(l.lanes=0,l.tag){case 16:e:{a=l.pendingProps;var f=l.elementType,g=f._init;if(f=g(f._payload),l.type=f,typeof f=="function")Zg(f)?(a=Co(f,a),l.tag=1,l=LE(null,l,f,a,u)):(l.tag=0,l=Ly(null,l,f,a,u));else{if(f!=null){if(g=f.$$typeof,g===q){l.tag=11,l=kE(null,l,f,a,u);break e}else if(g===M){l.tag=14,l=ME(null,l,f,a,u);break e}}throw l=_e(f)||f,Error(n(306,l,""))}}return l;case 0:return Ly(a,l,l.type,l.pendingProps,u);case 1:return f=l.type,g=Co(f,l.pendingProps),LE(a,l,f,g,u);case 3:e:{if(yt(l,l.stateNode.containerInfo),a===null)throw Error(n(387));f=l.pendingProps;var v=l.memoizedState;g=v.element,dy(a,l),Bu(l,f,null,u);var D=l.memoizedState;if(f=D.cache,qs(l,nn,f),f!==v.cache&&ay(l,[nn],u,!0),Vu(),f=D.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:D.cache},l.updateQueue.baseState=v,l.memoizedState=v,l.flags&256){l=VE(a,l,f,u);break e}else if(f!==g){g=_i(Error(n(424)),l),ku(g),l=VE(a,l,f,u);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Ot=Ui(a.firstChild),zn=l,et=!0,wo=null,lr=!0,u=vE(l,null,f,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Ru(),f===g){l=ns(a,l,u);break e}_n(a,l,f,u)}l=l.child}return l;case 26:return If(a,l),a===null?(u=qT(l.type,null,l.pendingProps,null))?l.memoizedState=u:et||(u=l.type,a=l.pendingProps,f=Gf(Se.current).createElement(u),f[Jt]=l,f[qt]=a,bn(f,u,a),Vt(f),l.stateNode=f):l.memoizedState=qT(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return Vs(l),a===null&&et&&(f=l.stateNode=zT(l.type,l.pendingProps,Se.current),zn=l,lr=!0,g=Ot,aa(l.type)?(T_=g,Ot=Ui(f.firstChild)):Ot=g),_n(a,l,l.pendingProps.children,u),If(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&et&&((g=f=Ot)&&(f=XI(f,l.type,l.pendingProps,lr),f!==null?(l.stateNode=f,zn=l,Ot=Ui(f.firstChild),lr=!1,g=!0):g=!1),g||Eo(l)),Vs(l),g=l.type,v=l.pendingProps,D=a!==null?a.memoizedProps:null,f=v.children,v_(g,v)?f=null:D!==null&&v_(g,D)&&(l.flags|=32),l.memoizedState!==null&&(g=_y(a,l,mI,null,null,u),ah._currentValue=g),If(a,l),_n(a,l,f,u),l.child;case 6:return a===null&&et&&((a=u=Ot)&&(u=ZI(u,l.pendingProps,lr),u!==null?(l.stateNode=u,zn=l,Ot=null,a=!0):a=!1),a||Eo(l)),null;case 13:return BE(a,l,u);case 4:return yt(l,l.stateNode.containerInfo),f=l.pendingProps,a===null?l.child=Kl(l,null,f,u):_n(a,l,f,u),l.child;case 11:return kE(a,l,l.type,l.pendingProps,u);case 7:return _n(a,l,l.pendingProps,u),l.child;case 8:return _n(a,l,l.pendingProps.children,u),l.child;case 12:return _n(a,l,l.pendingProps.children,u),l.child;case 10:return f=l.pendingProps,qs(l,l.type,f.value),_n(a,l,f.children,u),l.child;case 9:return g=l.type._context,f=l.pendingProps.children,So(l),g=Cn(g),f=f(g),l.flags|=1,_n(a,l,f,u),l.child;case 14:return ME(a,l,l.type,l.pendingProps,u);case 15:return IE(a,l,l.type,l.pendingProps,u);case 19:return UE(a,l,u);case 31:return f=l.pendingProps,u=l.mode,f={mode:f.mode,children:f.children},a===null?(u=Of(f,u),u.ref=l.ref,l.child=u,u.return=l,l=u):(u=Qr(a.child,f),u.ref=l.ref,l.child=u,u.return=l,l=u),l;case 22:return OE(a,l,u);case 24:return So(l),f=Cn(nn),a===null?(g=cy(),g===null&&(g=_t,v=oy(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=u),g=v),l.memoizedState={parent:f,cache:g},hy(l),qs(l,nn,g)):((a.lanes&u)!==0&&(dy(a,l),Bu(l,null,null,u),Vu()),g=a.memoizedState,v=l.memoizedState,g.parent!==f?(g={parent:f,cache:f},l.memoizedState=g,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=g),qs(l,nn,f)):(f=v.cache,qs(l,nn,f),f!==g.cache&&ay(l,[nn],u,!0))),_n(a,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(n(156,l.tag))}function is(a){a.flags|=4}function zE(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!KT(l)){if(l=Ei.current,l!==null&&((Ge&4194048)===Ge?cr!==null:(Ge&62914560)!==Ge&&(Ge&536870912)===0||l!==cr))throw Nu=uy,xw;a.flags|=8192}}function Pf(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?lu():536870912,a.lanes|=l,ec|=l)}function qu(a,l){if(!et)switch(a.tailMode){case"hidden":l=a.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:f.sibling=null}}function Rt(a){var l=a.alternate!==null&&a.alternate.child===a.child,u=0,f=0;if(l)for(var g=a.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags&65011712,f|=g.flags&65011712,g.return=a,g=g.sibling;else for(g=a.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=a,g=g.sibling;return a.subtreeFlags|=f,a.childLanes=u,l}function SI(a,l,u){var f=l.pendingProps;switch(ny(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(l),null;case 1:return Rt(l),null;case 3:return u=l.stateNode,f=null,a!==null&&(f=a.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),Jr(nn),Ki(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(Au(l)?is(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,bw())),Rt(l),null;case 26:return u=l.memoizedState,a===null?(is(l),u!==null?(Rt(l),zE(l,u)):(Rt(l),l.flags&=-16777217)):u?u!==a.memoizedState?(is(l),Rt(l),zE(l,u)):(Rt(l),l.flags&=-16777217):(a.memoizedProps!==f&&is(l),Rt(l),l.flags&=-16777217),null;case 27:Lr(l),u=Se.current;var g=l.type;if(a!==null&&l.stateNode!=null)a.memoizedProps!==f&&is(l);else{if(!f){if(l.stateNode===null)throw Error(n(166));return Rt(l),null}a=be.current,Au(l)?_w(l):(a=zT(g,f,u),l.stateNode=a,is(l))}return Rt(l),null;case 5:if(Lr(l),u=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==f&&is(l);else{if(!f){if(l.stateNode===null)throw Error(n(166));return Rt(l),null}if(a=be.current,Au(l))_w(l);else{switch(g=Gf(Se.current),a){case 1:a=g.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:a=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":a=g.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":a=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":a=g.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof f.is=="string"?g.createElement("select",{is:f.is}):g.createElement("select"),f.multiple?a.multiple=!0:f.size&&(a.size=f.size);break;default:a=typeof f.is=="string"?g.createElement(u,{is:f.is}):g.createElement(u)}}a[Jt]=l,a[qt]=f;e:for(g=l.child;g!==null;){if(g.tag===5||g.tag===6)a.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===l)break e;for(;g.sibling===null;){if(g.return===null||g.return===l)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}l.stateNode=a;e:switch(bn(a,u,f),u){case"button":case"input":case"select":case"textarea":a=!!f.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&is(l)}}return Rt(l),l.flags&=-16777217,null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==f&&is(l);else{if(typeof f!="string"&&l.stateNode===null)throw Error(n(166));if(a=Se.current,Au(l)){if(a=l.stateNode,u=l.memoizedProps,f=null,g=zn,g!==null)switch(g.tag){case 27:case 5:f=g.memoizedProps}a[Jt]=l,a=!!(a.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||NT(a.nodeValue,u)),a||Eo(l)}else a=Gf(a).createTextNode(f),a[Jt]=l,l.stateNode=a}return Rt(l),null;case 13:if(f=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(g=Au(l),f!==null&&f.dehydrated!==null){if(a===null){if(!g)throw Error(n(318));if(g=l.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(n(317));g[Jt]=l}else Ru(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Rt(l),g=!1}else g=bw(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=g),g=!0;if(!g)return l.flags&256?(ts(l),l):(ts(l),null)}if(ts(l),(l.flags&128)!==0)return l.lanes=u,l;if(u=f!==null,a=a!==null&&a.memoizedState!==null,u){f=l.child,g=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(g=f.alternate.memoizedState.cachePool.pool);var v=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),v!==g&&(f.flags|=2048)}return u!==a&&u&&(l.child.flags|=8192),Pf(l,l.updateQueue),Rt(l),null;case 4:return Ki(),a===null&&p_(l.stateNode.containerInfo),Rt(l),null;case 10:return Jr(l.type),Rt(l),null;case 19:if(fe(rn),g=l.memoizedState,g===null)return Rt(l),null;if(f=(l.flags&128)!==0,v=g.rendering,v===null)if(f)qu(g,!1);else{if(Pt!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(v=Rf(a),v!==null){for(l.flags|=128,qu(g,!1),a=v.updateQueue,l.updateQueue=a,Pf(l,a),l.subtreeFlags=0,a=u,u=l.child;u!==null;)gw(u,a),u=u.sibling;return he(rn,rn.current&1|2),l.child}a=a.sibling}g.tail!==null&&di()>Vf&&(l.flags|=128,f=!0,qu(g,!1),l.lanes=4194304)}else{if(!f)if(a=Rf(v),a!==null){if(l.flags|=128,f=!0,a=a.updateQueue,l.updateQueue=a,Pf(l,a),qu(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!et)return Rt(l),null}else 2*di()-g.renderingStartTime>Vf&&u!==536870912&&(l.flags|=128,f=!0,qu(g,!1),l.lanes=4194304);g.isBackwards?(v.sibling=l.child,l.child=v):(a=g.last,a!==null?a.sibling=v:l.child=v,g.last=v)}return g.tail!==null?(l=g.tail,g.rendering=l,g.tail=l.sibling,g.renderingStartTime=di(),l.sibling=null,a=rn.current,he(rn,f?a&1|2:a&1),l):(Rt(l),null);case 22:case 23:return ts(l),gy(),f=l.memoizedState!==null,a!==null?a.memoizedState!==null!==f&&(l.flags|=8192):f&&(l.flags|=8192),f?(u&536870912)!==0&&(l.flags&128)===0&&(Rt(l),l.subtreeFlags&6&&(l.flags|=8192)):Rt(l),u=l.updateQueue,u!==null&&Pf(l,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==u&&(l.flags|=2048),a!==null&&fe(xo),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),Jr(nn),Rt(l),null;case 25:return null;case 30:return null}throw Error(n(156,l.tag))}function xI(a,l){switch(ny(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Jr(nn),Ki(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return Lr(l),null;case 13:if(ts(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Ru()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return fe(rn),null;case 4:return Ki(),null;case 10:return Jr(l.type),null;case 22:case 23:return ts(l),gy(),a!==null&&fe(xo),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return Jr(nn),null;case 25:return null;default:return null}}function HE(a,l){switch(ny(l),l.tag){case 3:Jr(nn),Ki();break;case 26:case 27:case 5:Lr(l);break;case 4:Ki();break;case 13:ts(l);break;case 19:fe(rn);break;case 10:Jr(l.type);break;case 22:case 23:ts(l),gy(),a!==null&&fe(xo);break;case 24:Jr(nn)}}function Wu(a,l){try{var u=l.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&a)===a){f=void 0;var v=u.create,D=u.inst;f=v(),D.destroy=f}u=u.next}while(u!==g)}}catch(R){gt(l,l.return,R)}}function Zs(a,l,u){try{var f=l.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var v=g.next;f=v;do{if((f.tag&a)===a){var D=f.inst,R=D.destroy;if(R!==void 0){D.destroy=void 0,g=l;var z=u,X=R;try{X()}catch(se){gt(g,z,se)}}}f=f.next}while(f!==v)}}catch(se){gt(l,l.return,se)}}function YE(a){var l=a.updateQueue;if(l!==null){var u=a.stateNode;try{Mw(l,u)}catch(f){gt(a,a.return,f)}}}function qE(a,l,u){u.props=Co(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(f){gt(a,l,f)}}function Gu(a,l){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var f=a.stateNode;break;case 30:f=a.stateNode;break;default:f=a.stateNode}typeof u=="function"?a.refCleanup=u(f):u.current=f}}catch(g){gt(a,l,g)}}function ur(a,l){var u=a.ref,f=a.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(g){gt(a,l,g)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(g){gt(a,l,g)}else u.current=null}function WE(a){var l=a.type,u=a.memoizedProps,f=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(g){gt(a,a.return,g)}}function Yy(a,l,u){try{var f=a.stateNode;WI(f,a.type,u,l),f[qt]=l}catch(g){gt(a,a.return,g)}}function GE(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&aa(a.type)||a.tag===4}function qy(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||GE(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&aa(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Wy(a,l,u){var f=a.tag;if(f===5||f===6)a=a.stateNode,l?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,l):(l=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,l.appendChild(a),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=Wf));else if(f!==4&&(f===27&&aa(a.type)&&(u=a.stateNode,l=null),a=a.child,a!==null))for(Wy(a,l,u),a=a.sibling;a!==null;)Wy(a,l,u),a=a.sibling}function Nf(a,l,u){var f=a.tag;if(f===5||f===6)a=a.stateNode,l?u.insertBefore(a,l):u.appendChild(a);else if(f!==4&&(f===27&&aa(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(Nf(a,l,u),a=a.sibling;a!==null;)Nf(a,l,u),a=a.sibling}function $E(a){var l=a.stateNode,u=a.memoizedProps;try{for(var f=a.type,g=l.attributes;g.length;)l.removeAttributeNode(g[0]);bn(l,f,u),l[Jt]=a,l[qt]=u}catch(v){gt(a,a.return,v)}}var rs=!1,Ft=!1,Gy=!1,QE=typeof WeakSet=="function"?WeakSet:Set,hn=null;function DI(a,l){if(a=a.containerInfo,y_=Jf,a=aw(a),qg(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var g=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var D=0,R=-1,z=-1,X=0,se=0,ce=a,Z=null;t:for(;;){for(var J;ce!==u||g!==0&&ce.nodeType!==3||(R=D+g),ce!==v||f!==0&&ce.nodeType!==3||(z=D+f),ce.nodeType===3&&(D+=ce.nodeValue.length),(J=ce.firstChild)!==null;)Z=ce,ce=J;for(;;){if(ce===a)break t;if(Z===u&&++X===g&&(R=D),Z===v&&++se===f&&(z=D),(J=ce.nextSibling)!==null)break;ce=Z,Z=ce.parentNode}ce=J}u=R===-1||z===-1?null:{start:R,end:z}}else u=null}u=u||{start:0,end:0}}else u=null;for(__={focusedElem:a,selectionRange:u},Jf=!1,hn=l;hn!==null;)if(l=hn,a=l.child,(l.subtreeFlags&1024)!==0&&a!==null)a.return=l,hn=a;else for(;hn!==null;){switch(l=hn,v=l.alternate,a=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&v!==null){a=void 0,u=l,g=v.memoizedProps,v=v.memoizedState,f=u.stateNode;try{var Re=Co(u.type,g,u.elementType===u.type);a=f.getSnapshotBeforeUpdate(Re,v),f.__reactInternalSnapshotBeforeUpdate=a}catch(xe){gt(u,u.return,xe)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,u=a.nodeType,u===9)w_(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":w_(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=l.sibling,a!==null){a.return=l.return,hn=a;break}hn=l.return}}function KE(a,l,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:Js(a,u),f&4&&Wu(5,u);break;case 1:if(Js(a,u),f&4)if(a=u.stateNode,l===null)try{a.componentDidMount()}catch(D){gt(u,u.return,D)}else{var g=Co(u.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(g,l,a.__reactInternalSnapshotBeforeUpdate)}catch(D){gt(u,u.return,D)}}f&64&&YE(u),f&512&&Gu(u,u.return);break;case 3:if(Js(a,u),f&64&&(a=u.updateQueue,a!==null)){if(l=null,u.child!==null)switch(u.child.tag){case 27:case 5:l=u.child.stateNode;break;case 1:l=u.child.stateNode}try{Mw(a,l)}catch(D){gt(u,u.return,D)}}break;case 27:l===null&&f&4&&$E(u);case 26:case 5:Js(a,u),l===null&&f&4&&WE(u),f&512&&Gu(u,u.return);break;case 12:Js(a,u);break;case 13:Js(a,u),f&4&&JE(a,u),f&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=NI.bind(null,u),JI(a,u))));break;case 22:if(f=u.memoizedState!==null||rs,!f){l=l!==null&&l.memoizedState!==null||Ft,g=rs;var v=Ft;rs=f,(Ft=l)&&!v?ea(a,u,(u.subtreeFlags&8772)!==0):Js(a,u),rs=g,Ft=v}break;case 30:break;default:Js(a,u)}}function XE(a){var l=a.alternate;l!==null&&(a.alternate=null,XE(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&js(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var St=null,Wn=!1;function ss(a,l,u){for(u=u.child;u!==null;)ZE(a,l,u),u=u.sibling}function ZE(a,l,u){if(at&&typeof at.onCommitFiberUnmount=="function")try{at.onCommitFiberUnmount(It,u)}catch{}switch(u.tag){case 26:Ft||ur(u,l),ss(a,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Ft||ur(u,l);var f=St,g=Wn;aa(u.type)&&(St=u.stateNode,Wn=!1),ss(a,l,u),nh(u.stateNode),St=f,Wn=g;break;case 5:Ft||ur(u,l);case 6:if(f=St,g=Wn,St=null,ss(a,l,u),St=f,Wn=g,St!==null)if(Wn)try{(St.nodeType===9?St.body:St.nodeName==="HTML"?St.ownerDocument.body:St).removeChild(u.stateNode)}catch(v){gt(u,l,v)}else try{St.removeChild(u.stateNode)}catch(v){gt(u,l,v)}break;case 18:St!==null&&(Wn?(a=St,UT(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),uh(a)):UT(St,u.stateNode));break;case 4:f=St,g=Wn,St=u.stateNode.containerInfo,Wn=!0,ss(a,l,u),St=f,Wn=g;break;case 0:case 11:case 14:case 15:Ft||Zs(2,u,l),Ft||Zs(4,u,l),ss(a,l,u);break;case 1:Ft||(ur(u,l),f=u.stateNode,typeof f.componentWillUnmount=="function"&&qE(u,l,f)),ss(a,l,u);break;case 21:ss(a,l,u);break;case 22:Ft=(f=Ft)||u.memoizedState!==null,ss(a,l,u),Ft=f;break;default:ss(a,l,u)}}function JE(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{uh(a)}catch(u){gt(l,l.return,u)}}function CI(a){switch(a.tag){case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new QE),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new QE),l;default:throw Error(n(435,a.tag))}}function $y(a,l){var u=CI(a);l.forEach(function(f){var g=LI.bind(null,a,f);u.has(f)||(u.add(f),f.then(g,g))})}function ii(a,l){var u=l.deletions;if(u!==null)for(var f=0;f<u.length;f++){var g=u[f],v=a,D=l,R=D;e:for(;R!==null;){switch(R.tag){case 27:if(aa(R.type)){St=R.stateNode,Wn=!1;break e}break;case 5:St=R.stateNode,Wn=!1;break e;case 3:case 4:St=R.stateNode.containerInfo,Wn=!0;break e}R=R.return}if(St===null)throw Error(n(160));ZE(v,D,g),St=null,Wn=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)eT(l,a),l=l.sibling}var Fi=null;function eT(a,l){var u=a.alternate,f=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:ii(l,a),ri(a),f&4&&(Zs(3,a,a.return),Wu(3,a),Zs(5,a,a.return));break;case 1:ii(l,a),ri(a),f&512&&(Ft||u===null||ur(u,u.return)),f&64&&rs&&(a=a.updateQueue,a!==null&&(f=a.callbacks,f!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var g=Fi;if(ii(l,a),ri(a),f&512&&(Ft||u===null||ur(u,u.return)),f&4){var v=u!==null?u.memoizedState:null;if(f=a.memoizedState,u===null)if(f===null)if(a.stateNode===null){e:{f=a.type,u=a.memoizedProps,g=g.ownerDocument||g;t:switch(f){case"title":v=g.getElementsByTagName("title")[0],(!v||v[to]||v[Jt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(f),g.head.insertBefore(v,g.querySelector("head > title"))),bn(v,f,u),v[Jt]=a,Vt(v),f=v;break e;case"link":var D=$T("link","href",g).get(f+(u.href||""));if(D){for(var R=0;R<D.length;R++)if(v=D[R],v.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&v.getAttribute("rel")===(u.rel==null?null:u.rel)&&v.getAttribute("title")===(u.title==null?null:u.title)&&v.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){D.splice(R,1);break t}}v=g.createElement(f),bn(v,f,u),g.head.appendChild(v);break;case"meta":if(D=$T("meta","content",g).get(f+(u.content||""))){for(R=0;R<D.length;R++)if(v=D[R],v.getAttribute("content")===(u.content==null?null:""+u.content)&&v.getAttribute("name")===(u.name==null?null:u.name)&&v.getAttribute("property")===(u.property==null?null:u.property)&&v.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&v.getAttribute("charset")===(u.charSet==null?null:u.charSet)){D.splice(R,1);break t}}v=g.createElement(f),bn(v,f,u),g.head.appendChild(v);break;default:throw Error(n(468,f))}v[Jt]=a,Vt(v),f=v}a.stateNode=f}else QT(g,a.type,a.stateNode);else a.stateNode=GT(g,f,a.memoizedProps);else v!==f?(v===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):v.count--,f===null?QT(g,a.type,a.stateNode):GT(g,f,a.memoizedProps)):f===null&&a.stateNode!==null&&Yy(a,a.memoizedProps,u.memoizedProps)}break;case 27:ii(l,a),ri(a),f&512&&(Ft||u===null||ur(u,u.return)),u!==null&&f&4&&Yy(a,a.memoizedProps,u.memoizedProps);break;case 5:if(ii(l,a),ri(a),f&512&&(Ft||u===null||ur(u,u.return)),a.flags&32){g=a.stateNode;try{pi(g,"")}catch(J){gt(a,a.return,J)}}f&4&&a.stateNode!=null&&(g=a.memoizedProps,Yy(a,g,u!==null?u.memoizedProps:g)),f&1024&&(Gy=!0);break;case 6:if(ii(l,a),ri(a),f&4){if(a.stateNode===null)throw Error(n(162));f=a.memoizedProps,u=a.stateNode;try{u.nodeValue=f}catch(J){gt(a,a.return,J)}}break;case 3:if(Kf=null,g=Fi,Fi=$f(l.containerInfo),ii(l,a),Fi=g,ri(a),f&4&&u!==null&&u.memoizedState.isDehydrated)try{uh(l.containerInfo)}catch(J){gt(a,a.return,J)}Gy&&(Gy=!1,tT(a));break;case 4:f=Fi,Fi=$f(a.stateNode.containerInfo),ii(l,a),ri(a),Fi=f;break;case 12:ii(l,a),ri(a);break;case 13:ii(l,a),ri(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(e_=di()),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,$y(a,f)));break;case 22:g=a.memoizedState!==null;var z=u!==null&&u.memoizedState!==null,X=rs,se=Ft;if(rs=X||g,Ft=se||z,ii(l,a),Ft=se,rs=X,ri(a),f&8192)e:for(l=a.stateNode,l._visibility=g?l._visibility&-2:l._visibility|1,g&&(u===null||z||rs||Ft||Ao(a)),u=null,l=a;;){if(l.tag===5||l.tag===26){if(u===null){z=u=l;try{if(v=z.stateNode,g)D=v.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{R=z.stateNode;var ce=z.memoizedProps.style,Z=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;R.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(J){gt(z,z.return,J)}}}else if(l.tag===6){if(u===null){z=l;try{z.stateNode.nodeValue=g?"":z.memoizedProps}catch(J){gt(z,z.return,J)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}f&4&&(f=a.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,$y(a,u))));break;case 19:ii(l,a),ri(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,$y(a,f)));break;case 30:break;case 21:break;default:ii(l,a),ri(a)}}function ri(a){var l=a.flags;if(l&2){try{for(var u,f=a.return;f!==null;){if(GE(f)){u=f;break}f=f.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var g=u.stateNode,v=qy(a);Nf(a,v,g);break;case 5:var D=u.stateNode;u.flags&32&&(pi(D,""),u.flags&=-33);var R=qy(a);Nf(a,R,D);break;case 3:case 4:var z=u.stateNode.containerInfo,X=qy(a);Wy(a,X,z);break;default:throw Error(n(161))}}catch(se){gt(a,a.return,se)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function tT(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;tT(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function Js(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)KE(a,l.alternate,l),l=l.sibling}function Ao(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:Zs(4,l,l.return),Ao(l);break;case 1:ur(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&qE(l,l.return,u),Ao(l);break;case 27:nh(l.stateNode);case 26:case 5:ur(l,l.return),Ao(l);break;case 22:l.memoizedState===null&&Ao(l);break;case 30:Ao(l);break;default:Ao(l)}a=a.sibling}}function ea(a,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var f=l.alternate,g=a,v=l,D=v.flags;switch(v.tag){case 0:case 11:case 15:ea(g,v,u),Wu(4,v);break;case 1:if(ea(g,v,u),f=v,g=f.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(X){gt(f,f.return,X)}if(f=v,g=f.updateQueue,g!==null){var R=f.stateNode;try{var z=g.shared.hiddenCallbacks;if(z!==null)for(g.shared.hiddenCallbacks=null,g=0;g<z.length;g++)kw(z[g],R)}catch(X){gt(f,f.return,X)}}u&&D&64&&YE(v),Gu(v,v.return);break;case 27:$E(v);case 26:case 5:ea(g,v,u),u&&f===null&&D&4&&WE(v),Gu(v,v.return);break;case 12:ea(g,v,u);break;case 13:ea(g,v,u),u&&D&4&&JE(g,v);break;case 22:v.memoizedState===null&&ea(g,v,u),Gu(v,v.return);break;case 30:break;default:ea(g,v,u)}l=l.sibling}}function Qy(a,l){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&Iu(u))}function Ky(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Iu(a))}function hr(a,l,u,f){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)nT(a,l,u,f),l=l.sibling}function nT(a,l,u,f){var g=l.flags;switch(l.tag){case 0:case 11:case 15:hr(a,l,u,f),g&2048&&Wu(9,l);break;case 1:hr(a,l,u,f);break;case 3:hr(a,l,u,f),g&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Iu(a)));break;case 12:if(g&2048){hr(a,l,u,f),a=l.stateNode;try{var v=l.memoizedProps,D=v.id,R=v.onPostCommit;typeof R=="function"&&R(D,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(z){gt(l,l.return,z)}}else hr(a,l,u,f);break;case 13:hr(a,l,u,f);break;case 23:break;case 22:v=l.stateNode,D=l.alternate,l.memoizedState!==null?v._visibility&2?hr(a,l,u,f):$u(a,l):v._visibility&2?hr(a,l,u,f):(v._visibility|=2,Xl(a,l,u,f,(l.subtreeFlags&10256)!==0)),g&2048&&Qy(D,l);break;case 24:hr(a,l,u,f),g&2048&&Ky(l.alternate,l);break;default:hr(a,l,u,f)}}function Xl(a,l,u,f,g){for(g=g&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var v=a,D=l,R=u,z=f,X=D.flags;switch(D.tag){case 0:case 11:case 15:Xl(v,D,R,z,g),Wu(8,D);break;case 23:break;case 22:var se=D.stateNode;D.memoizedState!==null?se._visibility&2?Xl(v,D,R,z,g):$u(v,D):(se._visibility|=2,Xl(v,D,R,z,g)),g&&X&2048&&Qy(D.alternate,D);break;case 24:Xl(v,D,R,z,g),g&&X&2048&&Ky(D.alternate,D);break;default:Xl(v,D,R,z,g)}l=l.sibling}}function $u(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=a,f=l,g=f.flags;switch(f.tag){case 22:$u(u,f),g&2048&&Qy(f.alternate,f);break;case 24:$u(u,f),g&2048&&Ky(f.alternate,f);break;default:$u(u,f)}l=l.sibling}}var Qu=8192;function Zl(a){if(a.subtreeFlags&Qu)for(a=a.child;a!==null;)iT(a),a=a.sibling}function iT(a){switch(a.tag){case 26:Zl(a),a.flags&Qu&&a.memoizedState!==null&&dO(Fi,a.memoizedState,a.memoizedProps);break;case 5:Zl(a);break;case 3:case 4:var l=Fi;Fi=$f(a.stateNode.containerInfo),Zl(a),Fi=l;break;case 22:a.memoizedState===null&&(l=a.alternate,l!==null&&l.memoizedState!==null?(l=Qu,Qu=16777216,Zl(a),Qu=l):Zl(a));break;default:Zl(a)}}function rT(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function Ku(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var f=l[u];hn=f,aT(f,a)}rT(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)sT(a),a=a.sibling}function sT(a){switch(a.tag){case 0:case 11:case 15:Ku(a),a.flags&2048&&Zs(9,a,a.return);break;case 3:Ku(a);break;case 12:Ku(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,Lf(a)):Ku(a);break;default:Ku(a)}}function Lf(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var f=l[u];hn=f,aT(f,a)}rT(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:Zs(8,l,l.return),Lf(l);break;case 22:u=l.stateNode,u._visibility&2&&(u._visibility&=-3,Lf(l));break;default:Lf(l)}a=a.sibling}}function aT(a,l){for(;hn!==null;){var u=hn;switch(u.tag){case 0:case 11:case 15:Zs(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Iu(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,hn=f;else e:for(u=a;hn!==null;){f=hn;var g=f.sibling,v=f.return;if(XE(f),f===u){hn=null;break e}if(g!==null){g.return=v,hn=g;break e}hn=v}}}var AI={getCacheForType:function(a){var l=Cn(nn),u=l.data.get(a);return u===void 0&&(u=a(),l.data.set(a,u)),u}},RI=typeof WeakMap=="function"?WeakMap:Map,ot=0,_t=null,Be=null,Ge=0,lt=0,si=null,ta=!1,Jl=!1,Xy=!1,as=0,Pt=0,na=0,Ro=0,Zy=0,Ti=0,ec=0,Xu=null,Gn=null,Jy=!1,e_=0,Vf=1/0,Bf=null,ia=null,vn=0,ra=null,tc=null,nc=0,t_=0,n_=null,oT=null,Zu=0,i_=null;function ai(){if((ot&2)!==0&&Ge!==0)return Ge&-Ge;if(W.T!==null){var a=Hl;return a!==0?a:u_()}return Fs()}function lT(){Ti===0&&(Ti=(Ge&536870912)===0||et?ou():536870912);var a=Ei.current;return a!==null&&(a.flags|=32),Ti}function oi(a,l,u){(a===_t&&(lt===2||lt===9)||a.cancelPendingCommit!==null)&&(ic(a,0),sa(a,Ge,Ti,!1)),Br(a,u),((ot&2)===0||a!==_t)&&(a===_t&&((ot&2)===0&&(Ro|=u),Pt===4&&sa(a,Ge,Ti,!1)),dr(a))}function cT(a,l,u){if((ot&6)!==0)throw Error(n(327));var f=!u&&(l&124)===0&&(l&a.expiredLanes)===0||eo(a,l),g=f?II(a,l):a_(a,l,!0),v=f;do{if(g===0){Jl&&!f&&sa(a,l,0,!1);break}else{if(u=a.current.alternate,v&&!kI(u)){g=a_(a,l,!1),v=!1;continue}if(g===2){if(v=l,a.errorRecoveryDisabledLanes&v)var D=0;else D=a.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){l=D;e:{var R=a;g=Xu;var z=R.current.memoizedState.isDehydrated;if(z&&(ic(R,D).flags|=256),D=a_(R,D,!1),D!==2){if(Xy&&!z){R.errorRecoveryDisabledLanes|=v,Ro|=v,g=4;break e}v=Gn,Gn=g,v!==null&&(Gn===null?Gn=v:Gn.push.apply(Gn,v))}g=D}if(v=!1,g!==2)continue}}if(g===1){ic(a,0),sa(a,l,0,!0);break}e:{switch(f=a,v=g,v){case 0:case 1:throw Error(n(345));case 4:if((l&4194048)!==l)break;case 6:sa(f,l,Ti,!ta);break e;case 2:Gn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((l&62914560)===l&&(g=e_+300-di(),10<g)){if(sa(f,l,Ti,!ta),bl(f,0,!0)!==0)break e;f.timeoutHandle=BT(uT.bind(null,f,u,Gn,Bf,Jy,l,Ti,Ro,ec,ta,v,2,-0,0),g);break e}uT(f,u,Gn,Bf,Jy,l,Ti,Ro,ec,ta,v,0,-0,0)}}break}while(!0);dr(a)}function uT(a,l,u,f,g,v,D,R,z,X,se,ce,Z,J){if(a.timeoutHandle=-1,ce=l.subtreeFlags,(ce&8192||(ce&16785408)===16785408)&&(sh={stylesheets:null,count:0,unsuspend:hO},iT(l),ce=fO(),ce!==null)){a.cancelPendingCommit=ce(yT.bind(null,a,l,v,u,f,g,D,R,z,se,1,Z,J)),sa(a,v,D,!X);return}yT(a,l,v,u,f,g,D,R,z)}function kI(a){for(var l=a;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var g=u[f],v=g.getSnapshot;g=g.value;try{if(!ti(v(),g))return!1}catch{return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function sa(a,l,u,f){l&=~Zy,l&=~Ro,a.suspendedLanes|=l,a.pingedLanes&=~l,f&&(a.warmLanes|=l),f=a.expirationTimes;for(var g=l;0<g;){var v=31-Dn(g),D=1<<v;f[v]=-1,g&=~D}u!==0&&Xi(a,u,l)}function Ff(){return(ot&6)===0?(Ju(0),!1):!0}function r_(){if(Be!==null){if(lt===0)var a=Be.return;else a=Be,Zr=To=null,wy(a),Ql=null,Hu=0,a=Be;for(;a!==null;)HE(a.alternate,a),a=a.return;Be=null}}function ic(a,l){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,$I(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),r_(),_t=a,Be=u=Qr(a.current,null),Ge=l,lt=0,si=null,ta=!1,Jl=eo(a,l),Xy=!1,ec=Ti=Zy=Ro=na=Pt=0,Gn=Xu=null,Jy=!1,(l&8)!==0&&(l|=l&32);var f=a.entangledLanes;if(f!==0)for(a=a.entanglements,f&=l;0<f;){var g=31-Dn(f),v=1<<g;l|=a[g],f&=~v}return as=l,of(),u}function hT(a,l){Ne=null,W.H=Df,l===Pu||l===gf?(l=Aw(),lt=3):l===xw?(l=Aw(),lt=4):lt=l===RE?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,si=l,Be===null&&(Pt=1,Mf(a,_i(l,a.current)))}function dT(){var a=W.H;return W.H=Df,a===null?Df:a}function fT(){var a=W.A;return W.A=AI,a}function s_(){Pt=4,ta||(Ge&4194048)!==Ge&&Ei.current!==null||(Jl=!0),(na&134217727)===0&&(Ro&134217727)===0||_t===null||sa(_t,Ge,Ti,!1)}function a_(a,l,u){var f=ot;ot|=2;var g=dT(),v=fT();(_t!==a||Ge!==l)&&(Bf=null,ic(a,l)),l=!1;var D=Pt;e:do try{if(lt!==0&&Be!==null){var R=Be,z=si;switch(lt){case 8:r_(),D=6;break e;case 3:case 2:case 9:case 6:Ei.current===null&&(l=!0);var X=lt;if(lt=0,si=null,rc(a,R,z,X),u&&Jl){D=0;break e}break;default:X=lt,lt=0,si=null,rc(a,R,z,X)}}MI(),D=Pt;break}catch(se){hT(a,se)}while(!0);return l&&a.shellSuspendCounter++,Zr=To=null,ot=f,W.H=g,W.A=v,Be===null&&(_t=null,Ge=0,of()),D}function MI(){for(;Be!==null;)pT(Be)}function II(a,l){var u=ot;ot|=2;var f=dT(),g=fT();_t!==a||Ge!==l?(Bf=null,Vf=di()+500,ic(a,l)):Jl=eo(a,l);e:do try{if(lt!==0&&Be!==null){l=Be;var v=si;t:switch(lt){case 1:lt=0,si=null,rc(a,l,v,1);break;case 2:case 9:if(Dw(v)){lt=0,si=null,mT(l);break}l=function(){lt!==2&&lt!==9||_t!==a||(lt=7),dr(a)},v.then(l,l);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:Dw(v)?(lt=0,si=null,mT(l)):(lt=0,si=null,rc(a,l,v,7));break;case 5:var D=null;switch(Be.tag){case 26:D=Be.memoizedState;case 5:case 27:var R=Be;if(!D||KT(D)){lt=0,si=null;var z=R.sibling;if(z!==null)Be=z;else{var X=R.return;X!==null?(Be=X,Uf(X)):Be=null}break t}}lt=0,si=null,rc(a,l,v,5);break;case 6:lt=0,si=null,rc(a,l,v,6);break;case 8:r_(),Pt=6;break e;default:throw Error(n(462))}}OI();break}catch(se){hT(a,se)}while(!0);return Zr=To=null,W.H=f,W.A=g,ot=u,Be!==null?0:(_t=null,Ge=0,of(),Pt)}function OI(){for(;Be!==null&&!iu();)pT(Be)}function pT(a){var l=jE(a.alternate,a,as);a.memoizedProps=a.pendingProps,l===null?Uf(a):Be=l}function mT(a){var l=a,u=l.alternate;switch(l.tag){case 15:case 0:l=NE(u,l,l.pendingProps,l.type,void 0,Ge);break;case 11:l=NE(u,l,l.pendingProps,l.type.render,l.ref,Ge);break;case 5:wy(l);default:HE(u,l),l=Be=gw(l,as),l=jE(u,l,as)}a.memoizedProps=a.pendingProps,l===null?Uf(a):Be=l}function rc(a,l,u,f){Zr=To=null,wy(l),Ql=null,Hu=0;var g=l.return;try{if(EI(a,g,l,u,Ge)){Pt=1,Mf(a,_i(u,a.current)),Be=null;return}}catch(v){if(g!==null)throw Be=g,v;Pt=1,Mf(a,_i(u,a.current)),Be=null;return}l.flags&32768?(et||f===1?a=!0:Jl||(Ge&536870912)!==0?a=!1:(ta=a=!0,(f===2||f===9||f===3||f===6)&&(f=Ei.current,f!==null&&f.tag===13&&(f.flags|=16384))),gT(l,a)):Uf(l)}function Uf(a){var l=a;do{if((l.flags&32768)!==0){gT(l,ta);return}a=l.return;var u=SI(l.alternate,l,as);if(u!==null){Be=u;return}if(l=l.sibling,l!==null){Be=l;return}Be=l=a}while(l!==null);Pt===0&&(Pt=5)}function gT(a,l){do{var u=xI(a.alternate,a);if(u!==null){u.flags&=32767,Be=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(a=a.sibling,a!==null)){Be=a;return}Be=a=u}while(a!==null);Pt=6,Be=null}function yT(a,l,u,f,g,v,D,R,z){a.cancelPendingCommit=null;do jf();while(vn!==0);if((ot&6)!==0)throw Error(n(327));if(l!==null){if(l===a.current)throw Error(n(177));if(v=l.lanes|l.childLanes,v|=Kg,cu(a,u,v,D,R,z),a===_t&&(Be=_t=null,Ge=0),tc=l,ra=a,nc=u,t_=v,n_=g,oT=f,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,VI(Ka,function(){return ET(),null})):(a.callbackNode=null,a.callbackPriority=0),f=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||f){f=W.T,W.T=null,g=ee.p,ee.p=2,D=ot,ot|=4;try{DI(a,l,u)}finally{ot=D,ee.p=g,W.T=f}}vn=1,_T(),vT(),bT()}}function _T(){if(vn===1){vn=0;var a=ra,l=tc,u=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||u){u=W.T,W.T=null;var f=ee.p;ee.p=2;var g=ot;ot|=4;try{eT(l,a);var v=__,D=aw(a.containerInfo),R=v.focusedElem,z=v.selectionRange;if(D!==R&&R&&R.ownerDocument&&sw(R.ownerDocument.documentElement,R)){if(z!==null&&qg(R)){var X=z.start,se=z.end;if(se===void 0&&(se=X),"selectionStart"in R)R.selectionStart=X,R.selectionEnd=Math.min(se,R.value.length);else{var ce=R.ownerDocument||document,Z=ce&&ce.defaultView||window;if(Z.getSelection){var J=Z.getSelection(),Re=R.textContent.length,xe=Math.min(z.start,Re),mt=z.end===void 0?xe:Math.min(z.end,Re);!J.extend&&xe>mt&&(D=mt,mt=xe,xe=D);var G=rw(R,xe),Y=rw(R,mt);if(G&&Y&&(J.rangeCount!==1||J.anchorNode!==G.node||J.anchorOffset!==G.offset||J.focusNode!==Y.node||J.focusOffset!==Y.offset)){var Q=ce.createRange();Q.setStart(G.node,G.offset),J.removeAllRanges(),xe>mt?(J.addRange(Q),J.extend(Y.node,Y.offset)):(Q.setEnd(Y.node,Y.offset),J.addRange(Q))}}}}for(ce=[],J=R;J=J.parentNode;)J.nodeType===1&&ce.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ce.length;R++){var ae=ce[R];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}Jf=!!y_,__=y_=null}finally{ot=g,ee.p=f,W.T=u}}a.current=l,vn=2}}function vT(){if(vn===2){vn=0;var a=ra,l=tc,u=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||u){u=W.T,W.T=null;var f=ee.p;ee.p=2;var g=ot;ot|=4;try{KE(a,l.alternate,l)}finally{ot=g,ee.p=f,W.T=u}}vn=3}}function bT(){if(vn===4||vn===3){vn=0,Nd();var a=ra,l=tc,u=nc,f=oT;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?vn=5:(vn=0,tc=ra=null,wT(a,a.pendingLanes));var g=a.pendingLanes;if(g===0&&(ia=null),wl(u),l=l.stateNode,at&&typeof at.onCommitFiberRoot=="function")try{at.onCommitFiberRoot(It,l,void 0,(l.current.flags&128)===128)}catch{}if(f!==null){l=W.T,g=ee.p,ee.p=2,W.T=null;try{for(var v=a.onRecoverableError,D=0;D<f.length;D++){var R=f[D];v(R.value,{componentStack:R.stack})}}finally{W.T=l,ee.p=g}}(nc&3)!==0&&jf(),dr(a),g=a.pendingLanes,(u&4194090)!==0&&(g&42)!==0?a===i_?Zu++:(Zu=0,i_=a):Zu=0,Ju(0)}}function wT(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,Iu(l)))}function jf(a){return _T(),vT(),bT(),ET()}function ET(){if(vn!==5)return!1;var a=ra,l=t_;t_=0;var u=wl(nc),f=W.T,g=ee.p;try{ee.p=32>u?32:u,W.T=null,u=n_,n_=null;var v=ra,D=nc;if(vn=0,tc=ra=null,nc=0,(ot&6)!==0)throw Error(n(331));var R=ot;if(ot|=4,sT(v.current),nT(v,v.current,D,u),ot=R,Ju(0,!1),at&&typeof at.onPostCommitFiberRoot=="function")try{at.onPostCommitFiberRoot(It,v)}catch{}return!0}finally{ee.p=g,W.T=f,wT(a,l)}}function TT(a,l,u){l=_i(u,l),l=Ny(a.stateNode,l,2),a=$s(a,l,2),a!==null&&(Br(a,2),dr(a))}function gt(a,l,u){if(a.tag===3)TT(a,a,u);else for(;l!==null;){if(l.tag===3){TT(l,a,u);break}else if(l.tag===1){var f=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ia===null||!ia.has(f))){a=_i(u,a),u=CE(2),f=$s(l,u,2),f!==null&&(AE(u,f,l,a),Br(f,2),dr(f));break}}l=l.return}}function o_(a,l,u){var f=a.pingCache;if(f===null){f=a.pingCache=new RI;var g=new Set;f.set(l,g)}else g=f.get(l),g===void 0&&(g=new Set,f.set(l,g));g.has(u)||(Xy=!0,g.add(u),a=PI.bind(null,a,l,u),l.then(a,a))}function PI(a,l,u){var f=a.pingCache;f!==null&&f.delete(l),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,_t===a&&(Ge&u)===u&&(Pt===4||Pt===3&&(Ge&62914560)===Ge&&300>di()-e_?(ot&2)===0&&ic(a,0):Zy|=u,ec===Ge&&(ec=0)),dr(a)}function ST(a,l){l===0&&(l=lu()),a=Fl(a,l),a!==null&&(Br(a,l),dr(a))}function NI(a){var l=a.memoizedState,u=0;l!==null&&(u=l.retryLane),ST(a,u)}function LI(a,l){var u=0;switch(a.tag){case 13:var f=a.stateNode,g=a.memoizedState;g!==null&&(u=g.retryLane);break;case 19:f=a.stateNode;break;case 22:f=a.stateNode._retryCache;break;default:throw Error(n(314))}f!==null&&f.delete(l),ST(a,u)}function VI(a,l){return $a(a,l)}var zf=null,sc=null,l_=!1,Hf=!1,c_=!1,ko=0;function dr(a){a!==sc&&a.next===null&&(sc===null?zf=sc=a:sc=sc.next=a),Hf=!0,l_||(l_=!0,FI())}function Ju(a,l){if(!c_&&Hf){c_=!0;do for(var u=!1,f=zf;f!==null;){if(a!==0){var g=f.pendingLanes;if(g===0)var v=0;else{var D=f.suspendedLanes,R=f.pingedLanes;v=(1<<31-Dn(42|a)+1)-1,v&=g&~(D&~R),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(u=!0,AT(f,v))}else v=Ge,v=bl(f,f===_t?v:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(v&3)===0||eo(f,v)||(u=!0,AT(f,v));f=f.next}while(u);c_=!1}}function BI(){xT()}function xT(){Hf=l_=!1;var a=0;ko!==0&&(GI()&&(a=ko),ko=0);for(var l=di(),u=null,f=zf;f!==null;){var g=f.next,v=DT(f,l);v===0?(f.next=null,u===null?zf=g:u.next=g,g===null&&(sc=u)):(u=f,(a!==0||(v&3)!==0)&&(Hf=!0)),f=g}Ju(a)}function DT(a,l){for(var u=a.suspendedLanes,f=a.pingedLanes,g=a.expirationTimes,v=a.pendingLanes&-62914561;0<v;){var D=31-Dn(v),R=1<<D,z=g[D];z===-1?((R&u)===0||(R&f)!==0)&&(g[D]=au(R,l)):z<=l&&(a.expiredLanes|=R),v&=~R}if(l=_t,u=Ge,u=bl(a,a===l?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f=a.callbackNode,u===0||a===l&&(lt===2||lt===9)||a.cancelPendingCommit!==null)return f!==null&&f!==null&&Qa(f),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||eo(a,u)){if(l=u&-u,l===a.callbackPriority)return l;switch(f!==null&&Qa(f),wl(u)){case 2:case 8:u=_l;break;case 32:u=Ka;break;case 268435456:u=vl;break;default:u=Ka}return f=CT.bind(null,a),u=$a(u,f),a.callbackPriority=l,a.callbackNode=u,l}return f!==null&&f!==null&&Qa(f),a.callbackPriority=2,a.callbackNode=null,2}function CT(a,l){if(vn!==0&&vn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(jf()&&a.callbackNode!==u)return null;var f=Ge;return f=bl(a,a===_t?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f===0?null:(cT(a,f,l),DT(a,di()),a.callbackNode!=null&&a.callbackNode===u?CT.bind(null,a):null)}function AT(a,l){if(jf())return null;cT(a,l,!0)}function FI(){QI(function(){(ot&6)!==0?$a(ru,BI):xT()})}function u_(){return ko===0&&(ko=ou()),ko}function RT(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Cl(""+a)}function kT(a,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,a.id&&u.setAttribute("form",a.id),l.parentNode.insertBefore(u,l),a=new FormData(a),u.parentNode.removeChild(u),a}function UI(a,l,u,f,g){if(l==="submit"&&u&&u.stateNode===g){var v=RT((g[qt]||null).action),D=f.submitter;D&&(l=(l=D[qt]||null)?RT(l.formAction):D.getAttribute("formAction"),l!==null&&(v=l,D=null));var R=new Al("action","action",null,f,g);a.push({event:R,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(ko!==0){var z=D?kT(g,D):new FormData(g);ky(u,{pending:!0,data:z,method:g.method,action:v},null,z)}}else typeof v=="function"&&(R.preventDefault(),z=D?kT(g,D):new FormData(g),ky(u,{pending:!0,data:z,method:g.method,action:v},v,z))},currentTarget:g}]})}}for(var h_=0;h_<Qg.length;h_++){var d_=Qg[h_],jI=d_.toLowerCase(),zI=d_[0].toUpperCase()+d_.slice(1);Bi(jI,"on"+zI)}Bi(cw,"onAnimationEnd"),Bi(uw,"onAnimationIteration"),Bi(hw,"onAnimationStart"),Bi("dblclick","onDoubleClick"),Bi("focusin","onFocus"),Bi("focusout","onBlur"),Bi(sI,"onTransitionRun"),Bi(aI,"onTransitionStart"),Bi(oI,"onTransitionCancel"),Bi(dw,"onTransitionEnd"),Ur("onMouseEnter",["mouseout","mouseover"]),Ur("onMouseLeave",["mouseout","mouseover"]),Ur("onPointerEnter",["pointerout","pointerover"]),Ur("onPointerLeave",["pointerout","pointerover"]),Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Li("onBeforeInput",["compositionend","keypress","textInput","paste"]),Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eh));function MT(a,l){l=(l&4)!==0;for(var u=0;u<a.length;u++){var f=a[u],g=f.event;f=f.listeners;e:{var v=void 0;if(l)for(var D=f.length-1;0<=D;D--){var R=f[D],z=R.instance,X=R.currentTarget;if(R=R.listener,z!==v&&g.isPropagationStopped())break e;v=R,g.currentTarget=X;try{v(g)}catch(se){kf(se)}g.currentTarget=null,v=z}else for(D=0;D<f.length;D++){if(R=f[D],z=R.instance,X=R.currentTarget,R=R.listener,z!==v&&g.isPropagationStopped())break e;v=R,g.currentTarget=X;try{v(g)}catch(se){kf(se)}g.currentTarget=null,v=z}}}}function Fe(a,l){var u=l[hu];u===void 0&&(u=l[hu]=new Set);var f=a+"__bubble";u.has(f)||(IT(l,a,2,!1),u.add(f))}function f_(a,l,u){var f=0;l&&(f|=4),IT(u,a,f,l)}var Yf="_reactListening"+Math.random().toString(36).slice(2);function p_(a){if(!a[Yf]){a[Yf]=!0,du.forEach(function(u){u!=="selectionchange"&&(HI.has(u)||f_(u,!1,a),f_(u,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[Yf]||(l[Yf]=!0,f_("selectionchange",!1,l))}}function IT(a,l,u,f){switch(nS(l)){case 2:var g=gO;break;case 8:g=yO;break;default:g=A_}u=g.bind(null,l,u,a),g=void 0,!gi||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(g=!0),f?g!==void 0?a.addEventListener(l,u,{capture:!0,passive:g}):a.addEventListener(l,u,!0):g!==void 0?a.addEventListener(l,u,{passive:g}):a.addEventListener(l,u,!1)}function m_(a,l,u,f,g){var v=f;if((l&1)===0&&(l&2)===0&&f!==null)e:for(;;){if(f===null)return;var D=f.tag;if(D===3||D===4){var R=f.stateNode.containerInfo;if(R===g)break;if(D===4)for(D=f.return;D!==null;){var z=D.tag;if((z===3||z===4)&&D.stateNode.containerInfo===g)return;D=D.return}for(;R!==null;){if(D=Fr(R),D===null)return;if(z=D.tag,z===5||z===6||z===26||z===27){f=v=D;continue e}R=R.parentNode}}f=f.return}qd(function(){var X=v,se=mi(u),ce=[];e:{var Z=fw.get(a);if(Z!==void 0){var J=Al,Re=a;switch(a){case"keypress":if(ir(u)===0)break e;case"keydown":case"keyup":J=Pl;break;case"focusin":Re="focus",J=Ml;break;case"focusout":Re="blur",J=Ml;break;case"beforeblur":case"afterblur":J=Ml;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=yi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=jg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Jd;break;case cw:case uw:case hw:J=Il;break;case dw:J=tf;break;case"scroll":case"scrollend":J=Wd;break;case"wheel":J=Nl;break;case"copy":case"cut":case"paste":J=Ol;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Su;break;case"toggle":case"beforetoggle":J=rf}var xe=(l&4)!==0,mt=!xe&&(a==="scroll"||a==="scrollend"),G=xe?Z!==null?Z+"Capture":null:Z;xe=[];for(var Y=X,Q;Y!==null;){var ae=Y;if(Q=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||Q===null||G===null||(ae=lo(Y,G),ae!=null&&xe.push(th(Y,ae,Q))),mt)break;Y=Y.return}0<xe.length&&(Z=new J(Z,Re,null,u,se),ce.push({event:Z,listeners:xe}))}}if((l&7)===0){e:{if(Z=a==="mouseover"||a==="pointerover",J=a==="mouseout"||a==="pointerout",Z&&u!==Hr&&(Re=u.relatedTarget||u.fromElement)&&(Fr(Re)||Re[fi]))break e;if((J||Z)&&(Z=se.window===se?se:(Z=se.ownerDocument)?Z.defaultView||Z.parentWindow:window,J?(Re=u.relatedTarget||u.toElement,J=X,Re=Re?Fr(Re):null,Re!==null&&(mt=s(Re),xe=Re.tag,Re!==mt||xe!==5&&xe!==27&&xe!==6)&&(Re=null)):(J=null,Re=X),J!==Re)){if(xe=yi,ae="onMouseLeave",G="onMouseEnter",Y="mouse",(a==="pointerout"||a==="pointerover")&&(xe=Su,ae="onPointerLeave",G="onPointerEnter",Y="pointer"),mt=J==null?Z:Ji(J),Q=Re==null?Z:Ji(Re),Z=new xe(ae,Y+"leave",J,u,se),Z.target=mt,Z.relatedTarget=Q,ae=null,Fr(se)===X&&(xe=new xe(G,Y+"enter",Re,u,se),xe.target=Q,xe.relatedTarget=mt,ae=xe),mt=ae,J&&Re)t:{for(xe=J,G=Re,Y=0,Q=xe;Q;Q=ac(Q))Y++;for(Q=0,ae=G;ae;ae=ac(ae))Q++;for(;0<Y-Q;)xe=ac(xe),Y--;for(;0<Q-Y;)G=ac(G),Q--;for(;Y--;){if(xe===G||G!==null&&xe===G.alternate)break t;xe=ac(xe),G=ac(G)}xe=null}else xe=null;J!==null&&OT(ce,Z,J,xe,!1),Re!==null&&mt!==null&&OT(ce,mt,Re,xe,!0)}}e:{if(Z=X?Ji(X):window,J=Z.nodeName&&Z.nodeName.toLowerCase(),J==="select"||J==="input"&&Z.type==="file")var ve=Z0;else if(tn(Z))if(J0)ve=nI;else{ve=eI;var Ve=JM}else J=Z.nodeName,!J||J.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?X&&yu(X.elementType)&&(ve=Z0):ve=tI;if(ve&&(ve=ve(a,X))){$r(ce,ve,u,se);break e}Ve&&Ve(a,Z,X),a==="focusout"&&X&&Z.type==="number"&&X.memoizedProps.value!=null&&Hs(Z,"number",Z.value)}switch(Ve=X?Ji(X):window,a){case"focusin":(tn(Ve)||Ve.contentEditable==="true")&&(Ll=Ve,Wg=X,Cu=null);break;case"focusout":Cu=Wg=Ll=null;break;case"mousedown":Gg=!0;break;case"contextmenu":case"mouseup":case"dragend":Gg=!1,ow(ce,u,se);break;case"selectionchange":if(rI)break;case"keydown":case"keyup":ow(ce,u,se)}var Ee;if(ar)e:{switch(a){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else qe?te(a,u)&&(De="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(De="onCompositionStart");De&&(x&&u.locale!=="ko"&&(qe||De!=="onCompositionStart"?De==="onCompositionEnd"&&qe&&(Ee=vu()):(nr=se,Ys="value"in nr?nr.value:nr.textContent,qe=!0)),Ve=qf(X,De),0<Ve.length&&(De=new Eu(De,a,null,u,se),ce.push({event:De,listeners:Ve}),Ee?De.data=Ee:(Ee=pe(u),Ee!==null&&(De.data=Ee)))),(Ee=w?en(a,u):We(a,u))&&(De=qf(X,"onBeforeInput"),0<De.length&&(Ve=new Eu("onBeforeInput","beforeinput",null,u,se),ce.push({event:Ve,listeners:De}),Ve.data=Ee)),UI(ce,a,X,u,se)}MT(ce,l)})}function th(a,l,u){return{instance:a,listener:l,currentTarget:u}}function qf(a,l){for(var u=l+"Capture",f=[];a!==null;){var g=a,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=lo(a,u),g!=null&&f.unshift(th(a,g,v)),g=lo(a,l),g!=null&&f.push(th(a,g,v))),a.tag===3)return f;a=a.return}return[]}function ac(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function OT(a,l,u,f,g){for(var v=l._reactName,D=[];u!==null&&u!==f;){var R=u,z=R.alternate,X=R.stateNode;if(R=R.tag,z!==null&&z===f)break;R!==5&&R!==26&&R!==27||X===null||(z=X,g?(X=lo(u,v),X!=null&&D.unshift(th(u,X,z))):g||(X=lo(u,v),X!=null&&D.push(th(u,X,z)))),u=u.return}D.length!==0&&a.push({event:l,listeners:D})}var YI=/\r\n?/g,qI=/\u0000|\uFFFD/g;function PT(a){return(typeof a=="string"?a:""+a).replace(YI,`
`).replace(qI,"")}function NT(a,l){return l=PT(l),PT(a)===l}function Wf(){}function pt(a,l,u,f,g,v){switch(u){case"children":typeof f=="string"?l==="body"||l==="textarea"&&f===""||pi(a,f):(typeof f=="number"||typeof f=="bigint")&&l!=="body"&&pi(a,""+f);break;case"className":er(a,"class",f);break;case"tabIndex":er(a,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":er(a,u,f);break;case"style":gu(a,f,v);break;case"data":if(l!=="object"){er(a,"data",f);break}case"src":case"href":if(f===""&&(l!=="a"||u!=="href")){a.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(u);break}f=Cl(""+f),a.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(u==="formAction"?(l!=="input"&&pt(a,l,"name",g.name,g,null),pt(a,l,"formEncType",g.formEncType,g,null),pt(a,l,"formMethod",g.formMethod,g,null),pt(a,l,"formTarget",g.formTarget,g,null)):(pt(a,l,"encType",g.encType,g,null),pt(a,l,"method",g.method,g,null),pt(a,l,"target",g.target,g,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(u);break}f=Cl(""+f),a.setAttribute(u,f);break;case"onClick":f!=null&&(a.onclick=Wf);break;case"onScroll":f!=null&&Fe("scroll",a);break;case"onScrollEnd":f!=null&&Fe("scrollend",a);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(u=f.__html,u!=null){if(g.children!=null)throw Error(n(60));a.innerHTML=u}}break;case"multiple":a.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":a.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){a.removeAttribute("xlink:href");break}u=Cl(""+f),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,""+f):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":f===!0?a.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,f):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?a.setAttribute(u,f):a.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?a.removeAttribute(u):a.setAttribute(u,f);break;case"popover":Fe("beforetoggle",a),Fe("toggle",a),zs(a,"popover",f);break;case"xlinkActuate":gn(a,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":gn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":gn(a,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":gn(a,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":gn(a,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":gn(a,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":gn(a,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":gn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":gn(a,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":zs(a,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Fg.get(u)||u,zs(a,u,f))}}function g_(a,l,u,f,g,v){switch(u){case"style":gu(a,f,v);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(u=f.__html,u!=null){if(g.children!=null)throw Error(n(60));a.innerHTML=u}}break;case"children":typeof f=="string"?pi(a,f):(typeof f=="number"||typeof f=="bigint")&&pi(a,""+f);break;case"onScroll":f!=null&&Fe("scroll",a);break;case"onScrollEnd":f!=null&&Fe("scrollend",a);break;case"onClick":f!=null&&(a.onclick=Wf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!El.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(g=u.endsWith("Capture"),l=u.slice(2,g?u.length-7:void 0),v=a[qt]||null,v=v!=null?v[u]:null,typeof v=="function"&&a.removeEventListener(l,v,g),typeof f=="function")){typeof v!="function"&&v!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(l,f,g);break e}u in a?a[u]=f:f===!0?a.setAttribute(u,""):zs(a,u,f)}}}function bn(a,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",a),Fe("load",a);var f=!1,g=!1,v;for(v in u)if(u.hasOwnProperty(v)){var D=u[v];if(D!=null)switch(v){case"src":f=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:pt(a,l,v,D,u,null)}}g&&pt(a,l,"srcSet",u.srcSet,u,null),f&&pt(a,l,"src",u.src,u,null);return;case"input":Fe("invalid",a);var R=v=D=g=null,z=null,X=null;for(f in u)if(u.hasOwnProperty(f)){var se=u[f];if(se!=null)switch(f){case"name":g=se;break;case"type":D=se;break;case"checked":z=se;break;case"defaultChecked":X=se;break;case"value":v=se;break;case"defaultValue":R=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(n(137,l));break;default:pt(a,l,f,se,u,null)}}so(a,v,R,z,X,D,g,!1),Dl(a);return;case"select":Fe("invalid",a),f=D=v=null;for(g in u)if(u.hasOwnProperty(g)&&(R=u[g],R!=null))switch(g){case"value":v=R;break;case"defaultValue":D=R;break;case"multiple":f=R;default:pt(a,l,g,R,u,null)}l=v,u=D,a.multiple=!!f,l!=null?zr(a,!!f,l,!1):u!=null&&zr(a,!!f,u,!0);return;case"textarea":Fe("invalid",a),v=g=f=null;for(D in u)if(u.hasOwnProperty(D)&&(R=u[D],R!=null))switch(D){case"value":f=R;break;case"defaultValue":g=R;break;case"children":v=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(n(91));break;default:pt(a,l,D,R,u,null)}ao(a,f,g,v),Dl(a);return;case"option":for(z in u)if(u.hasOwnProperty(z)&&(f=u[z],f!=null))switch(z){case"selected":a.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:pt(a,l,z,f,u,null)}return;case"dialog":Fe("beforetoggle",a),Fe("toggle",a),Fe("cancel",a),Fe("close",a);break;case"iframe":case"object":Fe("load",a);break;case"video":case"audio":for(f=0;f<eh.length;f++)Fe(eh[f],a);break;case"image":Fe("error",a),Fe("load",a);break;case"details":Fe("toggle",a);break;case"embed":case"source":case"link":Fe("error",a),Fe("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in u)if(u.hasOwnProperty(X)&&(f=u[X],f!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:pt(a,l,X,f,u,null)}return;default:if(yu(l)){for(se in u)u.hasOwnProperty(se)&&(f=u[se],f!==void 0&&g_(a,l,se,f,u,void 0));return}}for(R in u)u.hasOwnProperty(R)&&(f=u[R],f!=null&&pt(a,l,R,f,u,null))}function WI(a,l,u,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,D=null,R=null,z=null,X=null,se=null;for(J in u){var ce=u[J];if(u.hasOwnProperty(J)&&ce!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":z=ce;default:f.hasOwnProperty(J)||pt(a,l,J,null,f,ce)}}for(var Z in f){var J=f[Z];if(ce=u[Z],f.hasOwnProperty(Z)&&(J!=null||ce!=null))switch(Z){case"type":v=J;break;case"name":g=J;break;case"checked":X=J;break;case"defaultChecked":se=J;break;case"value":D=J;break;case"defaultValue":R=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(n(137,l));break;default:J!==ce&&pt(a,l,Z,J,f,ce)}}ei(a,D,R,z,X,se,v,g);return;case"select":J=D=R=Z=null;for(v in u)if(z=u[v],u.hasOwnProperty(v)&&z!=null)switch(v){case"value":break;case"multiple":J=z;default:f.hasOwnProperty(v)||pt(a,l,v,null,f,z)}for(g in f)if(v=f[g],z=u[g],f.hasOwnProperty(g)&&(v!=null||z!=null))switch(g){case"value":Z=v;break;case"defaultValue":R=v;break;case"multiple":D=v;default:v!==z&&pt(a,l,g,v,f,z)}l=R,u=D,f=J,Z!=null?zr(a,!!u,Z,!1):!!f!=!!u&&(l!=null?zr(a,!!u,l,!0):zr(a,!!u,u?[]:"",!1));return;case"textarea":J=Z=null;for(R in u)if(g=u[R],u.hasOwnProperty(R)&&g!=null&&!f.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:pt(a,l,R,null,f,g)}for(D in f)if(g=f[D],v=u[D],f.hasOwnProperty(D)&&(g!=null||v!=null))switch(D){case"value":Z=g;break;case"defaultValue":J=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(n(91));break;default:g!==v&&pt(a,l,D,g,f,v)}dt(a,Z,J);return;case"option":for(var Re in u)if(Z=u[Re],u.hasOwnProperty(Re)&&Z!=null&&!f.hasOwnProperty(Re))switch(Re){case"selected":a.selected=!1;break;default:pt(a,l,Re,null,f,Z)}for(z in f)if(Z=f[z],J=u[z],f.hasOwnProperty(z)&&Z!==J&&(Z!=null||J!=null))switch(z){case"selected":a.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:pt(a,l,z,Z,f,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in u)Z=u[xe],u.hasOwnProperty(xe)&&Z!=null&&!f.hasOwnProperty(xe)&&pt(a,l,xe,null,f,Z);for(X in f)if(Z=f[X],J=u[X],f.hasOwnProperty(X)&&Z!==J&&(Z!=null||J!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(n(137,l));break;default:pt(a,l,X,Z,f,J)}return;default:if(yu(l)){for(var mt in u)Z=u[mt],u.hasOwnProperty(mt)&&Z!==void 0&&!f.hasOwnProperty(mt)&&g_(a,l,mt,void 0,f,Z);for(se in f)Z=f[se],J=u[se],!f.hasOwnProperty(se)||Z===J||Z===void 0&&J===void 0||g_(a,l,se,Z,f,J);return}}for(var G in u)Z=u[G],u.hasOwnProperty(G)&&Z!=null&&!f.hasOwnProperty(G)&&pt(a,l,G,null,f,Z);for(ce in f)Z=f[ce],J=u[ce],!f.hasOwnProperty(ce)||Z===J||Z==null&&J==null||pt(a,l,ce,Z,f,J)}var y_=null,__=null;function Gf(a){return a.nodeType===9?a:a.ownerDocument}function LT(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function VT(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function v_(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var b_=null;function GI(){var a=window.event;return a&&a.type==="popstate"?a===b_?!1:(b_=a,!0):(b_=null,!1)}var BT=typeof setTimeout=="function"?setTimeout:void 0,$I=typeof clearTimeout=="function"?clearTimeout:void 0,FT=typeof Promise=="function"?Promise:void 0,QI=typeof queueMicrotask=="function"?queueMicrotask:typeof FT<"u"?function(a){return FT.resolve(null).then(a).catch(KI)}:BT;function KI(a){setTimeout(function(){throw a})}function aa(a){return a==="head"}function UT(a,l){var u=l,f=0,g=0;do{var v=u.nextSibling;if(a.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(0<f&&8>f){u=f;var D=a.ownerDocument;if(u&1&&nh(D.documentElement),u&2&&nh(D.body),u&4)for(u=D.head,nh(u),D=u.firstChild;D;){var R=D.nextSibling,z=D.nodeName;D[to]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&D.rel.toLowerCase()==="stylesheet"||u.removeChild(D),D=R}}if(g===0){a.removeChild(v),uh(l);return}g--}else u==="$"||u==="$?"||u==="$!"?g++:f=u.charCodeAt(0)-48;else f=0;u=v}while(u);uh(l)}function w_(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":w_(u),js(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function XI(a,l,u,f){for(;a.nodeType===1;){var g=u;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!f&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(f){if(!a[to])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(v=a.getAttribute("rel"),v==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(v!==g.rel||a.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||a.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||a.getAttribute("title")!==(g.title==null?null:g.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(v=a.getAttribute("src"),(v!==(g.src==null?null:g.src)||a.getAttribute("type")!==(g.type==null?null:g.type)||a.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&a.getAttribute("name")===v)return a}else return a;if(a=Ui(a.nextSibling),a===null)break}return null}function ZI(a,l,u){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Ui(a.nextSibling),a===null))return null;return a}function E_(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function JI(a,l){var u=a.ownerDocument;if(a.data!=="$?"||u.readyState==="complete")l();else{var f=function(){l(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),a._reactRetry=f}}function Ui(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return a}var T_=null;function jT(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"){if(l===0)return a;l--}else u==="/$"&&l++}a=a.previousSibling}return null}function zT(a,l,u){switch(l=Gf(u),a){case"html":if(a=l.documentElement,!a)throw Error(n(452));return a;case"head":if(a=l.head,!a)throw Error(n(453));return a;case"body":if(a=l.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function nh(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);js(a)}var Si=new Map,HT=new Set;function $f(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var os=ee.d;ee.d={f:eO,r:tO,D:nO,C:iO,L:rO,m:sO,X:oO,S:aO,M:lO};function eO(){var a=os.f(),l=Ff();return a||l}function tO(a){var l=Zi(a);l!==null&&l.tag===5&&l.type==="form"?cE(l):os.r(a)}var oc=typeof document>"u"?null:document;function YT(a,l,u){var f=oc;if(f&&typeof l=="string"&&l){var g=Wt(l);g='link[rel="'+a+'"][href="'+g+'"]',typeof u=="string"&&(g+='[crossorigin="'+u+'"]'),HT.has(g)||(HT.add(g),a={rel:a,crossOrigin:u,href:l},f.querySelector(g)===null&&(l=f.createElement("link"),bn(l,"link",a),Vt(l),f.head.appendChild(l)))}}function nO(a){os.D(a),YT("dns-prefetch",a,null)}function iO(a,l){os.C(a,l),YT("preconnect",a,l)}function rO(a,l,u){os.L(a,l,u);var f=oc;if(f&&a&&l){var g='link[rel="preload"][as="'+Wt(l)+'"]';l==="image"&&u&&u.imageSrcSet?(g+='[imagesrcset="'+Wt(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(g+='[imagesizes="'+Wt(u.imageSizes)+'"]')):g+='[href="'+Wt(a)+'"]';var v=g;switch(l){case"style":v=lc(a);break;case"script":v=cc(a)}Si.has(v)||(a=p({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:a,as:l},u),Si.set(v,a),f.querySelector(g)!==null||l==="style"&&f.querySelector(ih(v))||l==="script"&&f.querySelector(rh(v))||(l=f.createElement("link"),bn(l,"link",a),Vt(l),f.head.appendChild(l)))}}function sO(a,l){os.m(a,l);var u=oc;if(u&&a){var f=l&&typeof l.as=="string"?l.as:"script",g='link[rel="modulepreload"][as="'+Wt(f)+'"][href="'+Wt(a)+'"]',v=g;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=cc(a)}if(!Si.has(v)&&(a=p({rel:"modulepreload",href:a},l),Si.set(v,a),u.querySelector(g)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(rh(v)))return}f=u.createElement("link"),bn(f,"link",a),Vt(f),u.head.appendChild(f)}}}function aO(a,l,u){os.S(a,l,u);var f=oc;if(f&&a){var g=Fn(f).hoistableStyles,v=lc(a);l=l||"default";var D=g.get(v);if(!D){var R={loading:0,preload:null};if(D=f.querySelector(ih(v)))R.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":l},u),(u=Si.get(v))&&S_(a,u);var z=D=f.createElement("link");Vt(z),bn(z,"link",a),z._p=new Promise(function(X,se){z.onload=X,z.onerror=se}),z.addEventListener("load",function(){R.loading|=1}),z.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Qf(D,l,f)}D={type:"stylesheet",instance:D,count:1,state:R},g.set(v,D)}}}function oO(a,l){os.X(a,l);var u=oc;if(u&&a){var f=Fn(u).hoistableScripts,g=cc(a),v=f.get(g);v||(v=u.querySelector(rh(g)),v||(a=p({src:a,async:!0},l),(l=Si.get(g))&&x_(a,l),v=u.createElement("script"),Vt(v),bn(v,"link",a),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(g,v))}}function lO(a,l){os.M(a,l);var u=oc;if(u&&a){var f=Fn(u).hoistableScripts,g=cc(a),v=f.get(g);v||(v=u.querySelector(rh(g)),v||(a=p({src:a,async:!0,type:"module"},l),(l=Si.get(g))&&x_(a,l),v=u.createElement("script"),Vt(v),bn(v,"link",a),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(g,v))}}function qT(a,l,u,f){var g=(g=Se.current)?$f(g):null;if(!g)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=lc(u.href),u=Fn(g).hoistableStyles,f=u.get(l),f||(f={type:"style",instance:null,count:0,state:null},u.set(l,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=lc(u.href);var v=Fn(g).hoistableStyles,D=v.get(a);if(D||(g=g.ownerDocument||g,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(a,D),(v=g.querySelector(ih(a)))&&!v._p&&(D.instance=v,D.state.loading=5),Si.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Si.set(a,u),v||cO(g,a,u,D.state))),l&&f===null)throw Error(n(528,""));return D}if(l&&f!==null)throw Error(n(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=cc(u),u=Fn(g).hoistableScripts,f=u.get(l),f||(f={type:"script",instance:null,count:0,state:null},u.set(l,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function lc(a){return'href="'+Wt(a)+'"'}function ih(a){return'link[rel="stylesheet"]['+a+"]"}function WT(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function cO(a,l,u,f){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?f.loading=1:(l=a.createElement("link"),f.preload=l,l.addEventListener("load",function(){return f.loading|=1}),l.addEventListener("error",function(){return f.loading|=2}),bn(l,"link",u),Vt(l),a.head.appendChild(l))}function cc(a){return'[src="'+Wt(a)+'"]'}function rh(a){return"script[async]"+a}function GT(a,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var f=a.querySelector('style[data-href~="'+Wt(u.href)+'"]');if(f)return l.instance=f,Vt(f),f;var g=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(a.ownerDocument||a).createElement("style"),Vt(f),bn(f,"style",g),Qf(f,u.precedence,a),l.instance=f;case"stylesheet":g=lc(u.href);var v=a.querySelector(ih(g));if(v)return l.state.loading|=4,l.instance=v,Vt(v),v;f=WT(u),(g=Si.get(g))&&S_(f,g),v=(a.ownerDocument||a).createElement("link"),Vt(v);var D=v;return D._p=new Promise(function(R,z){D.onload=R,D.onerror=z}),bn(v,"link",f),l.state.loading|=4,Qf(v,u.precedence,a),l.instance=v;case"script":return v=cc(u.src),(g=a.querySelector(rh(v)))?(l.instance=g,Vt(g),g):(f=u,(g=Si.get(v))&&(f=p({},u),x_(f,g)),a=a.ownerDocument||a,g=a.createElement("script"),Vt(g),bn(g,"link",f),a.head.appendChild(g),l.instance=g);case"void":return null;default:throw Error(n(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(f=l.instance,l.state.loading|=4,Qf(f,u.precedence,a));return l.instance}function Qf(a,l,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=f.length?f[f.length-1]:null,v=g,D=0;D<f.length;D++){var R=f[D];if(R.dataset.precedence===l)v=R;else if(v!==g)break}v?v.parentNode.insertBefore(a,v.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(a,l.firstChild))}function S_(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function x_(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var Kf=null;function $T(a,l,u){if(Kf===null){var f=new Map,g=Kf=new Map;g.set(u,f)}else g=Kf,f=g.get(u),f||(f=new Map,g.set(u,f));if(f.has(a))return f;for(f.set(a,null),u=u.getElementsByTagName(a),g=0;g<u.length;g++){var v=u[g];if(!(v[to]||v[Jt]||a==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var D=v.getAttribute(l)||"";D=a+D;var R=f.get(D);R?R.push(v):f.set(D,[v])}}return f}function QT(a,l,u){a=a.ownerDocument||a,a.head.insertBefore(u,l==="title"?a.querySelector("head > title"):null)}function uO(a,l,u){if(u===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function KT(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var sh=null;function hO(){}function dO(a,l,u){if(sh===null)throw Error(n(475));var f=sh;if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=lc(u.href),v=a.querySelector(ih(g));if(v){a=v._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(f.count++,f=Xf.bind(f),a.then(f,f)),l.state.loading|=4,l.instance=v,Vt(v);return}v=a.ownerDocument||a,u=WT(u),(g=Si.get(g))&&S_(u,g),v=v.createElement("link"),Vt(v);var D=v;D._p=new Promise(function(R,z){D.onload=R,D.onerror=z}),bn(v,"link",u),l.instance=v}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(f.count++,l=Xf.bind(f),a.addEventListener("load",l),a.addEventListener("error",l))}}function fO(){if(sh===null)throw Error(n(475));var a=sh;return a.stylesheets&&a.count===0&&D_(a,a.stylesheets),0<a.count?function(l){var u=setTimeout(function(){if(a.stylesheets&&D_(a,a.stylesheets),a.unsuspend){var f=a.unsuspend;a.unsuspend=null,f()}},6e4);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(u)}}:null}function Xf(){if(this.count--,this.count===0){if(this.stylesheets)D_(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Zf=null;function D_(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Zf=new Map,l.forEach(pO,a),Zf=null,Xf.call(a))}function pO(a,l){if(!(l.state.loading&4)){var u=Zf.get(a);if(u)var f=u.get(null);else{u=new Map,Zf.set(a,u);for(var g=a.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var D=g[v];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(u.set(D.dataset.precedence,D),f=D)}f&&u.set(null,f)}g=l.instance,D=g.getAttribute("data-precedence"),v=u.get(D)||f,v===f&&u.set(null,g),u.set(D,g),this.count++,f=Xf.bind(this),g.addEventListener("load",f),g.addEventListener("error",f),v?v.parentNode.insertBefore(g,v.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(g,a.firstChild)),l.state.loading|=4}}var ah={$$typeof:j,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function mO(a,l,u,f,g,v,D,R){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vr(0),this.hiddenUpdates=Vr(null),this.identifierPrefix=f,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function XT(a,l,u,f,g,v,D,R,z,X,se,ce){return a=new mO(a,l,u,D,R,z,X,ce),l=1,v===!0&&(l|=24),v=ni(3,null,null,l),a.current=v,v.stateNode=a,l=oy(),l.refCount++,a.pooledCache=l,l.refCount++,v.memoizedState={element:f,isDehydrated:u,cache:l},hy(v),a}function ZT(a){return a?(a=Ul,a):Ul}function JT(a,l,u,f,g,v){g=ZT(g),f.context===null?f.context=g:f.pendingContext=g,f=Gs(l),f.payload={element:u},v=v===void 0?null:v,v!==null&&(f.callback=v),u=$s(a,f,l),u!==null&&(oi(u,a,l),Lu(u,a,l))}function eS(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<l?u:l}}function C_(a,l){eS(a,l),(a=a.alternate)&&eS(a,l)}function tS(a){if(a.tag===13){var l=Fl(a,67108864);l!==null&&oi(l,a,67108864),C_(a,67108864)}}var Jf=!0;function gO(a,l,u,f){var g=W.T;W.T=null;var v=ee.p;try{ee.p=2,A_(a,l,u,f)}finally{ee.p=v,W.T=g}}function yO(a,l,u,f){var g=W.T;W.T=null;var v=ee.p;try{ee.p=8,A_(a,l,u,f)}finally{ee.p=v,W.T=g}}function A_(a,l,u,f){if(Jf){var g=R_(f);if(g===null)m_(a,l,f,ep,u),iS(a,f);else if(vO(g,a,l,u,f))f.stopPropagation();else if(iS(a,f),l&4&&-1<_O.indexOf(a)){for(;g!==null;){var v=Zi(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var D=Ni(v.pendingLanes);if(D!==0){var R=v;for(R.pendingLanes|=2,R.entangledLanes|=2;D;){var z=1<<31-Dn(D);R.entanglements[1]|=z,D&=~z}dr(v),(ot&6)===0&&(Vf=di()+500,Ju(0))}}break;case 13:R=Fl(v,2),R!==null&&oi(R,v,2),Ff(),C_(v,2)}if(v=R_(f),v===null&&m_(a,l,f,ep,u),v===g)break;g=v}g!==null&&f.stopPropagation()}else m_(a,l,f,null,u)}}function R_(a){return a=mi(a),k_(a)}var ep=null;function k_(a){if(ep=null,a=Fr(a),a!==null){var l=s(a);if(l===null)a=null;else{var u=l.tag;if(u===13){if(a=o(l),a!==null)return a;a=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return ep=a,null}function nS(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Og()){case ru:return 2;case _l:return 8;case Ka:case Pg:return 32;case vl:return 268435456;default:return 32}default:return 32}}var M_=!1,oa=null,la=null,ca=null,oh=new Map,lh=new Map,ua=[],_O="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iS(a,l){switch(a){case"focusin":case"focusout":oa=null;break;case"dragenter":case"dragleave":la=null;break;case"mouseover":case"mouseout":ca=null;break;case"pointerover":case"pointerout":oh.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":lh.delete(l.pointerId)}}function ch(a,l,u,f,g,v){return a===null||a.nativeEvent!==v?(a={blockedOn:l,domEventName:u,eventSystemFlags:f,nativeEvent:v,targetContainers:[g]},l!==null&&(l=Zi(l),l!==null&&tS(l)),a):(a.eventSystemFlags|=f,l=a.targetContainers,g!==null&&l.indexOf(g)===-1&&l.push(g),a)}function vO(a,l,u,f,g){switch(l){case"focusin":return oa=ch(oa,a,l,u,f,g),!0;case"dragenter":return la=ch(la,a,l,u,f,g),!0;case"mouseover":return ca=ch(ca,a,l,u,f,g),!0;case"pointerover":var v=g.pointerId;return oh.set(v,ch(oh.get(v)||null,a,l,u,f,g)),!0;case"gotpointercapture":return v=g.pointerId,lh.set(v,ch(lh.get(v)||null,a,l,u,f,g)),!0}return!1}function rS(a){var l=Fr(a.target);if(l!==null){var u=s(l);if(u!==null){if(l=u.tag,l===13){if(l=o(u),l!==null){a.blockedOn=l,Bd(a.priority,function(){if(u.tag===13){var f=ai();f=Bs(f);var g=Fl(u,f);g!==null&&oi(g,u,f),C_(u,f)}});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function tp(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var u=R_(a.nativeEvent);if(u===null){u=a.nativeEvent;var f=new u.constructor(u.type,u);Hr=f,u.target.dispatchEvent(f),Hr=null}else return l=Zi(u),l!==null&&tS(l),a.blockedOn=u,!1;l.shift()}return!0}function sS(a,l,u){tp(a)&&u.delete(l)}function bO(){M_=!1,oa!==null&&tp(oa)&&(oa=null),la!==null&&tp(la)&&(la=null),ca!==null&&tp(ca)&&(ca=null),oh.forEach(sS),lh.forEach(sS)}function np(a,l){a.blockedOn===l&&(a.blockedOn=null,M_||(M_=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,bO)))}var ip=null;function aS(a){ip!==a&&(ip=a,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ip===a&&(ip=null);for(var l=0;l<a.length;l+=3){var u=a[l],f=a[l+1],g=a[l+2];if(typeof f!="function"){if(k_(f||u)===null)continue;break}var v=Zi(u);v!==null&&(a.splice(l,3),l-=3,ky(v,{pending:!0,data:g,method:u.method,action:f},f,g))}}))}function uh(a){function l(z){return np(z,a)}oa!==null&&np(oa,a),la!==null&&np(la,a),ca!==null&&np(ca,a),oh.forEach(l),lh.forEach(l);for(var u=0;u<ua.length;u++){var f=ua[u];f.blockedOn===a&&(f.blockedOn=null)}for(;0<ua.length&&(u=ua[0],u.blockedOn===null);)rS(u),u.blockedOn===null&&ua.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var g=u[f],v=u[f+1],D=g[qt]||null;if(typeof v=="function")D||aS(u);else if(D){var R=null;if(v&&v.hasAttribute("formAction")){if(g=v,D=v[qt]||null)R=D.formAction;else if(k_(g)!==null)continue}else R=D.action;typeof R=="function"?u[f+1]=R:(u.splice(f,3),f-=3),aS(u)}}}function I_(a){this._internalRoot=a}rp.prototype.render=I_.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(n(409));var u=l.current,f=ai();JT(u,f,a,l,null,null)},rp.prototype.unmount=I_.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;JT(a.current,2,null,a,null,null),Ff(),l[fi]=null}};function rp(a){this._internalRoot=a}rp.prototype.unstable_scheduleHydration=function(a){if(a){var l=Fs();a={blockedOn:null,target:a,priority:l};for(var u=0;u<ua.length&&l!==0&&l<ua[u].priority;u++);ua.splice(u,0,a),u===0&&rS(a)}};var oS=e.version;if(oS!=="19.1.1")throw Error(n(527,oS,"19.1.1"));ee.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=h(l),a=a!==null?d(a):null,a=a===null?null:a.stateNode,a};var wO={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sp.isDisabled&&sp.supportsFiber)try{It=sp.inject(wO),at=sp}catch{}}return dh.createRoot=function(a,l){if(!r(a))throw Error(n(299));var u=!1,f="",g=TE,v=SE,D=xE,R=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(v=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(R=l.unstable_transitionCallbacks)),l=XT(a,1,!1,null,null,u,f,g,v,D,R,null),a[fi]=l.current,p_(a),new I_(l)},dh.hydrateRoot=function(a,l,u){if(!r(a))throw Error(n(299));var f=!1,g="",v=TE,D=SE,R=xE,z=null,X=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(D=u.onCaughtError),u.onRecoverableError!==void 0&&(R=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(z=u.unstable_transitionCallbacks),u.formState!==void 0&&(X=u.formState)),l=XT(a,1,!0,l,u??null,f,g,v,D,R,z,X),l.context=ZT(null),u=l.current,f=ai(),f=Bs(f),g=Gs(f),g.callback=null,$s(u,g,f),u=f,l.current.lanes=u,Br(l,u),dr(l),a[fi]=l.current,p_(a),new rp(l)},dh.version="19.1.1",dh}var yS;function MO(){if(yS)return N_.exports;yS=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),N_.exports=kO(),N_.exports}var IO=MO();/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _S="popstate";function OO(i={}){function e(r,s){let{pathname:o="/",search:c="",hash:h=""}=ll(r.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),xv("",{pathname:o,search:c,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){let o=r.document.querySelector("base"),c="";if(o&&o.getAttribute("href")){let h=r.location.href,d=h.indexOf("#");c=d===-1?h:h.slice(0,d)}return c+"#"+(typeof s=="string"?s:Wh(s))}function n(r,s){Oi(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return NO(e,t,n,i)}function At(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Oi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PO(){return Math.random().toString(36).substring(2,10)}function vS(i,e){return{usr:i.state,key:i.key,idx:e}}function xv(i,e,t=null,n){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ll(e):e,state:t,key:e&&e.key||n||PO()}}function Wh({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function ll(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let n=i.indexOf("?");n>=0&&(e.search=i.substring(n),i=i.substring(0,n)),i&&(e.pathname=i)}return e}function NO(i,e,t,n={}){let{window:r=document.defaultView,v5Compat:s=!1}=n,o=r.history,c="POP",h=null,d=p();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function p(){return(o.state||{idx:null}).idx}function y(){c="POP";let T=p(),C=T==null?null:T-d;d=T,h&&h({action:c,location:S.location,delta:C})}function _(T,C){c="PUSH";let N=xv(S.location,T,C);t&&t(N,T),d=p()+1;let j=vS(N,d),q=S.createHref(N);try{o.pushState(j,"",q)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;r.location.assign(q)}s&&h&&h({action:c,location:S.location,delta:1})}function b(T,C){c="REPLACE";let N=xv(S.location,T,C);t&&t(N,T),d=p();let j=vS(N,d),q=S.createHref(N);o.replaceState(j,"",q),s&&h&&h({action:c,location:S.location,delta:0})}function E(T){return LO(T)}let S={get action(){return c},get location(){return i(r,o)},listen(T){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(_S,y),h=T,()=>{r.removeEventListener(_S,y),h=null}},createHref(T){return e(r,T)},createURL:E,encodeLocation(T){let C=E(T);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:_,replace:b,go(T){return o.go(T)}};return S}function LO(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),At(t,"No window.location.(origin|href) available to create URL");let n=typeof i=="string"?i:Wh(i);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function uC(i,e,t="/"){return VO(i,e,t,!1)}function VO(i,e,t,n){let r=typeof e=="string"?ll(e):e,s=Ds(r.pathname||"/",t);if(s==null)return null;let o=hC(i);BO(o);let c=null;for(let h=0;c==null&&h<o.length;++h){let d=QO(s);c=GO(o[h],d,n)}return c}function hC(i,e=[],t=[],n=""){let r=(s,o,c)=>{let h={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};h.relativePath.startsWith("/")&&(At(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length));let d=_s([n,h.relativePath]),p=t.concat(h);s.children&&s.children.length>0&&(At(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),hC(s.children,e,p,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:qO(d,s.index),routesMeta:p})};return i.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))r(s,o);else for(let c of dC(s.path))r(s,o,c)}),e}function dC(i){let e=i.split("/");if(e.length===0)return[];let[t,...n]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(n.length===0)return r?[s,""]:[s];let o=dC(n.join("/")),c=[];return c.push(...o.map(h=>h===""?s:[s,h].join("/"))),r&&c.push(...o),c.map(h=>i.startsWith("/")&&h===""?"/":h)}function BO(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:WO(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var FO=/^:[\w-]+$/,UO=3,jO=2,zO=1,HO=10,YO=-2,bS=i=>i==="*";function qO(i,e){let t=i.split("/"),n=t.length;return t.some(bS)&&(n+=YO),e&&(n+=jO),t.filter(r=>!bS(r)).reduce((r,s)=>r+(FO.test(s)?UO:s===""?zO:HO),n)}function WO(i,e){return i.length===e.length&&i.slice(0,-1).every((n,r)=>n===e[r])?i[i.length-1]-e[e.length-1]:0}function GO(i,e,t=!1){let{routesMeta:n}=i,r={},s="/",o=[];for(let c=0;c<n.length;++c){let h=n[c],d=c===n.length-1,p=s==="/"?e:e.slice(s.length)||"/",y=em({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},p),_=h.route;if(!y&&d&&t&&!n[n.length-1].route.index&&(y=em({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!y)return null;Object.assign(r,y.params),o.push({params:r,pathname:_s([s,y.pathname]),pathnameBase:JO(_s([s,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(s=_s([s,y.pathnameBase]))}return o}function em(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,n]=$O(i.path,i.caseSensitive,i.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:n.reduce((d,{paramName:p,isOptional:y},_)=>{if(p==="*"){let E=c[_]||"";o=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const b=c[_];return y&&!b?d[p]=void 0:d[p]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:i}}function $O(i,e=!1,t=!0){Oi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let n=[],r="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,h)=>(n.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(n.push({paramName:"*"}),r+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":i!==""&&i!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),n]}function QO(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Oi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Ds(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=i.charAt(t);return n&&n!=="/"?null:i.slice(t)||"/"}function KO(i,e="/"){let{pathname:t,search:n="",hash:r=""}=typeof i=="string"?ll(i):i;return{pathname:t?t.startsWith("/")?t:XO(t,e):e,search:eP(n),hash:tP(r)}}function XO(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function F_(i,e,t,n){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZO(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function vb(i){let e=ZO(i);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function bb(i,e,t,n=!1){let r;typeof i=="string"?r=ll(i):(r={...i},At(!r.pathname||!r.pathname.includes("?"),F_("?","pathname","search",r)),At(!r.pathname||!r.pathname.includes("#"),F_("#","pathname","hash",r)),At(!r.search||!r.search.includes("#"),F_("#","search","hash",r)));let s=i===""||r.pathname==="",o=s?"/":r.pathname,c;if(o==null)c=t;else{let y=e.length-1;if(!n&&o.startsWith("..")){let _=o.split("/");for(;_[0]==="..";)_.shift(),y-=1;r.pathname=_.join("/")}c=y>=0?e[y]:"/"}let h=KO(r,c),d=o&&o!=="/"&&o.endsWith("/"),p=(s||o===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(d||p)&&(h.pathname+="/"),h}var _s=i=>i.join("/").replace(/\/\/+/g,"/"),JO=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),eP=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,tP=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function nP(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var fC=["POST","PUT","PATCH","DELETE"];new Set(fC);var iP=["GET",...fC];new Set(iP);var Wc=P.createContext(null);Wc.displayName="DataRouter";var jm=P.createContext(null);jm.displayName="DataRouterState";P.createContext(!1);var pC=P.createContext({isTransitioning:!1});pC.displayName="ViewTransition";var rP=P.createContext(new Map);rP.displayName="Fetchers";var sP=P.createContext(null);sP.displayName="Await";var Qi=P.createContext(null);Qi.displayName="Navigation";var dd=P.createContext(null);dd.displayName="Location";var Pr=P.createContext({outlet:null,matches:[],isDataRoute:!1});Pr.displayName="Route";var wb=P.createContext(null);wb.displayName="RouteError";function aP(i,{relative:e}={}){At(Gc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=P.useContext(Qi),{hash:r,pathname:s,search:o}=pd(i,{relative:e}),c=s;return t!=="/"&&(c=s==="/"?t:_s([t,s])),n.createHref({pathname:c,search:o,hash:r})}function Gc(){return P.useContext(dd)!=null}function Is(){return At(Gc(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(dd).location}var mC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gC(i){P.useContext(Qi).static||P.useLayoutEffect(i)}function fd(){let{isDataRoute:i}=P.useContext(Pr);return i?vP():oP()}function oP(){At(Gc(),"useNavigate() may be used only in the context of a <Router> component.");let i=P.useContext(Wc),{basename:e,navigator:t}=P.useContext(Qi),{matches:n}=P.useContext(Pr),{pathname:r}=Is(),s=JSON.stringify(vb(n)),o=P.useRef(!1);return gC(()=>{o.current=!0}),P.useCallback((h,d={})=>{if(Oi(o.current,mC),!o.current)return;if(typeof h=="number"){t.go(h);return}let p=bb(h,JSON.parse(s),r,d.relative==="path");i==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:_s([e,p.pathname])),(d.replace?t.replace:t.push)(p,d.state,d)},[e,t,s,r,i])}P.createContext(null);function pd(i,{relative:e}={}){let{matches:t}=P.useContext(Pr),{pathname:n}=Is(),r=JSON.stringify(vb(t));return P.useMemo(()=>bb(i,JSON.parse(r),n,e==="path"),[i,r,n,e])}function lP(i,e){return yC(i,e)}function yC(i,e,t,n){At(Gc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=P.useContext(Qi),{matches:s}=P.useContext(Pr),o=s[s.length-1],c=o?o.params:{},h=o?o.pathname:"/",d=o?o.pathnameBase:"/",p=o&&o.route;{let C=p&&p.path||"";_C(h,!p||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let y=Is(),_;if(e){let C=typeof e=="string"?ll(e):e;At(d==="/"||C.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${C.pathname}" was given in the \`location\` prop.`),_=C}else _=y;let b=_.pathname||"/",E=b;if(d!=="/"){let C=d.replace(/^\//,"").split("/");E="/"+b.replace(/^\//,"").split("/").slice(C.length).join("/")}let S=uC(i,{pathname:E});Oi(p||S!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Oi(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=fP(S&&S.map(C=>Object.assign({},C,{params:Object.assign({},c,C.params),pathname:_s([d,r.encodeLocation?r.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?d:_s([d,r.encodeLocation?r.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,t,n);return e&&T?P.createElement(dd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},T):T}function cP(){let i=_P(),e=nP(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",i),o=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:s},"ErrorBoundary")," or"," ",P.createElement("code",{style:s},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),t?P.createElement("pre",{style:r},t):null,o)}var uP=P.createElement(cP,null),hP=class extends P.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?P.createElement(Pr.Provider,{value:this.props.routeContext},P.createElement(wb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dP({routeContext:i,match:e,children:t}){let n=P.useContext(Wc);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(Pr.Provider,{value:i},t)}function fP(i,e=[],t=null,n=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let r=i,s=t?.errors;if(s!=null){let h=r.findIndex(d=>d.route.id&&s?.[d.route.id]!==void 0);At(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,h+1))}let o=!1,c=-1;if(t)for(let h=0;h<r.length;h++){let d=r[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:p,errors:y}=t,_=d.route.loader&&!p.hasOwnProperty(d.route.id)&&(!y||y[d.route.id]===void 0);if(d.route.lazy||_){o=!0,c>=0?r=r.slice(0,c+1):r=[r[0]];break}}}return r.reduceRight((h,d,p)=>{let y,_=!1,b=null,E=null;t&&(y=s&&d.route.id?s[d.route.id]:void 0,b=d.route.errorElement||uP,o&&(c<0&&p===0?(_C("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,E=null):c===p&&(_=!0,E=d.route.hydrateFallbackElement||null)));let S=e.concat(r.slice(0,p+1)),T=()=>{let C;return y?C=b:_?C=E:d.route.Component?C=P.createElement(d.route.Component,null):d.route.element?C=d.route.element:C=h,P.createElement(dP,{match:d,routeContext:{outlet:h,matches:S,isDataRoute:t!=null},children:C})};return t&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?P.createElement(hP,{location:t.location,revalidation:t.revalidation,component:b,error:y,children:T(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):T()},null)}function Eb(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pP(i){let e=P.useContext(Wc);return At(e,Eb(i)),e}function mP(i){let e=P.useContext(jm);return At(e,Eb(i)),e}function gP(i){let e=P.useContext(Pr);return At(e,Eb(i)),e}function Tb(i){let e=gP(i),t=e.matches[e.matches.length-1];return At(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function yP(){return Tb("useRouteId")}function _P(){let i=P.useContext(wb),e=mP("useRouteError"),t=Tb("useRouteError");return i!==void 0?i:e.errors?.[t]}function vP(){let{router:i}=pP("useNavigate"),e=Tb("useNavigate"),t=P.useRef(!1);return gC(()=>{t.current=!0}),P.useCallback(async(r,s={})=>{Oi(t.current,mC),t.current&&(typeof r=="number"?i.navigate(r):await i.navigate(r,{fromRouteId:e,...s}))},[i,e])}var wS={};function _C(i,e,t){!e&&!wS[i]&&(wS[i]=!0,Oi(!1,t))}P.memo(bP);function bP({routes:i,future:e,state:t}){return yC(i,void 0,t,e)}function jo({to:i,replace:e,state:t,relative:n}){At(Gc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=P.useContext(Qi);Oi(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=P.useContext(Pr),{pathname:o}=Is(),c=fd(),h=bb(i,vb(s),o,n==="path"),d=JSON.stringify(h);return P.useEffect(()=>{c(JSON.parse(d),{replace:e,state:t,relative:n})},[c,d,n,e,t]),null}function Lo(i){At(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wP({basename:i="/",children:e=null,location:t,navigationType:n="POP",navigator:r,static:s=!1}){At(!Gc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=i.replace(/^\/*/,"/"),c=P.useMemo(()=>({basename:o,navigator:r,static:s,future:{}}),[o,r,s]);typeof t=="string"&&(t=ll(t));let{pathname:h="/",search:d="",hash:p="",state:y=null,key:_="default"}=t,b=P.useMemo(()=>{let E=Ds(h,o);return E==null?null:{location:{pathname:E,search:d,hash:p,state:y,key:_},navigationType:n}},[o,h,d,p,y,_,n]);return Oi(b!=null,`<Router basename="${o}"> is not able to match the URL "${h}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:P.createElement(Qi.Provider,{value:c},P.createElement(dd.Provider,{children:e,value:b}))}function EP({children:i,location:e}){return lP(Dv(i),e)}function Dv(i,e=[]){let t=[];return P.Children.forEach(i,(n,r)=>{if(!P.isValidElement(n))return;let s=[...e,r];if(n.type===P.Fragment){t.push.apply(t,Dv(n.props.children,s));return}At(n.type===Lo,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),At(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Dv(n.props.children,s)),t.push(o)}),t}var Pp="get",Np="application/x-www-form-urlencoded";function zm(i){return i!=null&&typeof i.tagName=="string"}function TP(i){return zm(i)&&i.tagName.toLowerCase()==="button"}function SP(i){return zm(i)&&i.tagName.toLowerCase()==="form"}function xP(i){return zm(i)&&i.tagName.toLowerCase()==="input"}function DP(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function CP(i,e){return i.button===0&&(!e||e==="_self")&&!DP(i)}var ap=null;function AP(){if(ap===null)try{new FormData(document.createElement("form"),0),ap=!1}catch{ap=!0}return ap}var RP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function U_(i){return i!=null&&!RP.has(i)?(Oi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Np}"`),null):i}function kP(i,e){let t,n,r,s,o;if(SP(i)){let c=i.getAttribute("action");n=c?Ds(c,e):null,t=i.getAttribute("method")||Pp,r=U_(i.getAttribute("enctype"))||Np,s=new FormData(i)}else if(TP(i)||xP(i)&&(i.type==="submit"||i.type==="image")){let c=i.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=i.getAttribute("formaction")||c.getAttribute("action");if(n=h?Ds(h,e):null,t=i.getAttribute("formmethod")||c.getAttribute("method")||Pp,r=U_(i.getAttribute("formenctype"))||U_(c.getAttribute("enctype"))||Np,s=new FormData(c,i),!AP()){let{name:d,type:p,value:y}=i;if(p==="image"){let _=d?`${d}.`:"";s.append(`${_}x`,"0"),s.append(`${_}y`,"0")}else d&&s.append(d,y)}}else{if(zm(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Pp,n=null,r=Np,o=i}return s&&r==="text/plain"&&(o=s,s=void 0),{action:n,method:t.toLowerCase(),encType:r,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Sb(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function MP(i,e,t){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname=`_root.${t}`:e&&Ds(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${t}`,n}async function IP(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function OP(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function PP(i,e,t){let n=await Promise.all(i.map(async r=>{let s=e.routes[r.route.id];if(s){let o=await IP(s,t);return o.links?o.links():[]}return[]}));return BP(n.flat(1).filter(OP).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function ES(i,e,t,n,r,s){let o=(h,d)=>t[d]?h.route.id!==t[d].route.id:!0,c=(h,d)=>t[d].pathname!==h.pathname||t[d].route.path?.endsWith("*")&&t[d].params["*"]!==h.params["*"];return s==="assets"?e.filter((h,d)=>o(h,d)||c(h,d)):s==="data"?e.filter((h,d)=>{let p=n.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(o(h,d)||c(h,d))return!0;if(h.route.shouldRevalidate){let y=h.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function NP(i,e,{includeHydrateFallback:t}={}){return LP(i.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function LP(i){return[...new Set(i)]}function VP(i){let e={},t=Object.keys(i).sort();for(let n of t)e[n]=i[n];return e}function BP(i,e){let t=new Set;return new Set(e),i.reduce((n,r)=>{let s=JSON.stringify(VP(r));return t.has(s)||(t.add(s),n.push({key:s,link:r})),n},[])}function vC(){let i=P.useContext(Wc);return Sb(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function FP(){let i=P.useContext(jm);return Sb(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var xb=P.createContext(void 0);xb.displayName="FrameworkContext";function bC(){let i=P.useContext(xb);return Sb(i,"You must render this element inside a <HydratedRouter> element"),i}function UP(i,e){let t=P.useContext(xb),[n,r]=P.useState(!1),[s,o]=P.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:d,onMouseLeave:p,onTouchStart:y}=e,_=P.useRef(null);P.useEffect(()=>{if(i==="render"&&o(!0),i==="viewport"){let S=C=>{C.forEach(N=>{o(N.isIntersecting)})},T=new IntersectionObserver(S,{threshold:.5});return _.current&&T.observe(_.current),()=>{T.disconnect()}}},[i]),P.useEffect(()=>{if(n){let S=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(S)}}},[n]);let b=()=>{r(!0)},E=()=>{r(!1),o(!1)};return t?i!=="intent"?[s,_,{}]:[s,_,{onFocus:fh(c,b),onBlur:fh(h,E),onMouseEnter:fh(d,b),onMouseLeave:fh(p,E),onTouchStart:fh(y,b)}]:[!1,_,{}]}function fh(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function jP({page:i,...e}){let{router:t}=vC(),n=P.useMemo(()=>uC(t.routes,i,t.basename),[t.routes,i,t.basename]);return n?P.createElement(HP,{page:i,matches:n,...e}):null}function zP(i){let{manifest:e,routeModules:t}=bC(),[n,r]=P.useState([]);return P.useEffect(()=>{let s=!1;return PP(i,e,t).then(o=>{s||r(o)}),()=>{s=!0}},[i,e,t]),n}function HP({page:i,matches:e,...t}){let n=Is(),{manifest:r,routeModules:s}=bC(),{basename:o}=vC(),{loaderData:c,matches:h}=FP(),d=P.useMemo(()=>ES(i,e,h,r,n,"data"),[i,e,h,r,n]),p=P.useMemo(()=>ES(i,e,h,r,n,"assets"),[i,e,h,r,n]),y=P.useMemo(()=>{if(i===n.pathname+n.search+n.hash)return[];let E=new Set,S=!1;if(e.forEach(C=>{let N=r.routes[C.route.id];!N||!N.hasLoader||(!d.some(j=>j.route.id===C.route.id)&&C.route.id in c&&s[C.route.id]?.shouldRevalidate||N.hasClientLoader?S=!0:E.add(C.route.id))}),E.size===0)return[];let T=MP(i,o,"data");return S&&E.size>0&&T.searchParams.set("_routes",e.filter(C=>E.has(C.route.id)).map(C=>C.route.id).join(",")),[T.pathname+T.search]},[o,c,n,r,d,e,i,s]),_=P.useMemo(()=>NP(p,r),[p,r]),b=zP(p);return P.createElement(P.Fragment,null,y.map(E=>P.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...t})),_.map(E=>P.createElement("link",{key:E,rel:"modulepreload",href:E,...t})),b.map(({key:E,link:S})=>P.createElement("link",{key:E,nonce:t.nonce,...S})))}function YP(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var wC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wC&&(window.__reactRouterVersion="7.8.0")}catch{}function qP({basename:i,children:e,window:t}){let n=P.useRef();n.current==null&&(n.current=OO({window:t,v5Compat:!0}));let r=n.current,[s,o]=P.useState({action:r.action,location:r.location}),c=P.useCallback(h=>{P.startTransition(()=>o(h))},[o]);return P.useLayoutEffect(()=>r.listen(c),[r,c]),P.createElement(wP,{basename:i,children:e,location:s.location,navigationType:s.action,navigator:r})}var EC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hm=P.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:r,reloadDocument:s,replace:o,state:c,target:h,to:d,preventScrollReset:p,viewTransition:y,..._},b){let{basename:E}=P.useContext(Qi),S=typeof d=="string"&&EC.test(d),T,C=!1;if(typeof d=="string"&&S&&(T=d,wC))try{let k=new URL(window.location.href),L=d.startsWith("//")?new URL(k.protocol+d):new URL(d),B=Ds(L.pathname,E);L.origin===k.origin&&B!=null?d=B+L.search+L.hash:C=!0}catch{Oi(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=aP(d,{relative:r}),[j,q,H]=UP(n,_),K=QP(d,{replace:o,state:c,target:h,preventScrollReset:p,relative:r,viewTransition:y});function M(k){e&&e(k),k.defaultPrevented||K(k)}let A=P.createElement("a",{..._,...H,href:T||N,onClick:C||s?e:M,ref:YP(b,q),target:h,"data-discover":!S&&t==="render"?"true":void 0});return j&&!S?P.createElement(P.Fragment,null,A,P.createElement(jP,{page:N})):A});Hm.displayName="Link";var WP=P.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:r=!1,style:s,to:o,viewTransition:c,children:h,...d},p){let y=pd(o,{relative:d.relative}),_=Is(),b=P.useContext(jm),{navigator:E,basename:S}=P.useContext(Qi),T=b!=null&&e2(y)&&c===!0,C=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,N=_.pathname,j=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(N=N.toLowerCase(),j=j?j.toLowerCase():null,C=C.toLowerCase()),j&&S&&(j=Ds(j,S)||j);const q=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let H=N===C||!r&&N.startsWith(C)&&N.charAt(q)==="/",K=j!=null&&(j===C||!r&&j.startsWith(C)&&j.charAt(C.length)==="/"),M={isActive:H,isPending:K,isTransitioning:T},A=H?e:void 0,k;typeof n=="function"?k=n(M):k=[n,H?"active":null,K?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let L=typeof s=="function"?s(M):s;return P.createElement(Hm,{...d,"aria-current":A,className:k,ref:p,style:L,to:o,viewTransition:c},typeof h=="function"?h(M):h)});WP.displayName="NavLink";var GP=P.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:r,state:s,method:o=Pp,action:c,onSubmit:h,relative:d,preventScrollReset:p,viewTransition:y,..._},b)=>{let E=ZP(),S=JP(c,{relative:d}),T=o.toLowerCase()==="get"?"get":"post",C=typeof c=="string"&&EC.test(c),N=j=>{if(h&&h(j),j.defaultPrevented)return;j.preventDefault();let q=j.nativeEvent.submitter,H=q?.getAttribute("formmethod")||o;E(q||j.currentTarget,{fetcherKey:e,method:H,navigate:t,replace:r,state:s,relative:d,preventScrollReset:p,viewTransition:y})};return P.createElement("form",{ref:b,method:T,action:S,onSubmit:n?h:N,..._,"data-discover":!C&&i==="render"?"true":void 0})});GP.displayName="Form";function $P(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TC(i){let e=P.useContext(Wc);return At(e,$P(i)),e}function QP(i,{target:e,replace:t,state:n,preventScrollReset:r,relative:s,viewTransition:o}={}){let c=fd(),h=Is(),d=pd(i,{relative:s});return P.useCallback(p=>{if(CP(p,e)){p.preventDefault();let y=t!==void 0?t:Wh(h)===Wh(d);c(i,{replace:y,state:n,preventScrollReset:r,relative:s,viewTransition:o})}},[h,c,d,t,n,e,i,r,s,o])}var KP=0,XP=()=>`__${String(++KP)}__`;function ZP(){let{router:i}=TC("useSubmit"),{basename:e}=P.useContext(Qi),t=yP();return P.useCallback(async(n,r={})=>{let{action:s,method:o,encType:c,formData:h,body:d}=kP(n,e);if(r.navigate===!1){let p=r.fetcherKey||XP();await i.fetch(p,t,r.action||s,{preventScrollReset:r.preventScrollReset,formData:h,body:d,formMethod:r.method||o,formEncType:r.encType||c,flushSync:r.flushSync})}else await i.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:h,body:d,formMethod:r.method||o,formEncType:r.encType||c,replace:r.replace,state:r.state,fromRouteId:t,flushSync:r.flushSync,viewTransition:r.viewTransition})},[i,e,t])}function JP(i,{relative:e}={}){let{basename:t}=P.useContext(Qi),n=P.useContext(Pr);At(n,"useFormAction must be used inside a RouteContext");let[r]=n.matches.slice(-1),s={...pd(i||".",{relative:e})},o=Is();if(i==null){s.search=o.search;let c=new URLSearchParams(s.search),h=c.getAll("index");if(h.some(p=>p==="")){c.delete("index"),h.filter(y=>y).forEach(y=>c.append("index",y));let p=c.toString();s.search=p?`?${p}`:""}}return(!i||i===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:_s([t,s.pathname])),Wh(s)}function e2(i,{relative:e}={}){let t=P.useContext(pC);At(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=TC("useViewTransitionState"),r=pd(i,{relative:e});if(!t.isTransitioning)return!1;let s=Ds(t.currentLocation.pathname,n)||t.currentLocation.pathname,o=Ds(t.nextLocation.pathname,n)||t.nextLocation.pathname;return em(r.pathname,o)!=null||em(r.pathname,s)!=null}var SC=cC();const t2=oC(SC),n2=()=>{};var TS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=function(i){const e=[];let t=0;for(let n=0;n<i.length;n++){let r=i.charCodeAt(n);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&n+1<i.length&&(i.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(i.charCodeAt(++n)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},i2=function(i){const e=[];let t=0,n=0;for(;t<i.length;){const r=i[t++];if(r<128)e[n++]=String.fromCharCode(r);else if(r>191&&r<224){const s=i[t++];e[n++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=i[t++],o=i[t++],c=i[t++],h=((r&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(h>>10)),e[n++]=String.fromCharCode(56320+(h&1023))}else{const s=i[t++],o=i[t++];e[n++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},DC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<i.length;r+=3){const s=i[r],o=r+1<i.length,c=o?i[r+1]:0,h=r+2<i.length,d=h?i[r+2]:0,p=s>>2,y=(s&3)<<4|c>>4;let _=(c&15)<<2|d>>6,b=d&63;h||(b=64,o||(_=64)),n.push(t[p],t[y],t[_],t[b])}return n.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(xC(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):i2(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<i.length;){const s=t[i.charAt(r++)],c=r<i.length?t[i.charAt(r)]:0;++r;const d=r<i.length?t[i.charAt(r)]:64;++r;const y=r<i.length?t[i.charAt(r)]:64;if(++r,s==null||c==null||d==null||y==null)throw new r2;const _=s<<2|c>>4;if(n.push(_),d!==64){const b=c<<4&240|d>>2;if(n.push(b),y!==64){const E=d<<6&192|y;n.push(E)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class r2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s2=function(i){const e=xC(i);return DC.encodeByteArray(e,!0)},tm=function(i){return s2(i).replace(/\./g,"")},CC=function(i){try{return DC.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=()=>a2().__FIREBASE_DEFAULTS__,l2=()=>{if(typeof process>"u"||typeof TS>"u")return;const i=TS.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},c2=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&CC(i[1]);return e&&JSON.parse(e)},Ym=()=>{try{return n2()||o2()||l2()||c2()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},AC=i=>Ym()?.emulatorHosts?.[i],u2=i=>{const e=AC(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},RC=()=>Ym()?.config,kC=i=>Ym()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function MC(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",r=i.iat||0,s=i.sub||i.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...i};return[tm(JSON.stringify(t)),tm(JSON.stringify(o)),""].join(".")}const Lh={};function f2(){const i={prod:[],emulator:[]};for(const e of Object.keys(Lh))Lh[e]?i.emulator.push(e):i.prod.push(e);return i}function p2(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let SS=!1;function IC(i,e){if(typeof window>"u"||typeof document>"u"||!$c(window.location.host)||Lh[i]===e||Lh[i]||SS)return;Lh[i]=e;function t(_){return`__firebase__banner__${_}`}const n="__firebase__banner",s=f2().prod.length>0;function o(){const _=document.getElementById(n);_&&_.remove()}function c(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function h(_,b){_.setAttribute("width","24"),_.setAttribute("id",b),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function d(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{SS=!0,o()},_}function p(_,b){_.setAttribute("id",b),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function y(){const _=p2(n),b=t("text"),E=document.getElementById(b)||document.createElement("span"),S=t("learnmore"),T=document.getElementById(S)||document.createElement("a"),C=t("preprendIcon"),N=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const j=_.element;c(j),p(T,S);const q=d();h(N,C),j.append(N,E,T,q),document.body.appendChild(j)}s?(E.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function m2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vn())}function g2(){const i=Ym()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function y2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _2(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function v2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function b2(){const i=Vn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function w2(){return!g2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function E2(){try{return typeof indexedDB=="object"}catch{return!1}}function T2(){return new Promise((i,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(n),i(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="FirebaseError";class Os extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=S2,Object.setPrototypeOf(this,Os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,md.prototype.create)}}class md{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?x2(s,n):"Error",c=`${this.serviceName}: ${o} (${r}).`;return new Os(r,c,n)}}function x2(i,e){return i.replace(D2,(t,n)=>{const r=e[n];return r!=null?String(r):`<${n}?>`})}const D2=/\{\$([^}]+)}/g;function C2(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Xo(i,e){if(i===e)return!0;const t=Object.keys(i),n=Object.keys(e);for(const r of t){if(!n.includes(r))return!1;const s=i[r],o=e[r];if(xS(s)&&xS(o)){if(!Xo(s,o))return!1}else if(s!==o)return!1}for(const r of n)if(!t.includes(r))return!1;return!0}function xS(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(i){const e=[];for(const[t,n]of Object.entries(i))Array.isArray(n)?n.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Th(i){const e={};return i.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[r,s]=n.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Sh(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function A2(i,e){const t=new R2(i,e);return t.subscribe.bind(t)}class R2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");k2(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:n},r.next===void 0&&(r.next=j_),r.error===void 0&&(r.error=j_),r.complete===void 0&&(r.complete=j_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function k2(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function j_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(i){return i&&i._delegate?i._delegate:i}class Zo{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new h2;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(n)return null;throw r}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(O2(e))try{this.getOrInitializeService({instanceIdentifier:Vo})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:r});n.resolve(s)}catch{}}}}clearInstance(e=Vo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vo){return this.instances.has(e)}getOptions(e=Vo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);n===c&&o.resolve(r)}return r}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);const s=this.instances.get(n);return s&&e(s,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:I2(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Vo){return this.component?this.component.multipleInstances?e:Vo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function I2(i){return i===Vo?void 0:i}function O2(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new M2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(je||(je={}));const N2={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},L2=je.INFO,V2={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},B2=(i,e,...t)=>{if(e<i.logLevel)return;const n=new Date().toISOString(),r=V2[e];if(r)console[r](`[${n}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Db{constructor(e){this.name=e,this._logLevel=L2,this._logHandler=B2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?N2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const F2=(i,e)=>e.some(t=>i instanceof t);let DS,CS;function U2(){return DS||(DS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function j2(){return CS||(CS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OC=new WeakMap,Cv=new WeakMap,PC=new WeakMap,z_=new WeakMap,Cb=new WeakMap;function z2(i){const e=new Promise((t,n)=>{const r=()=>{i.removeEventListener("success",s),i.removeEventListener("error",o)},s=()=>{t(Sa(i.result)),r()},o=()=>{n(i.error),r()};i.addEventListener("success",s),i.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&OC.set(t,i)}).catch(()=>{}),Cb.set(e,i),e}function H2(i){if(Cv.has(i))return;const e=new Promise((t,n)=>{const r=()=>{i.removeEventListener("complete",s),i.removeEventListener("error",o),i.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{n(i.error||new DOMException("AbortError","AbortError")),r()};i.addEventListener("complete",s),i.addEventListener("error",o),i.addEventListener("abort",o)});Cv.set(i,e)}let Av={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Cv.get(i);if(e==="objectStoreNames")return i.objectStoreNames||PC.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Sa(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Y2(i){Av=i(Av)}function q2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=i.call(H_(this),e,...t);return PC.set(n,e.sort?e.sort():[e]),Sa(n)}:j2().includes(i)?function(...e){return i.apply(H_(this),e),Sa(OC.get(this))}:function(...e){return Sa(i.apply(H_(this),e))}}function W2(i){return typeof i=="function"?q2(i):(i instanceof IDBTransaction&&H2(i),F2(i,U2())?new Proxy(i,Av):i)}function Sa(i){if(i instanceof IDBRequest)return z2(i);if(z_.has(i))return z_.get(i);const e=W2(i);return e!==i&&(z_.set(i,e),Cb.set(e,i)),e}const H_=i=>Cb.get(i);function G2(i,e,{blocked:t,upgrade:n,blocking:r,terminated:s}={}){const o=indexedDB.open(i,e),c=Sa(o);return n&&o.addEventListener("upgradeneeded",h=>{n(Sa(o.result),h.oldVersion,h.newVersion,Sa(o.transaction),h)}),t&&o.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{s&&h.addEventListener("close",()=>s()),r&&h.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const $2=["get","getKey","getAll","getAllKeys","count"],Q2=["put","add","delete","clear"],Y_=new Map;function AS(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Y_.get(e))return Y_.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,r=Q2.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(r||$2.includes(t)))return;const s=async function(o,...c){const h=this.transaction(o,r?"readwrite":"readonly");let d=h.store;return n&&(d=d.index(c.shift())),(await Promise.all([d[t](...c),r&&h.done]))[0]};return Y_.set(e,s),s}Y2(i=>({...i,get:(e,t,n)=>AS(e,t)||i.get(e,t,n),has:(e,t)=>!!AS(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(X2(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function X2(i){return i.getComponent()?.type==="VERSION"}const Rv="@firebase/app",RS="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new Db("@firebase/app"),Z2="@firebase/app-compat",J2="@firebase/analytics-compat",eN="@firebase/analytics",tN="@firebase/app-check-compat",nN="@firebase/app-check",iN="@firebase/auth",rN="@firebase/auth-compat",sN="@firebase/database",aN="@firebase/data-connect",oN="@firebase/database-compat",lN="@firebase/functions",cN="@firebase/functions-compat",uN="@firebase/installations",hN="@firebase/installations-compat",dN="@firebase/messaging",fN="@firebase/messaging-compat",pN="@firebase/performance",mN="@firebase/performance-compat",gN="@firebase/remote-config",yN="@firebase/remote-config-compat",_N="@firebase/storage",vN="@firebase/storage-compat",bN="@firebase/firestore",wN="@firebase/ai",EN="@firebase/firestore-compat",TN="firebase",SN="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="[DEFAULT]",xN={[Rv]:"fire-core",[Z2]:"fire-core-compat",[eN]:"fire-analytics",[J2]:"fire-analytics-compat",[nN]:"fire-app-check",[tN]:"fire-app-check-compat",[iN]:"fire-auth",[rN]:"fire-auth-compat",[sN]:"fire-rtdb",[aN]:"fire-data-connect",[oN]:"fire-rtdb-compat",[lN]:"fire-fn",[cN]:"fire-fn-compat",[uN]:"fire-iid",[hN]:"fire-iid-compat",[dN]:"fire-fcm",[fN]:"fire-fcm-compat",[pN]:"fire-perf",[mN]:"fire-perf-compat",[gN]:"fire-rc",[yN]:"fire-rc-compat",[_N]:"fire-gcs",[vN]:"fire-gcs-compat",[bN]:"fire-fst",[EN]:"fire-fst-compat",[wN]:"fire-vertex","fire-js":"fire-js",[TN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm=new Map,DN=new Map,Mv=new Map;function kS(i,e){try{i.container.addComponent(e)}catch(t){Cs.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Ac(i){const e=i.name;if(Mv.has(e))return Cs.debug(`There were multiple attempts to register component ${e}.`),!1;Mv.set(e,i);for(const t of nm.values())kS(t,i);for(const t of DN.values())kS(t,i);return!0}function Ab(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function ki(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xa=new md("app","Firebase",CN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Zo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc=SN;function NC(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const n={name:kv,automaticDataCollectionEnabled:!0,...e},r=n.name;if(typeof r!="string"||!r)throw xa.create("bad-app-name",{appName:String(r)});if(t||(t=RC()),!t)throw xa.create("no-options");const s=nm.get(r);if(s){if(Xo(t,s.options)&&Xo(n,s.config))return s;throw xa.create("duplicate-app",{appName:r})}const o=new P2(r);for(const h of Mv.values())o.addComponent(h);const c=new AN(t,n,o);return nm.set(r,c),c}function LC(i=kv){const e=nm.get(i);if(!e&&i===kv&&RC())return NC();if(!e)throw xa.create("no-app",{appName:i});return e}function Da(i,e,t){let n=xN[i]??i;t&&(n+=`-${t}`);const r=n.match(/\s|\//),s=e.match(/\s|\//);if(r||s){const o=[`Unable to register library "${n}" with version "${e}":`];r&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),r&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cs.warn(o.join(" "));return}Ac(new Zo(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN="firebase-heartbeat-database",kN=1,Gh="firebase-heartbeat-store";let q_=null;function VC(){return q_||(q_=G2(RN,kN,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Gh)}catch(t){console.warn(t)}}}}).catch(i=>{throw xa.create("idb-open",{originalErrorMessage:i.message})})),q_}async function MN(i){try{const t=(await VC()).transaction(Gh),n=await t.objectStore(Gh).get(BC(i));return await t.done,n}catch(e){if(e instanceof Os)Cs.warn(e.message);else{const t=xa.create("idb-get",{originalErrorMessage:e?.message});Cs.warn(t.message)}}}async function MS(i,e){try{const n=(await VC()).transaction(Gh,"readwrite");await n.objectStore(Gh).put(e,BC(i)),await n.done}catch(t){if(t instanceof Os)Cs.warn(t.message);else{const n=xa.create("idb-set",{originalErrorMessage:t?.message});Cs.warn(n.message)}}}function BC(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=1024,ON=30;class PN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new LN(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=IS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(r=>r.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats.length>ON){const r=VN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Cs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=IS(),{heartbeatsToSend:t,unsentEntries:n}=NN(this._heartbeatsCache.heartbeats),r=tm(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return Cs.warn(e),""}}}function IS(){return new Date().toISOString().substring(0,10)}function NN(i,e=IN){const t=[];let n=i.slice();for(const r of i){const s=t.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),OS(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),OS(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class LN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return E2()?T2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await MN(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return MS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return MS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function OS(i){return tm(JSON.stringify({version:2,heartbeats:i})).length}function VN(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let n=1;n<i.length;n++)i[n].date<t&&(t=i[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(i){Ac(new Zo("platform-logger",e=>new K2(e),"PRIVATE")),Ac(new Zo("heartbeat",e=>new PN(e),"PRIVATE")),Da(Rv,RS,i),Da(Rv,RS,"esm2020"),Da("fire-js","")}BN("");function FC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FN=FC,UC=new md("auth","Firebase",FC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im=new Db("@firebase/auth");function UN(i,...e){im.logLevel<=je.WARN&&im.warn(`Auth (${Qc}): ${i}`,...e)}function Lp(i,...e){im.logLevel<=je.ERROR&&im.error(`Auth (${Qc}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(i,...e){throw Rb(i,...e)}function Tr(i,...e){return Rb(i,...e)}function jC(i,e,t){const n={...FN(),[e]:t};return new md("auth","Firebase",n).create(e,{appName:i.name})}function vs(i){return jC(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rb(i,...e){if(typeof i!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=i.name),i._errorFactory.create(t,...n)}return UC.create(i,...e)}function Ce(i,e,...t){if(!i)throw Rb(e,...t)}function fs(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Lp(e),new Error(e)}function As(i,e){i||fs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(){return typeof self<"u"&&self.location?.href||""}function jN(){return PS()==="http:"||PS()==="https:"}function PS(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jN()||_2()||"connection"in navigator)?navigator.onLine:!0}function HN(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,t){this.shortDelay=e,this.longDelay=t,As(t>e,"Short delay should be less than long delay!"),this.isMobile=m2()||v2()}get(){return zN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(i,e){As(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WN=new yd(3e4,6e4);function za(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Ps(i,e,t,n,r={}){return HC(i,r,async()=>{let s={},o={};n&&(e==="GET"?o=n:s={body:JSON.stringify(n)});const c=gd({key:i.config.apiKey,...o}).slice(1),h=await i._getAdditionalHeaders();h["Content-Type"]="application/json",i.languageCode&&(h["X-Firebase-Locale"]=i.languageCode);const d={method:e,headers:h,...s};return y2()||(d.referrerPolicy="no-referrer"),i.emulatorConfig&&$c(i.emulatorConfig.host)&&(d.credentials="include"),zC.fetch()(await YC(i,i.config.apiHost,t,c),d)})}async function HC(i,e,t){i._canInitEmulator=!1;const n={...YN,...e};try{const r=new $N(i),s=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw op(i,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const c=s.ok?o.errorMessage:o.error.message,[h,d]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw op(i,"credential-already-in-use",o);if(h==="EMAIL_EXISTS")throw op(i,"email-already-in-use",o);if(h==="USER_DISABLED")throw op(i,"user-disabled",o);const p=n[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw jC(i,p,d);qi(i,p)}}catch(r){if(r instanceof Os)throw r;qi(i,"network-request-failed",{message:String(r)})}}async function _d(i,e,t,n,r={}){const s=await Ps(i,e,t,n,r);return"mfaPendingCredential"in s&&qi(i,"multi-factor-auth-required",{_serverResponse:s}),s}async function YC(i,e,t,n){const r=`${e}${t}?${n}`,s=i,o=s.config.emulator?kb(i.config,r):`${i.config.apiScheme}://${r}`;return qN.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function GN(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $N{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(Tr(this.auth,"network-request-failed")),WN.get())})}}function op(i,e,t){const n={appName:i.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const r=Tr(i,e,n);return r.customData._tokenResponse=t,r}function NS(i){return i!==void 0&&i.enterprise!==void 0}class QN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return GN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function KN(i,e){return Ps(i,"GET","/v2/recaptchaConfig",za(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XN(i,e){return Ps(i,"POST","/v1/accounts:delete",e)}async function rm(i,e){return Ps(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZN(i,e=!1){const t=Zt(i),n=await t.getIdToken(e),r=Mb(n);Ce(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:n,authTime:Vh(W_(r.auth_time)),issuedAtTime:Vh(W_(r.iat)),expirationTime:Vh(W_(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function W_(i){return Number(i)*1e3}function Mb(i){const[e,t,n]=i.split(".");if(e===void 0||t===void 0||n===void 0)return Lp("JWT malformed, contained fewer than 3 sections"),null;try{const r=CC(t);return r?JSON.parse(r):(Lp("Failed to decode base64 JWT payload"),null)}catch(r){return Lp("Caught error parsing JWT payload as JSON",r?.toString()),null}}function LS(i){const e=Mb(i);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rc(i,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof Os&&JN(n)&&i.auth.currentUser===i&&await i.auth.signOut(),n}}function JN({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vh(this.lastLoginAt),this.creationTime=Vh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sm(i){const e=i.auth,t=await i.getIdToken(),n=await Rc(i,rm(e,{idToken:t}));Ce(n?.users.length,e,"internal-error");const r=n.users[0];i._notifyReloadListener(r);const s=r.providerUserInfo?.length?qC(r.providerUserInfo):[],o=nL(i.providerData,s),c=i.isAnonymous,h=!(i.email&&r.passwordHash)&&!o?.length,d=c?h:!1,p={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Ov(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(i,p)}async function tL(i){const e=Zt(i);await sm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nL(i,e){return[...i.filter(n=>!e.some(r=>r.providerId===n.providerId)),...e]}function qC(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iL(i,e){const t=await HC(i,{},async()=>{const n=gd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=i.config,o=await YC(i,r,"/v1/token",`key=${s}`),c=await i._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:c,body:n};return i.emulatorConfig&&$c(i.emulatorConfig.host)&&(h.credentials="include"),zC.fetch()(o,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function rL(i,e){return Ps(i,"POST","/v2/accounts:revokeToken",za(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=LS(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:s}=await iL(e,t);this.updateTokensAndExpiration(n,r,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:s}=t,o=new bc;return n&&(Ce(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),r&&(Ce(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(Ce(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bc,this.toJSON())}_performRefresh(){return fs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(i,e){Ce(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class zi{constructor({uid:e,auth:t,stsTokenManager:n,...r}){this.providerId="firebase",this.proactiveRefresh=new eL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Ov(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await Rc(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return ZN(this,e)}reload(){return tL(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new zi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await sm(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ki(this.auth.app))return Promise.reject(vs(this.auth));const e=await this.getIdToken();return await Rc(this,XN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,r=t.email??void 0,s=t.phoneNumber??void 0,o=t.photoURL??void 0,c=t.tenantId??void 0,h=t._redirectEventId??void 0,d=t.createdAt??void 0,p=t.lastLoginAt??void 0,{uid:y,emailVerified:_,isAnonymous:b,providerData:E,stsTokenManager:S}=t;Ce(y&&S,e,"internal-error");const T=bc.fromJSON(this.name,S);Ce(typeof y=="string",e,"internal-error"),da(n,e.name),da(r,e.name),Ce(typeof _=="boolean",e,"internal-error"),Ce(typeof b=="boolean",e,"internal-error"),da(s,e.name),da(o,e.name),da(c,e.name),da(h,e.name),da(d,e.name),da(p,e.name);const C=new zi({uid:y,auth:e,email:r,emailVerified:_,displayName:n,isAnonymous:b,photoURL:o,phoneNumber:s,tenantId:c,stsTokenManager:T,createdAt:d,lastLoginAt:p});return E&&Array.isArray(E)&&(C.providerData=E.map(N=>({...N}))),h&&(C._redirectEventId=h),C}static async _fromIdTokenResponse(e,t,n=!1){const r=new bc;r.updateFromServerResponse(t);const s=new zi({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await sm(s),s}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Ce(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?qC(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,c=new bc;c.updateFromIdToken(n);const h=new zi({uid:r.localId,auth:e,stsTokenManager:c,isAnonymous:o}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Ov(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(h,d),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=new Map;function ps(i){As(i instanceof Function,"Expected a class definition");let e=VS.get(i);return e?(As(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,VS.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}WC.type="NONE";const BS=WC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(i,e,t){return`firebase:${i}:${e}:${t}`}class wc{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:s}=this.auth;this.fullUserKey=Vp(this.userKey,r.apiKey,s),this.fullPersistenceKey=Vp("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await rm(this.auth,{idToken:e}).catch(()=>{});return t?zi._fromGetAccountInfoResponse(this.auth,t,e):null}return zi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new wc(ps(BS),e,n);const r=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=r[0]||ps(BS);const o=Vp(n,e.config.apiKey,e.name);let c=null;for(const d of t)try{const p=await d._get(o);if(p){let y;if(typeof p=="string"){const _=await rm(e,{idToken:p}).catch(()=>{});if(!_)break;y=await zi._fromGetAccountInfoResponse(e,_,p)}else y=zi._fromJSON(e,p);d!==s&&(c=y),s=d;break}}catch{}const h=r.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!h.length?new wc(s,e,n):(s=h[0],c&&await s._set(o,c.toJSON()),await Promise.all(t.map(async d=>{if(d!==s)try{await d._remove(o)}catch{}})),new wc(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZC(e))return"Blackberry";if(JC(e))return"Webos";if($C(e))return"Safari";if((e.includes("chrome/")||QC(e))&&!e.includes("edge/"))return"Chrome";if(XC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=i.match(t);if(n?.length===2)return n[1]}return"Other"}function GC(i=Vn()){return/firefox\//i.test(i)}function $C(i=Vn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QC(i=Vn()){return/crios\//i.test(i)}function KC(i=Vn()){return/iemobile/i.test(i)}function XC(i=Vn()){return/android/i.test(i)}function ZC(i=Vn()){return/blackberry/i.test(i)}function JC(i=Vn()){return/webos/i.test(i)}function Ib(i=Vn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function sL(i=Vn()){return Ib(i)&&!!window.navigator?.standalone}function aL(){return b2()&&document.documentMode===10}function eA(i=Vn()){return Ib(i)||XC(i)||JC(i)||ZC(i)||/windows phone/i.test(i)||KC(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(i,e=[]){let t;switch(i){case"Browser":t=FS(Vn());break;case"Worker":t=`${FS(Vn())}-${i}`;break;default:t=i}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Qc}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=s=>new Promise((o,c)=>{try{const h=e(s);o(h)}catch(h){c(h)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lL(i,e={}){return Ps(i,"GET","/v2/passwordPolicy",za(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL=6;class uL{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??cL,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new US(this),this.idTokenSubscription=new US(this),this.beforeStateQueue=new oL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ps(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await wc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await rm(this,{idToken:e}),n=await zi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ki(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,o=n?._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===o)&&c?.user&&(n=c.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(s){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await sm(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ki(this.app))return Promise.reject(vs(this));const t=e?Zt(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ki(this.app)?Promise.reject(vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ki(this.app)?Promise.reject(vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await lL(this),t=new uL(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new md("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await rL(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ps(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await wc.create(this,[ps(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,n,r);return()=>{o=!0,h()}}else{const h=e.addObserver(t);return()=>{o=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(ki(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&UN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function cl(i){return Zt(i)}class US{constructor(e){this.auth=e,this.observer=null,this.addObserver=A2(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dL(i){qm=i}function nA(i){return qm.loadJS(i)}function fL(){return qm.recaptchaEnterpriseScript}function pL(){return qm.gapiScript}function mL(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class gL{constructor(){this.enterprise=new yL}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class yL{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const _L="recaptcha-enterprise",iA="NO_RECAPTCHA";class vL{constructor(e){this.type=_L,this.auth=cl(e)}async verify(e="verify",t=!1){async function n(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,c)=>{KN(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new QN(h);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(h=>{c(h)})})}function r(s,o,c){const h=window.grecaptcha;NS(h)?h.enterprise.ready(()=>{h.enterprise.execute(s,{action:e}).then(d=>{o(d)}).catch(()=>{o(iA)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new gL().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{n(this.auth).then(c=>{if(!t&&NS(window.grecaptcha))r(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let h=fL();h.length!==0&&(h+=c),nA(h).then(()=>{r(c,s,o)}).catch(d=>{o(d)})}}).catch(c=>{o(c)})})}}async function jS(i,e,t,n=!1,r=!1){const s=new vL(i);let o;if(r)o=iA;else try{o=await s.verify(t)}catch{o=await s.verify(t,!0)}const c={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return n?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Pv(i,e,t,n,r){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await jS(i,e,t,t==="getOobCode");return n(i,s)}else return n(i,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await jS(i,e,t,t==="getOobCode");return n(i,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(i,e){const t=Ab(i,"auth");if(t.isInitialized()){const r=t.getImmediate(),s=t.getOptions();if(Xo(s,e??{}))return r;qi(r,"already-initialized")}return t.initialize({options:e})}function wL(i,e){const t=e?.persistence||[],n=(Array.isArray(t)?t:[t]).map(ps);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(n,e?.popupRedirectResolver)}function EL(i,e,t){const n=cl(i);Ce(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const r=!1,s=rA(e),{host:o,port:c}=TL(e),h=c===null?"":`:${c}`,d={url:`${s}//${o}${h}/`},p=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!n._canInitEmulator){Ce(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Ce(Xo(d,n.config.emulator)&&Xo(p,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=d,n.emulatorConfig=p,n.settings.appVerificationDisabledForTesting=!0,$c(o)?(MC(`${s}//${o}${h}`),IC("Auth",!0)):SL()}function rA(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function TL(i){const e=rA(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(n);if(r){const s=r[1];return{host:s,port:zS(n.substr(s.length+1))}}else{const[s,o]=n.split(":");return{host:s,port:zS(o)}}}function zS(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function SL(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return fs("not implemented")}_getIdTokenResponse(e){return fs("not implemented")}_linkToIdToken(e,t){return fs("not implemented")}_getReauthenticationResolver(e){return fs("not implemented")}}async function xL(i,e){return Ps(i,"POST","/v1/accounts:update",e)}async function DL(i,e){return Ps(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CL(i,e){return _d(i,"POST","/v1/accounts:signInWithPassword",za(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AL(i,e){return _d(i,"POST","/v1/accounts:signInWithEmailLink",za(i,e))}async function RL(i,e){return _d(i,"POST","/v1/accounts:signInWithEmailLink",za(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h extends Ob{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new $h(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new $h(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pv(e,t,"signInWithPassword",CL);case"emailLink":return AL(e,{email:this._email,oobCode:this._password});default:qi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pv(e,n,"signUpPassword",DL);case"emailLink":return RL(e,{idToken:t,email:this._email,oobCode:this._password});default:qi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ec(i,e){return _d(i,"POST","/v1/accounts:signInWithIdp",za(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL="http://localhost";class Jo extends Ob{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Jo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):qi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:r,...s}=t;if(!n||!r)return null;const o=new Jo(n,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return Ec(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ec(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ec(e,t)}buildRequest(){const e={requestUri:kL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=gd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function IL(i){const e=Th(Sh(i)).link,t=e?Th(Sh(e)).deep_link_id:null,n=Th(Sh(i)).deep_link_id;return(n?Th(Sh(n)).link:null)||n||t||e||i}class Pb{constructor(e){const t=Th(Sh(e)),n=t.apiKey??null,r=t.oobCode??null,s=ML(t.mode??null);Ce(n&&r&&s,"argument-error"),this.apiKey=n,this.operation=s,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=IL(e);try{return new Pb(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(){this.providerId=ul.PROVIDER_ID}static credential(e,t){return $h._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Pb.parseLink(t);return Ce(n,"argument-error"),$h._fromEmailAndCode(e,n.code,n.tenantId)}}ul.PROVIDER_ID="password";ul.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ul.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd extends sA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma extends vd{constructor(){super("facebook.com")}static credential(e){return Jo._fromParams({providerId:ma.PROVIDER_ID,signInMethod:ma.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ma.credentialFromTaggedObject(e)}static credentialFromError(e){return ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ma.credential(e.oauthAccessToken)}catch{return null}}}ma.FACEBOOK_SIGN_IN_METHOD="facebook.com";ma.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga extends vd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Jo._fromParams({providerId:ga.PROVIDER_ID,signInMethod:ga.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ga.credentialFromTaggedObject(e)}static credentialFromError(e){return ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return ga.credential(t,n)}catch{return null}}}ga.GOOGLE_SIGN_IN_METHOD="google.com";ga.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya extends vd{constructor(){super("github.com")}static credential(e){return Jo._fromParams({providerId:ya.PROVIDER_ID,signInMethod:ya.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ya.credentialFromTaggedObject(e)}static credentialFromError(e){return ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ya.credential(e.oauthAccessToken)}catch{return null}}}ya.GITHUB_SIGN_IN_METHOD="github.com";ya.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a extends vd{constructor(){super("twitter.com")}static credential(e,t){return Jo._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return _a.credentialFromTaggedObject(e)}static credentialFromError(e){return _a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return _a.credential(t,n)}catch{return null}}}_a.TWITTER_SIGN_IN_METHOD="twitter.com";_a.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OL(i,e){return _d(i,"POST","/v1/accounts:signUp",za(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const s=await zi._fromIdTokenResponse(e,n,r),o=HS(n);return new el({user:s,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=HS(n);return new el({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function HS(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am extends Os{constructor(e,t,n,r){super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,am.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new am(e,t,n,r)}}function aA(i,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?am._fromErrorAndOperation(i,s,e,n):s})}async function PL(i,e,t=!1){const n=await Rc(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return el._forOperation(i,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oA(i,e,t=!1){const{auth:n}=i;if(ki(n.app))return Promise.reject(vs(n));const r="reauthenticate";try{const s=await Rc(i,aA(n,r,e,i),t);Ce(s.idToken,n,"internal-error");const o=Mb(s.idToken);Ce(o,n,"internal-error");const{sub:c}=o;return Ce(i.uid===c,n,"user-mismatch"),el._forOperation(i,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&qi(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lA(i,e,t=!1){if(ki(i.app))return Promise.reject(vs(i));const n="signIn",r=await aA(i,n,e),s=await el._fromIdTokenResponse(i,n,r);return t||await i._updateCurrentUser(s.user),s}async function NL(i,e){return lA(cl(i),e)}async function LL(i,e){return oA(Zt(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cA(i){const e=cl(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function VL(i,e,t){if(ki(i.app))return Promise.reject(vs(i));const n=cl(i),o=await Pv(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",OL).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&cA(i),h}),c=await el._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(c.user),c}function BL(i,e,t){return ki(i.app)?Promise.reject(vs(i)):NL(Zt(i),ul.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&cA(i),n})}function FL(i,e){return UL(Zt(i),null,e)}async function UL(i,e,t){const{auth:n}=i,s={idToken:await i.getIdToken(),returnSecureToken:!0};t&&(s.password=t);const o=await Rc(i,xL(n,s));await i._updateTokensIfNecessary(o,!0)}function jL(i,e,t,n){return Zt(i).onIdTokenChanged(e,t,n)}function zL(i,e,t){return Zt(i).beforeAuthStateChanged(e,t)}function HL(i,e,t,n){return Zt(i).onAuthStateChanged(e,t,n)}function YL(i){return Zt(i).signOut()}const om="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(om,"1"),this.storage.removeItem(om),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=1e3,WL=10;class hA extends uA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,c,h)=>{this.notifyListeners(o,h)});return}const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(n);!t&&this.localCache[n]===o||this.notifyListeners(n,o)},s=this.storage.getItem(n);aL()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,WL):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},qL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}hA.type="LOCAL";const GL=hA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA extends uA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}dA.type="SESSION";const fA=dA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const n=new Wm(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:s}=t.data,o=this.handlersMap[r];if(!o?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const c=Array.from(o).map(async d=>d(t.origin,s)),h=await $L(c);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(i="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((c,h)=>{const d=Nb("",20);r.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(y){const _=y;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(_.data.response);break;default:clearTimeout(p),clearTimeout(s),h(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(){return window}function KL(i){Sr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(){return typeof Sr().WorkerGlobalScope<"u"&&typeof Sr().importScripts=="function"}async function XL(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZL(){return navigator?.serviceWorker?.controller||null}function JL(){return pA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA="firebaseLocalStorageDb",eV=1,lm="firebaseLocalStorage",gA="fbase_key";class bd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Gm(i,e){return i.transaction([lm],e?"readwrite":"readonly").objectStore(lm)}function tV(){const i=indexedDB.deleteDatabase(mA);return new bd(i).toPromise()}function Nv(){const i=indexedDB.open(mA,eV);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const n=i.result;try{n.createObjectStore(lm,{keyPath:gA})}catch(r){t(r)}}),i.addEventListener("success",async()=>{const n=i.result;n.objectStoreNames.contains(lm)?e(n):(n.close(),await tV(),e(await Nv()))})})}async function YS(i,e,t){const n=Gm(i,!0).put({[gA]:e,value:t});return new bd(n).toPromise()}async function nV(i,e){const t=Gm(i,!1).get(e),n=await new bd(t).toPromise();return n===void 0?null:n.value}function qS(i,e){const t=Gm(i,!0).delete(e);return new bd(t).toPromise()}const iV=800,rV=3;class yA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Nv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>rV)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wm._getInstance(JL()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await XL(),!this.activeServiceWorker)return;this.sender=new QL(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Nv();return await YS(e,om,"1"),await qS(e,om),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>YS(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>nV(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>qS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=Gm(r,!1).getAll();return new bd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yA.type="LOCAL";const sV=yA;new yd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(i,e){return e?ps(e):(Ce(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb extends Ob{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ec(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ec(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ec(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function oV(i){return lA(i.auth,new Lb(i),i.bypassAuthState)}function lV(i){const{auth:e,user:t}=i;return Ce(t,e,"internal-error"),oA(t,new Lb(i),i.bypassAuthState)}async function cV(i){const{auth:e,user:t}=i;return Ce(t,e,"internal-error"),PL(t,new Lb(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,t,n,r,s=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}const h={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oV;case"linkViaPopup":case"linkViaRedirect":return cV;case"reauthViaPopup":case"reauthViaRedirect":return lV;default:qi(this.auth,"internal-error")}}resolve(e){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV=new yd(2e3,1e4);class _c extends _A{constructor(e,t,n,r,s){super(e,t,r,s),this.provider=n,this.authWindow=null,this.pollId=null,_c.currentPopupAction&&_c.currentPopupAction.cancel(),_c.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){As(this.filter.length===1,"Popup operations only handle one event");const e=Nb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_c.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uV.get())};e()}}_c.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV="pendingRedirect",Bp=new Map;class dV extends _A{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Bp.get(this.auth._key());if(!e){try{const n=await fV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Bp.set(this.auth._key(),e)}return this.bypassAuthState||Bp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fV(i,e){const t=gV(e),n=mV(i);if(!await n._isAvailable())return!1;const r=await n._get(t)==="true";return await n._remove(t),r}function pV(i,e){Bp.set(i._key(),e)}function mV(i){return ps(i._redirectPersistence)}function gV(i){return Vp(hV,i.config.apiKey,i.name)}async function yV(i,e,t=!1){if(ki(i.app))return Promise.reject(vs(i));const n=cl(i),r=aV(n,e),o=await new dV(n,r,t).execute();return o&&!t&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V=600*1e3;class vV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bV(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!vA(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Tr(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_V&&this.cachedEventUids.clear(),this.cachedEventUids.has(WS(e))}saveEventToCache(e){this.cachedEventUids.add(WS(e)),this.lastProcessedEventTime=Date.now()}}function WS(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function vA({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function bV(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vA(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wV(i,e={}){return Ps(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TV=/^https?/;async function SV(i){if(i.config.emulator)return;const{authorizedDomains:e}=await wV(i);for(const t of e)try{if(xV(t))return}catch{}qi(i,"unauthorized-domain")}function xV(i){const e=Iv(),{protocol:t,hostname:n}=new URL(e);if(i.startsWith("chrome-extension://")){const o=new URL(i);return o.hostname===""&&n===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===n}if(!TV.test(t))return!1;if(EV.test(i))return n===i;const r=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV=new yd(3e4,6e4);function GS(){const i=Sr().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function CV(i){return new Promise((e,t)=>{function n(){GS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GS(),t(Tr(i,"network-request-failed"))},timeout:DV.get()})}if(Sr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Sr().gapi?.load)n();else{const r=mL("iframefcb");return Sr()[r]=()=>{gapi.load?n():t(Tr(i,"network-request-failed"))},nA(`${pL()}?onload=${r}`).catch(s=>t(s))}}).catch(e=>{throw Fp=null,e})}let Fp=null;function AV(i){return Fp=Fp||CV(i),Fp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV=new yd(5e3,15e3),kV="__/auth/iframe",MV="emulator/auth/iframe",IV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PV(i){const e=i.config;Ce(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?kb(e,MV):`https://${i.config.authDomain}/${kV}`,n={apiKey:e.apiKey,appName:i.name,v:Qc},r=OV.get(i.config.apiHost);r&&(n.eid=r);const s=i._getFrameworks();return s.length&&(n.fw=s.join(",")),`${t}?${gd(n).slice(1)}`}async function NV(i){const e=await AV(i),t=Sr().gapi;return Ce(t,i,"internal-error"),e.open({where:document.body,url:PV(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IV,dontclear:!0},n=>new Promise(async(r,s)=>{await n.restyle({setHideOnLeave:!1});const o=Tr(i,"network-request-failed"),c=Sr().setTimeout(()=>{s(o)},RV.get());function h(){Sr().clearTimeout(c),r(n)}n.ping(h).then(h,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VV=500,BV=600,FV="_blank",UV="http://localhost";class $S{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jV(i,e,t,n=VV,r=BV){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const h={...LV,width:n.toString(),height:r.toString(),top:s,left:o},d=Vn().toLowerCase();t&&(c=QC(d)?FV:t),GC(d)&&(e=e||UV,h.scrollbars="yes");const p=Object.entries(h).reduce((_,[b,E])=>`${_}${b}=${E},`,"");if(sL(d)&&c!=="_self")return zV(e||"",c),new $S(null);const y=window.open(e||"",c,p);Ce(y,i,"popup-blocked");try{y.focus()}catch{}return new $S(y)}function zV(i,e){const t=document.createElement("a");t.href=i,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV="__/auth/handler",YV="emulator/auth/handler",qV=encodeURIComponent("fac");async function QS(i,e,t,n,r,s){Ce(i.config.authDomain,i,"auth-domain-config-required"),Ce(i.config.apiKey,i,"invalid-api-key");const o={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:n,v:Qc,eventId:r};if(e instanceof sA){e.setDefaultLanguage(i.languageCode),o.providerId=e.providerId||"",C2(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,y]of Object.entries({}))o[p]=y}if(e instanceof vd){const p=e.getScopes().filter(y=>y!=="");p.length>0&&(o.scopes=p.join(","))}i.tenantId&&(o.tid=i.tenantId);const c=o;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const h=await i._getAppCheckToken(),d=h?`#${qV}=${encodeURIComponent(h)}`:"";return`${WV(i)}?${gd(c).slice(1)}${d}`}function WV({config:i}){return i.emulator?kb(i,YV):`https://${i.authDomain}/${HV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="webStorageSupport";class GV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fA,this._completeRedirectFn=yV,this._overrideRedirectResult=pV}async _openPopup(e,t,n,r){As(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await QS(e,t,n,Iv(),r);return jV(e,s,Nb())}async _openRedirect(e,t,n,r){await this._originValidation(e);const s=await QS(e,t,n,Iv(),r);return KL(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(As(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await NV(e),n=new vV(e);return t.register("authEvent",r=>(Ce(r?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(G_,{type:G_},r=>{const s=r?.[0]?.[G_];s!==void 0&&t(!!s),qi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=SV(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return eA()||$C()||Ib()}}const $V=GV;var KS="@firebase/auth",XS="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XV(i){Ac(new Zo("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=n.options;Ce(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const h={apiKey:o,authDomain:c,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tA(i)},d=new hL(n,r,s,h);return wL(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Ac(new Zo("auth-internal",e=>{const t=cl(e.getProvider("auth").getImmediate());return(n=>new QV(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Da(KS,XS,KV(i)),Da(KS,XS,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV=300,JV=kC("authIdTokenMaxAge")||ZV;let ZS=null;const e4=i=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>JV)return;const r=t?.token;ZS!==r&&(ZS=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function t4(i=LC()){const e=Ab(i,"auth");if(e.isInitialized())return e.getImmediate();const t=bL(i,{popupRedirectResolver:$V,persistence:[sV,GL,fA]}),n=kC("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const o=e4(s.toString());zL(t,o,()=>o(t.currentUser)),jL(t,c=>o(c))}}const r=AC("auth");return r&&EL(t,`http://${r}`),t}function n4(){return document.getElementsByTagName("head")?.[0]??document}dL({loadJS(i){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",i),n.onload=e,n.onerror=r=>{const s=Tr("internal-error");s.customData=r,t(s)},n.type="text/javascript",n.charset="UTF-8",n4().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XV("Browser");var JS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ca,bA;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,A){function k(){}k.prototype=A.prototype,M.D=A.prototype,M.prototype=new k,M.prototype.constructor=M,M.C=function(L,B,U){for(var V=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)V[_e-2]=arguments[_e];return A.prototype[B].apply(L,V)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(M,A,k){k||(k=0);var L=Array(16);if(typeof A=="string")for(var B=0;16>B;++B)L[B]=A.charCodeAt(k++)|A.charCodeAt(k++)<<8|A.charCodeAt(k++)<<16|A.charCodeAt(k++)<<24;else for(B=0;16>B;++B)L[B]=A[k++]|A[k++]<<8|A[k++]<<16|A[k++]<<24;A=M.g[0],k=M.g[1],B=M.g[2];var U=M.g[3],V=A+(U^k&(B^U))+L[0]+3614090360&4294967295;A=k+(V<<7&4294967295|V>>>25),V=U+(B^A&(k^B))+L[1]+3905402710&4294967295,U=A+(V<<12&4294967295|V>>>20),V=B+(k^U&(A^k))+L[2]+606105819&4294967295,B=U+(V<<17&4294967295|V>>>15),V=k+(A^B&(U^A))+L[3]+3250441966&4294967295,k=B+(V<<22&4294967295|V>>>10),V=A+(U^k&(B^U))+L[4]+4118548399&4294967295,A=k+(V<<7&4294967295|V>>>25),V=U+(B^A&(k^B))+L[5]+1200080426&4294967295,U=A+(V<<12&4294967295|V>>>20),V=B+(k^U&(A^k))+L[6]+2821735955&4294967295,B=U+(V<<17&4294967295|V>>>15),V=k+(A^B&(U^A))+L[7]+4249261313&4294967295,k=B+(V<<22&4294967295|V>>>10),V=A+(U^k&(B^U))+L[8]+1770035416&4294967295,A=k+(V<<7&4294967295|V>>>25),V=U+(B^A&(k^B))+L[9]+2336552879&4294967295,U=A+(V<<12&4294967295|V>>>20),V=B+(k^U&(A^k))+L[10]+4294925233&4294967295,B=U+(V<<17&4294967295|V>>>15),V=k+(A^B&(U^A))+L[11]+2304563134&4294967295,k=B+(V<<22&4294967295|V>>>10),V=A+(U^k&(B^U))+L[12]+1804603682&4294967295,A=k+(V<<7&4294967295|V>>>25),V=U+(B^A&(k^B))+L[13]+4254626195&4294967295,U=A+(V<<12&4294967295|V>>>20),V=B+(k^U&(A^k))+L[14]+2792965006&4294967295,B=U+(V<<17&4294967295|V>>>15),V=k+(A^B&(U^A))+L[15]+1236535329&4294967295,k=B+(V<<22&4294967295|V>>>10),V=A+(B^U&(k^B))+L[1]+4129170786&4294967295,A=k+(V<<5&4294967295|V>>>27),V=U+(k^B&(A^k))+L[6]+3225465664&4294967295,U=A+(V<<9&4294967295|V>>>23),V=B+(A^k&(U^A))+L[11]+643717713&4294967295,B=U+(V<<14&4294967295|V>>>18),V=k+(U^A&(B^U))+L[0]+3921069994&4294967295,k=B+(V<<20&4294967295|V>>>12),V=A+(B^U&(k^B))+L[5]+3593408605&4294967295,A=k+(V<<5&4294967295|V>>>27),V=U+(k^B&(A^k))+L[10]+38016083&4294967295,U=A+(V<<9&4294967295|V>>>23),V=B+(A^k&(U^A))+L[15]+3634488961&4294967295,B=U+(V<<14&4294967295|V>>>18),V=k+(U^A&(B^U))+L[4]+3889429448&4294967295,k=B+(V<<20&4294967295|V>>>12),V=A+(B^U&(k^B))+L[9]+568446438&4294967295,A=k+(V<<5&4294967295|V>>>27),V=U+(k^B&(A^k))+L[14]+3275163606&4294967295,U=A+(V<<9&4294967295|V>>>23),V=B+(A^k&(U^A))+L[3]+4107603335&4294967295,B=U+(V<<14&4294967295|V>>>18),V=k+(U^A&(B^U))+L[8]+1163531501&4294967295,k=B+(V<<20&4294967295|V>>>12),V=A+(B^U&(k^B))+L[13]+2850285829&4294967295,A=k+(V<<5&4294967295|V>>>27),V=U+(k^B&(A^k))+L[2]+4243563512&4294967295,U=A+(V<<9&4294967295|V>>>23),V=B+(A^k&(U^A))+L[7]+1735328473&4294967295,B=U+(V<<14&4294967295|V>>>18),V=k+(U^A&(B^U))+L[12]+2368359562&4294967295,k=B+(V<<20&4294967295|V>>>12),V=A+(k^B^U)+L[5]+4294588738&4294967295,A=k+(V<<4&4294967295|V>>>28),V=U+(A^k^B)+L[8]+2272392833&4294967295,U=A+(V<<11&4294967295|V>>>21),V=B+(U^A^k)+L[11]+1839030562&4294967295,B=U+(V<<16&4294967295|V>>>16),V=k+(B^U^A)+L[14]+4259657740&4294967295,k=B+(V<<23&4294967295|V>>>9),V=A+(k^B^U)+L[1]+2763975236&4294967295,A=k+(V<<4&4294967295|V>>>28),V=U+(A^k^B)+L[4]+1272893353&4294967295,U=A+(V<<11&4294967295|V>>>21),V=B+(U^A^k)+L[7]+4139469664&4294967295,B=U+(V<<16&4294967295|V>>>16),V=k+(B^U^A)+L[10]+3200236656&4294967295,k=B+(V<<23&4294967295|V>>>9),V=A+(k^B^U)+L[13]+681279174&4294967295,A=k+(V<<4&4294967295|V>>>28),V=U+(A^k^B)+L[0]+3936430074&4294967295,U=A+(V<<11&4294967295|V>>>21),V=B+(U^A^k)+L[3]+3572445317&4294967295,B=U+(V<<16&4294967295|V>>>16),V=k+(B^U^A)+L[6]+76029189&4294967295,k=B+(V<<23&4294967295|V>>>9),V=A+(k^B^U)+L[9]+3654602809&4294967295,A=k+(V<<4&4294967295|V>>>28),V=U+(A^k^B)+L[12]+3873151461&4294967295,U=A+(V<<11&4294967295|V>>>21),V=B+(U^A^k)+L[15]+530742520&4294967295,B=U+(V<<16&4294967295|V>>>16),V=k+(B^U^A)+L[2]+3299628645&4294967295,k=B+(V<<23&4294967295|V>>>9),V=A+(B^(k|~U))+L[0]+4096336452&4294967295,A=k+(V<<6&4294967295|V>>>26),V=U+(k^(A|~B))+L[7]+1126891415&4294967295,U=A+(V<<10&4294967295|V>>>22),V=B+(A^(U|~k))+L[14]+2878612391&4294967295,B=U+(V<<15&4294967295|V>>>17),V=k+(U^(B|~A))+L[5]+4237533241&4294967295,k=B+(V<<21&4294967295|V>>>11),V=A+(B^(k|~U))+L[12]+1700485571&4294967295,A=k+(V<<6&4294967295|V>>>26),V=U+(k^(A|~B))+L[3]+2399980690&4294967295,U=A+(V<<10&4294967295|V>>>22),V=B+(A^(U|~k))+L[10]+4293915773&4294967295,B=U+(V<<15&4294967295|V>>>17),V=k+(U^(B|~A))+L[1]+2240044497&4294967295,k=B+(V<<21&4294967295|V>>>11),V=A+(B^(k|~U))+L[8]+1873313359&4294967295,A=k+(V<<6&4294967295|V>>>26),V=U+(k^(A|~B))+L[15]+4264355552&4294967295,U=A+(V<<10&4294967295|V>>>22),V=B+(A^(U|~k))+L[6]+2734768916&4294967295,B=U+(V<<15&4294967295|V>>>17),V=k+(U^(B|~A))+L[13]+1309151649&4294967295,k=B+(V<<21&4294967295|V>>>11),V=A+(B^(k|~U))+L[4]+4149444226&4294967295,A=k+(V<<6&4294967295|V>>>26),V=U+(k^(A|~B))+L[11]+3174756917&4294967295,U=A+(V<<10&4294967295|V>>>22),V=B+(A^(U|~k))+L[2]+718787259&4294967295,B=U+(V<<15&4294967295|V>>>17),V=k+(U^(B|~A))+L[9]+3951481745&4294967295,M.g[0]=M.g[0]+A&4294967295,M.g[1]=M.g[1]+(B+(V<<21&4294967295|V>>>11))&4294967295,M.g[2]=M.g[2]+B&4294967295,M.g[3]=M.g[3]+U&4294967295}n.prototype.u=function(M,A){A===void 0&&(A=M.length);for(var k=A-this.blockSize,L=this.B,B=this.h,U=0;U<A;){if(B==0)for(;U<=k;)r(this,M,U),U+=this.blockSize;if(typeof M=="string"){for(;U<A;)if(L[B++]=M.charCodeAt(U++),B==this.blockSize){r(this,L),B=0;break}}else for(;U<A;)if(L[B++]=M[U++],B==this.blockSize){r(this,L),B=0;break}}this.h=B,this.o+=A},n.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var A=1;A<M.length-8;++A)M[A]=0;var k=8*this.o;for(A=M.length-8;A<M.length;++A)M[A]=k&255,k/=256;for(this.u(M),M=Array(16),A=k=0;4>A;++A)for(var L=0;32>L;L+=8)M[k++]=this.g[A]>>>L&255;return M};function s(M,A){var k=c;return Object.prototype.hasOwnProperty.call(k,M)?k[M]:k[M]=A(M)}function o(M,A){this.h=A;for(var k=[],L=!0,B=M.length-1;0<=B;B--){var U=M[B]|0;L&&U==A||(k[B]=U,L=!1)}this.g=k}var c={};function h(M){return-128<=M&&128>M?s(M,function(A){return new o([A|0],0>A?-1:0)}):new o([M|0],0>M?-1:0)}function d(M){if(isNaN(M)||!isFinite(M))return y;if(0>M)return T(d(-M));for(var A=[],k=1,L=0;M>=k;L++)A[L]=M/k|0,k*=4294967296;return new o(A,0)}function p(M,A){if(M.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(M.charAt(0)=="-")return T(p(M.substring(1),A));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=d(Math.pow(A,8)),L=y,B=0;B<M.length;B+=8){var U=Math.min(8,M.length-B),V=parseInt(M.substring(B,B+U),A);8>U?(U=d(Math.pow(A,U)),L=L.j(U).add(d(V))):(L=L.j(k),L=L.add(d(V)))}return L}var y=h(0),_=h(1),b=h(16777216);i=o.prototype,i.m=function(){if(S(this))return-T(this).m();for(var M=0,A=1,k=0;k<this.g.length;k++){var L=this.i(k);M+=(0<=L?L:4294967296+L)*A,A*=4294967296}return M},i.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(E(this))return"0";if(S(this))return"-"+T(this).toString(M);for(var A=d(Math.pow(M,6)),k=this,L="";;){var B=q(k,A).g;k=C(k,B.j(A));var U=((0<k.g.length?k.g[0]:k.h)>>>0).toString(M);if(k=B,E(k))return U+L;for(;6>U.length;)U="0"+U;L=U+L}},i.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function E(M){if(M.h!=0)return!1;for(var A=0;A<M.g.length;A++)if(M.g[A]!=0)return!1;return!0}function S(M){return M.h==-1}i.l=function(M){return M=C(this,M),S(M)?-1:E(M)?0:1};function T(M){for(var A=M.g.length,k=[],L=0;L<A;L++)k[L]=~M.g[L];return new o(k,~M.h).add(_)}i.abs=function(){return S(this)?T(this):this},i.add=function(M){for(var A=Math.max(this.g.length,M.g.length),k=[],L=0,B=0;B<=A;B++){var U=L+(this.i(B)&65535)+(M.i(B)&65535),V=(U>>>16)+(this.i(B)>>>16)+(M.i(B)>>>16);L=V>>>16,U&=65535,V&=65535,k[B]=V<<16|U}return new o(k,k[k.length-1]&-2147483648?-1:0)};function C(M,A){return M.add(T(A))}i.j=function(M){if(E(this)||E(M))return y;if(S(this))return S(M)?T(this).j(T(M)):T(T(this).j(M));if(S(M))return T(this.j(T(M)));if(0>this.l(b)&&0>M.l(b))return d(this.m()*M.m());for(var A=this.g.length+M.g.length,k=[],L=0;L<2*A;L++)k[L]=0;for(L=0;L<this.g.length;L++)for(var B=0;B<M.g.length;B++){var U=this.i(L)>>>16,V=this.i(L)&65535,_e=M.i(B)>>>16,de=M.i(B)&65535;k[2*L+2*B]+=V*de,N(k,2*L+2*B),k[2*L+2*B+1]+=U*de,N(k,2*L+2*B+1),k[2*L+2*B+1]+=V*_e,N(k,2*L+2*B+1),k[2*L+2*B+2]+=U*_e,N(k,2*L+2*B+2)}for(L=0;L<A;L++)k[L]=k[2*L+1]<<16|k[2*L];for(L=A;L<2*A;L++)k[L]=0;return new o(k,0)};function N(M,A){for(;(M[A]&65535)!=M[A];)M[A+1]+=M[A]>>>16,M[A]&=65535,A++}function j(M,A){this.g=M,this.h=A}function q(M,A){if(E(A))throw Error("division by zero");if(E(M))return new j(y,y);if(S(M))return A=q(T(M),A),new j(T(A.g),T(A.h));if(S(A))return A=q(M,T(A)),new j(T(A.g),A.h);if(30<M.g.length){if(S(M)||S(A))throw Error("slowDivide_ only works with positive integers.");for(var k=_,L=A;0>=L.l(M);)k=H(k),L=H(L);var B=K(k,1),U=K(L,1);for(L=K(L,2),k=K(k,2);!E(L);){var V=U.add(L);0>=V.l(M)&&(B=B.add(k),U=V),L=K(L,1),k=K(k,1)}return A=C(M,B.j(A)),new j(B,A)}for(B=y;0<=M.l(A);){for(k=Math.max(1,Math.floor(M.m()/A.m())),L=Math.ceil(Math.log(k)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),U=d(k),V=U.j(A);S(V)||0<V.l(M);)k-=L,U=d(k),V=U.j(A);E(U)&&(U=_),B=B.add(U),M=C(M,V)}return new j(B,M)}i.A=function(M){return q(this,M).h},i.and=function(M){for(var A=Math.max(this.g.length,M.g.length),k=[],L=0;L<A;L++)k[L]=this.i(L)&M.i(L);return new o(k,this.h&M.h)},i.or=function(M){for(var A=Math.max(this.g.length,M.g.length),k=[],L=0;L<A;L++)k[L]=this.i(L)|M.i(L);return new o(k,this.h|M.h)},i.xor=function(M){for(var A=Math.max(this.g.length,M.g.length),k=[],L=0;L<A;L++)k[L]=this.i(L)^M.i(L);return new o(k,this.h^M.h)};function H(M){for(var A=M.g.length+1,k=[],L=0;L<A;L++)k[L]=M.i(L)<<1|M.i(L-1)>>>31;return new o(k,M.h)}function K(M,A){var k=A>>5;A%=32;for(var L=M.g.length-k,B=[],U=0;U<L;U++)B[U]=0<A?M.i(U+k)>>>A|M.i(U+k+1)<<32-A:M.i(U+k);return new o(B,M.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,bA=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=p,Ca=o}).apply(typeof JS<"u"?JS:typeof self<"u"?self:typeof window<"u"?window:{});var lp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wA,xh,EA,Up,Lv,TA,SA,xA;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,w,x){return m==Array.prototype||m==Object.prototype||(m[w]=x.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof lp=="object"&&lp];for(var w=0;w<m.length;++w){var x=m[w];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var n=t(this);function r(m,w){if(w)e:{var x=n;m=m.split(".");for(var I=0;I<m.length-1;I++){var $=m[I];if(!($ in x))break e;x=x[$]}m=m[m.length-1],I=x[m],w=w(I),w!=I&&w!=null&&e(x,m,{configurable:!0,writable:!0,value:w})}}function s(m,w){m instanceof String&&(m+="");var x=0,I=!1,$={next:function(){if(!I&&x<m.length){var te=x++;return{value:w(te,m[te]),done:!1}}return I=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}r("Array.prototype.values",function(m){return m||function(){return s(this,function(w,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function h(m){var w=typeof m;return w=w!="object"?w:m?Array.isArray(m)?"array":w:"null",w=="array"||w=="object"&&typeof m.length=="number"}function d(m){var w=typeof m;return w=="object"&&m!=null||w=="function"}function p(m,w,x){return m.call.apply(m.bind,arguments)}function y(m,w,x){if(!m)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,I),m.apply(w,$)}}return function(){return m.apply(w,arguments)}}function _(m,w,x){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,_.apply(null,arguments)}function b(m,w){var x=Array.prototype.slice.call(arguments,1);return function(){var I=x.slice();return I.push.apply(I,arguments),m.apply(this,I)}}function E(m,w){function x(){}x.prototype=w.prototype,m.aa=w.prototype,m.prototype=new x,m.prototype.constructor=m,m.Qb=function(I,$,te){for(var pe=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)pe[qe-2]=arguments[qe];return w.prototype[$].apply(I,pe)}}function S(m){const w=m.length;if(0<w){const x=Array(w);for(let I=0;I<w;I++)x[I]=m[I];return x}return[]}function T(m,w){for(let x=1;x<arguments.length;x++){const I=arguments[x];if(h(I)){const $=m.length||0,te=I.length||0;m.length=$+te;for(let pe=0;pe<te;pe++)m[$+pe]=I[pe]}else m.push(I)}}class C{constructor(w,x){this.i=w,this.j=x,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function N(m){return/^[\s\xa0]*$/.test(m)}function j(){var m=c.navigator;return m&&(m=m.userAgent)?m:""}function q(m){return q[" "](m),m}q[" "]=function(){};var H=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function K(m,w,x){for(const I in m)w.call(x,m[I],I,m)}function M(m,w){for(const x in m)w.call(void 0,m[x],x,m)}function A(m){const w={};for(const x in m)w[x]=m[x];return w}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(m,w){let x,I;for(let $=1;$<arguments.length;$++){I=arguments[$];for(x in I)m[x]=I[x];for(let te=0;te<k.length;te++)x=k[te],Object.prototype.hasOwnProperty.call(I,x)&&(m[x]=I[x])}}function B(m){var w=1;m=m.split(":");const x=[];for(;0<w&&m.length;)x.push(m.shift()),w--;return m.length&&x.push(m.join(":")),x}function U(m){c.setTimeout(()=>{throw m},0)}function V(){var m=le;let w=null;return m.g&&(w=m.g,m.g=m.g.next,m.g||(m.h=null),w.next=null),w}class _e{constructor(){this.h=this.g=null}add(w,x){const I=de.get();I.set(w,x),this.h?this.h.next=I:this.g=I,this.h=I}}var de=new C(()=>new W,m=>m.reset());class W{constructor(){this.next=this.g=this.h=null}set(w,x){this.h=w,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,ne=!1,le=new _e,F=()=>{const m=c.Promise.resolve(void 0);ee=()=>{m.then(re)}};var re=()=>{for(var m;m=V();){try{m.h.call(m.g)}catch(x){U(x)}var w=de;w.j(m),100>w.h&&(w.h++,m.next=w.g,w.g=m)}ne=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(m,w){this.type=m,this.g=this.target=w,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var be=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,w=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const x=()=>{};c.addEventListener("test",x,w),c.removeEventListener("test",x,w)}catch{}return m})();function Me(m,w){if(he.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var x=this.type=m.type,I=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=w,w=m.relatedTarget){if(H){e:{try{q(w.nodeName);var $=!0;break e}catch{}$=!1}$||(w=null)}}else x=="mouseover"?w=m.fromElement:x=="mouseout"&&(w=m.toElement);this.relatedTarget=w,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Se[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Me.aa.h.call(this)}}E(Me,he);var Se={2:"touch",3:"pen",4:"mouse"};Me.prototype.h=function(){Me.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var on="closure_listenable_"+(1e6*Math.random()|0),yt=0;function Ki(m,w,x,I,$){this.listener=m,this.proxy=null,this.src=w,this.type=x,this.capture=!!I,this.ha=$,this.key=++yt,this.da=this.fa=!1}function Vs(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Lr(m){this.src=m,this.g={},this.h=0}Lr.prototype.add=function(m,w,x,I,$){var te=m.toString();m=this.g[te],m||(m=this.g[te]=[],this.h++);var pe=$a(m,w,I,$);return-1<pe?(w=m[pe],x||(w.fa=!1)):(w=new Ki(w,this.src,te,!!I,$),w.fa=x,m.push(w)),w};function Ga(m,w){var x=w.type;if(x in m.g){var I=m.g[x],$=Array.prototype.indexOf.call(I,w,void 0),te;(te=0<=$)&&Array.prototype.splice.call(I,$,1),te&&(Vs(w),m.g[x].length==0&&(delete m.g[x],m.h--))}}function $a(m,w,x,I){for(var $=0;$<m.length;++$){var te=m[$];if(!te.da&&te.listener==w&&te.capture==!!x&&te.ha==I)return $}return-1}var Qa="closure_lm_"+(1e6*Math.random()|0),iu={};function Nd(m,w,x,I,$){if(Array.isArray(w)){for(var te=0;te<w.length;te++)Nd(m,w[te],x,I,$);return null}return x=Ld(x),m&&m[on]?m.K(w,x,d(I)?!!I.capture:!1,$):di(m,w,x,!1,I,$)}function di(m,w,x,I,$,te){if(!w)throw Error("Invalid event type");var pe=d($)?!!$.capture:!!$,qe=vl(m);if(qe||(m[Qa]=qe=new Lr(m)),x=qe.add(w,x,I,pe,te),x.proxy)return x;if(I=Og(),x.proxy=I,I.src=m,I.listener=x,m.addEventListener)be||($=pe),$===void 0&&($=!1),m.addEventListener(w.toString(),I,$);else if(m.attachEvent)m.attachEvent(Ka(w.toString()),I);else if(m.addListener&&m.removeListener)m.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Og(){function m(x){return w.call(m.src,m.listener,x)}const w=Pg;return m}function ru(m,w,x,I,$){if(Array.isArray(w))for(var te=0;te<w.length;te++)ru(m,w[te],x,I,$);else I=d(I)?!!I.capture:!!I,x=Ld(x),m&&m[on]?(m=m.i,w=String(w).toString(),w in m.g&&(te=m.g[w],x=$a(te,x,I,$),-1<x&&(Vs(te[x]),Array.prototype.splice.call(te,x,1),te.length==0&&(delete m.g[w],m.h--)))):m&&(m=vl(m))&&(w=m.g[w.toString()],m=-1,w&&(m=$a(w,x,I,$)),(x=-1<m?w[m]:null)&&_l(x))}function _l(m){if(typeof m!="number"&&m&&!m.da){var w=m.src;if(w&&w[on])Ga(w.i,m);else{var x=m.type,I=m.proxy;w.removeEventListener?w.removeEventListener(x,I,m.capture):w.detachEvent?w.detachEvent(Ka(x),I):w.addListener&&w.removeListener&&w.removeListener(I),(x=vl(w))?(Ga(x,m),x.h==0&&(x.src=null,w[Qa]=null)):Vs(m)}}}function Ka(m){return m in iu?iu[m]:iu[m]="on"+m}function Pg(m,w){if(m.da)m=!0;else{w=new Me(w,this);var x=m.listener,I=m.ha||m.src;m.fa&&_l(m),m=x.call(I,w)}return m}function vl(m){return m=m[Qa],m instanceof Lr?m:null}var su="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ld(m){return typeof m=="function"?m:(m[su]||(m[su]=function(w){return m.handleEvent(w)}),m[su])}function It(){fe.call(this),this.i=new Lr(this),this.M=this,this.F=null}E(It,fe),It.prototype[on]=!0,It.prototype.removeEventListener=function(m,w,x,I){ru(this,m,w,x,I)};function at(m,w){var x,I=m.F;if(I)for(x=[];I;I=I.F)x.push(I);if(m=m.M,I=w.type||w,typeof w=="string")w=new he(w,m);else if(w instanceof he)w.target=w.target||m;else{var $=w;w=new he(I,m),L(w,$)}if($=!0,x)for(var te=x.length-1;0<=te;te--){var pe=w.g=x[te];$=Jn(pe,I,!0,w)&&$}if(pe=w.g=m,$=Jn(pe,I,!0,w)&&$,$=Jn(pe,I,!1,w)&&$,x)for(te=0;te<x.length;te++)pe=w.g=x[te],$=Jn(pe,I,!1,w)&&$}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var m=this.i,w;for(w in m.g){for(var x=m.g[w],I=0;I<x.length;I++)Vs(x[I]);delete m.g[w],m.h--}}this.F=null},It.prototype.K=function(m,w,x,I){return this.i.add(String(m),w,!1,x,I)},It.prototype.L=function(m,w,x,I){return this.i.add(String(m),w,!0,x,I)};function Jn(m,w,x,I){if(w=m.i.g[String(w)],!w)return!0;w=w.concat();for(var $=!0,te=0;te<w.length;++te){var pe=w[te];if(pe&&!pe.da&&pe.capture==x){var qe=pe.listener,en=pe.ha||pe.src;pe.fa&&Ga(m.i,pe),$=qe.call(en,I)!==!1&&$}}return $&&!I.defaultPrevented}function Dn(m,w,x){if(typeof m=="function")x&&(m=_(m,x));else if(m&&typeof m.handleEvent=="function")m=_(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:c.setTimeout(m,w||0)}function Vd(m){m.g=Dn(()=>{m.g=null,m.i&&(m.i=!1,Vd(m))},m.l);const w=m.h;m.h=null,m.m.apply(null,w)}class Ng extends fe{constructor(w,x){super(),this.m=w,this.l=x,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Vd(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xa(m){fe.call(this),this.h=m,this.g={}}E(Xa,fe);var Za=[];function Ja(m){K(m.g,function(w,x){this.g.hasOwnProperty(x)&&_l(w)},m),m.g={}}Xa.prototype.N=function(){Xa.aa.N.call(this),Ja(this)},Xa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ni=c.JSON.stringify,bl=c.JSON.parse,eo=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function au(){}au.prototype.h=null;function ou(m){return m.h||(m.h=m.i())}function lu(){}var Vr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Br(){he.call(this,"d")}E(Br,he);function cu(){he.call(this,"c")}E(cu,he);var Xi={},uu=null;function Bs(){return uu=uu||new It}Xi.La="serverreachability";function wl(m){he.call(this,Xi.La,m)}E(wl,he);function Fs(m){const w=Bs();at(w,new wl(w))}Xi.STAT_EVENT="statevent";function Bd(m,w){he.call(this,Xi.STAT_EVENT,m),this.stat=w}E(Bd,he);function Tt(m){const w=Bs();at(w,new Bd(w,m))}Xi.Ma="timingevent";function Jt(m,w){he.call(this,Xi.Ma,m),this.size=w}E(Jt,he);function qt(m,w){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},w)}function fi(){this.g=!0}fi.prototype.xa=function(){this.g=!1};function hu(m,w,x,I,$,te){m.info(function(){if(m.g)if(te)for(var pe="",qe=te.split("&"),en=0;en<qe.length;en++){var We=qe[en].split("=");if(1<We.length){var cn=We[0];We=We[1];var tn=cn.split("_");pe=2<=tn.length&&tn[1]=="type"?pe+(cn+"="+We+"&"):pe+(cn+"=redacted&")}}else pe=null;else pe=te;return"XMLHTTP REQ ("+I+") [attempt "+$+"]: "+w+`
`+x+`
`+pe})}function Lg(m,w,x,I,$,te,pe){m.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+$+"]: "+w+`
`+x+`
`+te+" "+pe})}function Us(m,w,x,I){m.info(function(){return"XMLHTTP TEXT ("+w+"): "+to(m,x)+(I?" "+I:"")})}function Fd(m,w){m.info(function(){return"TIMEOUT: "+w})}fi.prototype.info=function(){};function to(m,w){if(!m.g)return w;if(!w)return null;try{var x=JSON.parse(w);if(x){for(m=0;m<x.length;m++)if(Array.isArray(x[m])){var I=x[m];if(!(2>I.length)){var $=I[1];if(Array.isArray($)&&!(1>$.length)){var te=$[0];if(te!="noop"&&te!="stop"&&te!="close")for(var pe=1;pe<$.length;pe++)$[pe]=""}}}}return Ni(x)}catch{return w}}var js={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zi;function Ji(){}E(Ji,au),Ji.prototype.g=function(){return new XMLHttpRequest},Ji.prototype.i=function(){return{}},Zi=new Ji;function Fn(m,w,x,I){this.j=m,this.i=w,this.l=x,this.R=I||1,this.U=new Xa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vt}function Vt(){this.i=null,this.g="",this.h=!1}var du={},El={};function Li(m,w,x){m.L=1,m.v=ao(ei(w)),m.m=x,m.P=!0,Ur(m,null)}function Ur(m,w){m.F=Date.now(),no(m),m.A=ei(m.v);var x=m.A,I=m.R;Array.isArray(I)||(I=[String(I)]),_u(x.i,"t",I),m.C=0,x=m.j.J,m.h=new Vt,m.g=tf(m.j,x?w:null,!m.m),0<m.O&&(m.M=new Ng(_(m.Y,m,m.g),m.O)),w=m.U,x=m.g,I=m.ca;var $="readystatechange";Array.isArray($)||($&&(Za[0]=$.toString()),$=Za);for(var te=0;te<$.length;te++){var pe=Nd(x,$[te],I||w.handleEvent,!1,w.h||w);if(!pe)break;w.g[pe.key]=pe}w=m.H?A(m.H):{},m.m?(m.u||(m.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,w)):(m.u="GET",m.g.ea(m.A,m.u,null,w)),Fs(),hu(m.i,m.u,m.A,m.l,m.R,m.m)}Fn.prototype.ca=function(m){m=m.target;const w=this.M;w&&yi(m)==3?w.j():this.Y(m)},Fn.prototype.Y=function(m){try{if(m==this.g)e:{const tn=yi(this.g);var w=this.g.Ba();const $r=this.g.Z();if(!(3>tn)&&(tn!=3||this.g&&(this.h.h||this.g.oa()||Gd(this.g)))){this.J||tn!=4||w==7||(w==8||0>=$r?Fs(3):Fs(2)),zs(this);var x=this.g.Z();this.X=x;t:if(Ud(this)){var I=Gd(this.g);m="";var $=I.length,te=yi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gn(this),er(this);var pe="";break t}this.h.i=new c.TextDecoder}for(w=0;w<$;w++)this.h.h=!0,m+=this.h.i.decode(I[w],{stream:!(te&&w==$-1)});I.length=0,this.h.g+=m,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=x==200,Lg(this.i,this.u,this.A,this.l,this.R,tn,x),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,en=this.g;if((qe=en.g?en.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(qe)){var We=qe;break t}}We=null}if(x=We)Us(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,io(this,x);else{this.o=!1,this.s=3,Tt(12),gn(this),er(this);break e}}if(this.P){x=!0;let yn;for(;!this.J&&this.C<pe.length;)if(yn=jd(this,pe),yn==El){tn==4&&(this.s=4,Tt(14),x=!1),Us(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==du){this.s=4,Tt(15),Us(this.i,this.l,pe,"[Invalid Chunk]"),x=!1;break}else Us(this.i,this.l,yn,null),io(this,yn);if(Ud(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tn!=4||pe.length!=0||this.h.h||(this.s=1,Tt(16),x=!1),this.o=this.o&&x,!x)Us(this.i,this.l,pe,"[Invalid Chunked Response]"),gn(this),er(this);else if(0<pe.length&&!this.W){this.W=!0;var cn=this.j;cn.g==this&&cn.ba&&!cn.M&&(cn.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),mo(cn),cn.M=!0,Tt(11))}}else Us(this.i,this.l,pe,null),io(this,pe);tn==4&&gn(this),this.o&&!this.J&&(tn==4?Zd(this.j,this):(this.o=!1,no(this)))}else jg(this.g),x==400&&0<pe.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),gn(this),er(this)}}}catch{}finally{}};function Ud(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function jd(m,w){var x=m.C,I=w.indexOf(`
`,x);return I==-1?El:(x=Number(w.substring(x,I)),isNaN(x)?du:(I+=1,I+x>w.length?El:(w=w.slice(I,I+x),m.C=I+x,w)))}Fn.prototype.cancel=function(){this.J=!0,gn(this)};function no(m){m.S=Date.now()+m.I,zd(m,m.I)}function zd(m,w){if(m.B!=null)throw Error("WatchDog timer not null");m.B=qt(_(m.ba,m),w)}function zs(m){m.B&&(c.clearTimeout(m.B),m.B=null)}Fn.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Fd(this.i,this.A),this.L!=2&&(Fs(),Tt(17)),gn(this),this.s=2,er(this)):zd(this,this.S-m)};function er(m){m.j.G==0||m.J||Zd(m.j,m)}function gn(m){zs(m);var w=m.M;w&&typeof w.ma=="function"&&w.ma(),m.M=null,Ja(m.U),m.g&&(w=m.g,m.g=null,w.abort(),w.ma())}function io(m,w){try{var x=m.j;if(x.G!=0&&(x.g==m||fu(x.h,m))){if(!m.K&&fu(x.h,m)&&x.G==3){try{var I=x.Da.g.parse(w)}catch{I=null}if(Array.isArray(I)&&I.length==3){var $=I;if($[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<m.F)Pl(x),Il(x);else break e;Tu(x),Tt(18)}}else x.za=$[1],0<x.za-x.T&&37500>$[2]&&x.F&&x.v==0&&!x.C&&(x.C=qt(_(x.Za,x),6e3));if(1>=Sl(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else Gr(x,11)}else if((m.K||x.g==m)&&Pl(x),!N(w))for($=x.Da.g.parse(w),w=0;w<$.length;w++){let We=$[w];if(x.T=We[0],We=We[1],x.G==2)if(We[0]=="c"){x.K=We[1],x.ia=We[2];const cn=We[3];cn!=null&&(x.la=cn,x.j.info("VER="+x.la));const tn=We[4];tn!=null&&(x.Aa=tn,x.j.info("SVER="+x.Aa));const $r=We[5];$r!=null&&typeof $r=="number"&&0<$r&&(I=1.5*$r,x.L=I,x.j.info("backChannelRequestTimeoutMs_="+I)),I=x;const yn=m.g;if(yn){const or=yn.g?yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(or){var te=I.h;te.g||or.indexOf("spdy")==-1&&or.indexOf("quic")==-1&&or.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(xl(te,te.h),te.h=null))}if(I.D){const xu=yn.g?yn.g.getResponseHeader("X-HTTP-Session-Id"):null;xu&&(I.ya=xu,dt(I.I,I.D,xu))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-m.F,x.j.info("Handshake RTT: "+x.R+"ms")),I=x;var pe=m;if(I.qa=ef(I,I.J?I.ia:null,I.W),pe.K){Un(I.h,pe);var qe=pe,en=I.L;en&&(qe.I=en),qe.B&&(zs(qe),no(qe)),I.g=pe}else Kd(I);0<x.i.length&&Ol(x)}else We[0]!="stop"&&We[0]!="close"||Gr(x,7);else x.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Gr(x,7):wu(x):We[0]!="noop"&&x.l&&x.l.ta(We),x.v=0)}}Fs(4)}catch{}}var Hd=class{constructor(m,w){this.g=m,this.map=w}};function jr(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Tl(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Sl(m){return m.h?1:m.g?m.g.size:0}function fu(m,w){return m.h?m.h==w:m.g?m.g.has(w):!1}function xl(m,w){m.g?m.g.add(w):m.h=w}function Un(m,w){m.h&&m.h==w?m.h=null:m.g&&m.g.has(w)&&m.g.delete(w)}jr.prototype.cancel=function(){if(this.i=pu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function pu(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let w=m.i;for(const x of m.g.values())w=w.concat(x.D);return w}return S(m.i)}function Vg(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(h(m)){for(var w=[],x=m.length,I=0;I<x;I++)w.push(m[I]);return w}w=[],x=0;for(I in m)w[x++]=m[I];return w}function Dl(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(h(m)||typeof m=="string"){var w=[];m=m.length;for(var x=0;x<m;x++)w.push(x);return w}w=[],x=0;for(const I in m)w[x++]=I;return w}}}function mu(m,w){if(m.forEach&&typeof m.forEach=="function")m.forEach(w,void 0);else if(h(m)||typeof m=="string")Array.prototype.forEach.call(m,w,void 0);else for(var x=Dl(m),I=Vg(m),$=I.length,te=0;te<$;te++)w.call(void 0,I[te],x&&x[te],m)}var ro=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bg(m,w){if(m){m=m.split("&");for(var x=0;x<m.length;x++){var I=m[x].indexOf("="),$=null;if(0<=I){var te=m[x].substring(0,I);$=m[x].substring(I+1)}else te=m[x];w(te,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Wt(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Wt){this.h=m.h,so(this,m.j),this.o=m.o,this.g=m.g,Hs(this,m.s),this.l=m.l;var w=m.i,x=new Hr;x.i=w.i,w.g&&(x.g=new Map(w.g),x.h=w.h),zr(this,x),this.m=m.m}else m&&(w=String(m).match(ro))?(this.h=!1,so(this,w[1]||"",!0),this.o=pi(w[2]||""),this.g=pi(w[3]||"",!0),Hs(this,w[4]),this.l=pi(w[5]||"",!0),zr(this,w[6]||"",!0),this.m=pi(w[7]||"")):(this.h=!1,this.i=new Hr(null,this.h))}Wt.prototype.toString=function(){var m=[],w=this.j;w&&m.push(oo(w,gu,!0),":");var x=this.g;return(x||w=="file")&&(m.push("//"),(w=this.o)&&m.push(oo(w,gu,!0),"@"),m.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&m.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&m.push("/"),m.push(oo(x,x.charAt(0)=="/"?Fg:yu,!0))),(x=this.i.toString())&&m.push("?",x),(x=this.m)&&m.push("#",oo(x,Cl)),m.join("")};function ei(m){return new Wt(m)}function so(m,w,x){m.j=x?pi(w,!0):w,m.j&&(m.j=m.j.replace(/:$/,""))}function Hs(m,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);m.s=w}else m.s=null}function zr(m,w,x){w instanceof Hr?(m.i=w,qd(m.i,m.h)):(x||(w=oo(w,Ug)),m.i=new Hr(w,m.h))}function dt(m,w,x){m.i.set(w,x)}function ao(m){return dt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function pi(m,w){return m?w?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function oo(m,w,x){return typeof m=="string"?(m=encodeURI(m).replace(w,Yd),x&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Yd(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var gu=/[#\/\?@]/g,yu=/[#\?:]/g,Fg=/[#\?]/g,Ug=/[#\?@]/g,Cl=/#/g;function Hr(m,w){this.h=this.g=null,this.i=m||null,this.j=!!w}function mi(m){m.g||(m.g=new Map,m.h=0,m.i&&Bg(m.i,function(w,x){m.add(decodeURIComponent(w.replace(/\+/g," ")),x)}))}i=Hr.prototype,i.add=function(m,w){mi(this),this.i=null,m=tr(this,m);var x=this.g.get(m);return x||this.g.set(m,x=[]),x.push(w),this.h+=1,this};function Yr(m,w){mi(m),w=tr(m,w),m.g.has(w)&&(m.i=null,m.h-=m.g.get(w).length,m.g.delete(w))}function qr(m,w){return mi(m),w=tr(m,w),m.g.has(w)}i.forEach=function(m,w){mi(this),this.g.forEach(function(x,I){x.forEach(function($){m.call(w,$,I,this)},this)},this)},i.na=function(){mi(this);const m=Array.from(this.g.values()),w=Array.from(this.g.keys()),x=[];for(let I=0;I<w.length;I++){const $=m[I];for(let te=0;te<$.length;te++)x.push(w[I])}return x},i.V=function(m){mi(this);let w=[];if(typeof m=="string")qr(this,m)&&(w=w.concat(this.g.get(tr(this,m))));else{m=Array.from(this.g.values());for(let x=0;x<m.length;x++)w=w.concat(m[x])}return w},i.set=function(m,w){return mi(this),this.i=null,m=tr(this,m),qr(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[w]),this.h+=1,this},i.get=function(m,w){return m?(m=this.V(m),0<m.length?String(m[0]):w):w};function _u(m,w,x){Yr(m,w),0<x.length&&(m.i=null,m.g.set(tr(m,w),S(x)),m.h+=x.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],w=Array.from(this.g.keys());for(var x=0;x<w.length;x++){var I=w[x];const te=encodeURIComponent(String(I)),pe=this.V(I);for(I=0;I<pe.length;I++){var $=te;pe[I]!==""&&($+="="+encodeURIComponent(String(pe[I]))),m.push($)}}return this.i=m.join("&")};function tr(m,w){return w=String(w),m.j&&(w=w.toLowerCase()),w}function qd(m,w){w&&!m.j&&(mi(m),m.i=null,m.g.forEach(function(x,I){var $=I.toLowerCase();I!=$&&(Yr(this,I),_u(this,$,x))},m)),m.j=w}function lo(m,w){const x=new fi;if(c.Image){const I=new Image;I.onload=b(gi,x,"TestLoadImage: loaded",!0,w,I),I.onerror=b(gi,x,"TestLoadImage: error",!1,w,I),I.onabort=b(gi,x,"TestLoadImage: abort",!1,w,I),I.ontimeout=b(gi,x,"TestLoadImage: timeout",!1,w,I),c.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=m}else w(!1)}function Vi(m,w){const x=new fi,I=new AbortController,$=setTimeout(()=>{I.abort(),gi(x,"TestPingServer: timeout",!1,w)},1e4);fetch(m,{signal:I.signal}).then(te=>{clearTimeout($),te.ok?gi(x,"TestPingServer: ok",!0,w):gi(x,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout($),gi(x,"TestPingServer: error",!1,w)})}function gi(m,w,x,I,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),I(x)}catch{}}function co(){this.g=new eo}function nr(m,w,x){const I=x||"";try{mu(m,function($,te){let pe=$;d($)&&(pe=Ni($)),w.push(I+te+"="+encodeURIComponent(pe))})}catch($){throw w.push(I+"type="+encodeURIComponent("_badmap")),$}}function Ys(m){this.l=m.Ub||null,this.j=m.eb||!1}E(Ys,au),Ys.prototype.g=function(){return new Wr(this.l,this.j)},Ys.prototype.i=(function(m){return function(){return m}})({});function Wr(m,w){It.call(this),this.D=m,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Wr,It),i=Wr.prototype,i.open=function(m,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=w,this.readyState=1,rr(this)},i.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(w.body=m),(this.D||c).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ir(this)),this.readyState=0},i.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,rr(this)),this.g&&(this.readyState=3,rr(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vu(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function vu(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}i.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var w=m.value?m.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!m.done}))&&(this.response=this.responseText+=w)}m.done?ir(this):rr(this),this.readyState==3&&vu(this)}},i.Ra=function(m){this.g&&(this.response=this.responseText=m,ir(this))},i.Qa=function(m){this.g&&(this.response=m,ir(this))},i.ga=function(){this.g&&ir(this)};function ir(m){m.readyState=4,m.l=null,m.j=null,m.v=null,rr(m)}i.setRequestHeader=function(m,w){this.u.append(m,w)},i.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],w=this.h.entries();for(var x=w.next();!x.done;)x=x.value,m.push(x[0]+": "+x[1]),x=w.next();return m.join(`\r
`)};function rr(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Wr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function bu(m){let w="";return K(m,function(x,I){w+=I,w+=":",w+=x,w+=`\r
`}),w}function ln(m,w,x){e:{for(I in x){var I=!1;break e}I=!0}I||(x=bu(x),typeof m=="string"?x!=null&&encodeURIComponent(String(x)):dt(m,w,x))}function it(m){It.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(it,It);var Al=/^https?$/i,uo=["POST","PUT"];i=it.prototype,i.Ha=function(m){this.J=m},i.ea=function(m,w,x,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);w=w?w.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zi.g(),this.v=this.o?ou(this.o):ou(Zi),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(w,String(m),!0),this.B=!1}catch(te){Wd(this,te);return}if(m=x||"",x=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var $ in I)x.set($,I[$]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const te of I.keys())x.set(te,I.get(te));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(x.keys()).find(te=>te.toLowerCase()=="content-type"),$=c.FormData&&m instanceof c.FormData,!(0<=Array.prototype.indexOf.call(uo,w,void 0))||I||$||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,pe]of x)this.g.setRequestHeader(te,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ho(this),this.u=!0,this.g.send(m),this.u=!1}catch(te){Wd(this,te)}};function Wd(m,w){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=w,m.m=5,Rl(m),sr(m)}function Rl(m){m.A||(m.A=!0,at(m,"complete"),at(m,"error"))}i.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,at(this,"complete"),at(this,"abort"),sr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sr(this,!0)),it.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?kl(this):this.bb())},i.bb=function(){kl(this)};function kl(m){if(m.h&&typeof o<"u"&&(!m.v[1]||yi(m)!=4||m.Z()!=2)){if(m.u&&yi(m)==4)Dn(m.Ea,0,m);else if(at(m,"readystatechange"),yi(m)==4){m.h=!1;try{const pe=m.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var x;if(!(x=w)){var I;if(I=pe===0){var $=String(m.D).match(ro)[1]||null;!$&&c.self&&c.self.location&&($=c.self.location.protocol.slice(0,-1)),I=!Al.test($?$.toLowerCase():"")}x=I}if(x)at(m,"complete"),at(m,"success");else{m.m=6;try{var te=2<yi(m)?m.g.statusText:""}catch{te=""}m.l=te+" ["+m.Z()+"]",Rl(m)}}finally{sr(m)}}}}function sr(m,w){if(m.g){ho(m);const x=m.g,I=m.v[0]?()=>{}:null;m.g=null,m.v=null,w||at(m,"ready");try{x.onreadystatechange=I}catch{}}}function ho(m){m.I&&(c.clearTimeout(m.I),m.I=null)}i.isActive=function(){return!!this.g};function yi(m){return m.g?m.g.readyState:0}i.Z=function(){try{return 2<yi(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(m){if(this.g){var w=this.g.responseText;return m&&w.indexOf(m)==0&&(w=w.substring(m.length)),bl(w)}};function Gd(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function jg(m){const w={};m=(m.g&&2<=yi(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<m.length;I++){if(N(m[I]))continue;var x=B(m[I]);const $=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const te=w[$]||[];w[$]=te,te.push(x)}M(w,function(I){return I.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fo(m,w,x){return x&&x.internalChannelParams&&x.internalChannelParams[m]||w}function Ml(m){this.Aa=0,this.i=[],this.j=new fi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fo("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fo("baseRetryDelayMs",5e3,m),this.cb=fo("retryDelaySeedMs",1e4,m),this.Wa=fo("forwardChannelMaxRetries",2,m),this.wa=fo("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new jr(m&&m.concurrentRequestLimit),this.Da=new co,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ml.prototype,i.la=8,i.G=1,i.connect=function(m,w,x,I){Tt(0),this.W=m,this.H=w||{},x&&I!==void 0&&(this.H.OSID=x,this.H.OAID=I),this.F=this.X,this.I=ef(this,null,this.W),Ol(this)};function wu(m){if($d(m),m.G==3){var w=m.U++,x=ei(m.I);if(dt(x,"SID",m.K),dt(x,"RID",w),dt(x,"TYPE","terminate"),po(m,x),w=new Fn(m,m.j,w),w.L=2,w.v=ao(ei(x)),x=!1,c.navigator&&c.navigator.sendBeacon)try{x=c.navigator.sendBeacon(w.v.toString(),"")}catch{}!x&&c.Image&&(new Image().src=w.v,x=!0),x||(w.g=tf(w.j,null),w.g.ea(w.v)),w.F=Date.now(),no(w)}Jd(m)}function Il(m){m.g&&(mo(m),m.g.cancel(),m.g=null)}function $d(m){Il(m),m.u&&(c.clearTimeout(m.u),m.u=null),Pl(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&c.clearTimeout(m.s),m.s=null)}function Ol(m){if(!Tl(m.h)&&!m.s){m.s=!0;var w=m.Ga;ee||F(),ne||(ee(),ne=!0),le.add(w,m),m.B=0}}function zg(m,w){return Sl(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=w.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=qt(_(m.Ga,m,w),Su(m,m.B)),m.B++,!0)}i.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const $=new Fn(this,this.j,m);let te=this.o;if(this.S&&(te?(te=A(te),L(te,this.S)):te=this.S),this.m!==null||this.O||($.H=te,te=null),this.P)e:{for(var w=0,x=0;x<this.i.length;x++){t:{var I=this.i[x];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(w+=I,4096<w){w=x;break e}if(w===4096||x===this.i.length-1){w=x+1;break e}}w=1e3}else w=1e3;w=Qd(this,$,w),x=ei(this.I),dt(x,"RID",m),dt(x,"CVER",22),this.D&&dt(x,"X-HTTP-Session-Id",this.D),po(this,x),te&&(this.O?w="headers="+encodeURIComponent(String(bu(te)))+"&"+w:this.m&&ln(x,this.m,te)),xl(this.h,$),this.Ua&&dt(x,"TYPE","init"),this.P?(dt(x,"$req",w),dt(x,"SID","null"),$.T=!0,Li($,x,null)):Li($,x,w),this.G=2}}else this.G==3&&(m?Eu(this,m):this.i.length==0||Tl(this.h)||Eu(this))};function Eu(m,w){var x;w?x=w.l:x=m.U++;const I=ei(m.I);dt(I,"SID",m.K),dt(I,"RID",x),dt(I,"AID",m.T),po(m,I),m.m&&m.o&&ln(I,m.m,m.o),x=new Fn(m,m.j,x,m.B+1),m.m===null&&(x.H=m.o),w&&(m.i=w.D.concat(m.i)),w=Qd(m,x,1e3),x.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),xl(m.h,x),Li(x,I,w)}function po(m,w){m.H&&K(m.H,function(x,I){dt(w,I,x)}),m.l&&mu({},function(x,I){dt(w,I,x)})}function Qd(m,w,x){x=Math.min(m.i.length,x);var I=m.l?_(m.l.Na,m.l,m):null;e:{var $=m.i;let te=-1;for(;;){const pe=["count="+x];te==-1?0<x?(te=$[0].g,pe.push("ofs="+te)):te=0:pe.push("ofs="+te);let qe=!0;for(let en=0;en<x;en++){let We=$[en].g;const cn=$[en].map;if(We-=te,0>We)te=Math.max(0,$[en].g-100),qe=!1;else try{nr(cn,pe,"req"+We+"_")}catch{I&&I(cn)}}if(qe){I=pe.join("&");break e}}}return m=m.i.splice(0,x),w.D=m,I}function Kd(m){if(!m.g&&!m.u){m.Y=1;var w=m.Fa;ee||F(),ne||(ee(),ne=!0),le.add(w,m),m.v=0}}function Tu(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=qt(_(m.Fa,m),Su(m,m.v)),m.v++,!0)}i.Fa=function(){if(this.u=null,Xd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=qt(_(this.ab,this),m)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),Il(this),Xd(this))};function mo(m){m.A!=null&&(c.clearTimeout(m.A),m.A=null)}function Xd(m){m.g=new Fn(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var w=ei(m.qa);dt(w,"RID","rpc"),dt(w,"SID",m.K),dt(w,"AID",m.T),dt(w,"CI",m.F?"0":"1"),!m.F&&m.ja&&dt(w,"TO",m.ja),dt(w,"TYPE","xmlhttp"),po(m,w),m.m&&m.o&&ln(w,m.m,m.o),m.L&&(m.g.I=m.L);var x=m.g;m=m.ia,x.L=1,x.v=ao(ei(w)),x.m=null,x.P=!0,Ur(x,m)}i.Za=function(){this.C!=null&&(this.C=null,Il(this),Tu(this),Tt(19))};function Pl(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function Zd(m,w){var x=null;if(m.g==w){Pl(m),mo(m),m.g=null;var I=2}else if(fu(m.h,w))x=w.D,Un(m.h,w),I=1;else return;if(m.G!=0){if(w.o)if(I==1){x=w.m?w.m.length:0,w=Date.now()-w.F;var $=m.B;I=Bs(),at(I,new Jt(I,x)),Ol(m)}else Kd(m);else if($=w.s,$==3||$==0&&0<w.X||!(I==1&&zg(m,w)||I==2&&Tu(m)))switch(x&&0<x.length&&(w=m.h,w.i=w.i.concat(x)),$){case 1:Gr(m,5);break;case 4:Gr(m,10);break;case 3:Gr(m,6);break;default:Gr(m,2)}}}function Su(m,w){let x=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(x*=2),x*w}function Gr(m,w){if(m.j.info("Error code "+w),w==2){var x=_(m.fb,m),I=m.Xa;const $=!I;I=new Wt(I||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||so(I,"https"),ao(I),$?lo(I.toString(),x):Vi(I.toString(),x)}else Tt(2);m.G=0,m.l&&m.l.sa(w),Jd(m),$d(m)}i.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Jd(m){if(m.G=0,m.ka=[],m.l){const w=pu(m.h);(w.length!=0||m.i.length!=0)&&(T(m.ka,w),T(m.ka,m.i),m.h.i.length=0,S(m.i),m.i.length=0),m.l.ra()}}function ef(m,w,x){var I=x instanceof Wt?ei(x):new Wt(x);if(I.g!="")w&&(I.g=w+"."+I.g),Hs(I,I.s);else{var $=c.location;I=$.protocol,w=w?w+"."+$.hostname:$.hostname,$=+$.port;var te=new Wt(null);I&&so(te,I),w&&(te.g=w),$&&Hs(te,$),x&&(te.l=x),I=te}return x=m.D,w=m.ya,x&&w&&dt(I,x,w),dt(I,"VER",m.la),po(m,I),I}function tf(m,w,x){if(w&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=m.Ca&&!m.pa?new it(new Ys({eb:x})):new it(m.pa),w.Ha(m.J),w}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function nf(){}i=nf.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Nl(){}Nl.prototype.g=function(m,w){return new jn(m,w)};function jn(m,w){It.call(this),this.g=new Ml(w),this.l=m,this.h=w&&w.messageUrlParams||null,m=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(m?m["X-WebChannel-Content-Type"]=w.messageContentType:m={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(m?m["X-WebChannel-Client-Profile"]=w.va:m={"X-WebChannel-Client-Profile":w.va}),this.g.S=m,(m=w&&w.Sb)&&!N(m)&&(this.g.m=m),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!N(w)&&(this.g.D=w,m=this.h,m!==null&&w in m&&(m=this.h,w in m&&delete m[w])),this.j=new ar(this)}E(jn,It),jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jn.prototype.close=function(){wu(this.g)},jn.prototype.o=function(m){var w=this.g;if(typeof m=="string"){var x={};x.__data__=m,m=x}else this.u&&(x={},x.__data__=Ni(m),m=x);w.i.push(new Hd(w.Ya++,m)),w.G==3&&Ol(w)},jn.prototype.N=function(){this.g.l=null,delete this.j,wu(this.g),delete this.g,jn.aa.N.call(this)};function rf(m){Br.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var w=m.__sm__;if(w){e:{for(const x in w){m=x;break e}m=void 0}(this.i=m)&&(m=this.i,w=w!==null&&m in w?w[m]:void 0),this.data=w}else this.data=m}E(rf,Br);function sf(){cu.call(this),this.status=1}E(sf,cu);function ar(m){this.g=m}E(ar,nf),ar.prototype.ua=function(){at(this.g,"a")},ar.prototype.ta=function(m){at(this.g,new rf(m))},ar.prototype.sa=function(m){at(this.g,new sf)},ar.prototype.ra=function(){at(this.g,"b")},Nl.prototype.createWebChannel=Nl.prototype.g,jn.prototype.send=jn.prototype.o,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,xA=function(){return new Nl},SA=function(){return Bs()},TA=Xi,Lv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},js.NO_ERROR=0,js.TIMEOUT=8,js.HTTP_ERROR=6,Up=js,Fr.COMPLETE="complete",EA=Fr,lu.EventType=Vr,Vr.OPEN="a",Vr.CLOSE="b",Vr.ERROR="c",Vr.MESSAGE="d",It.prototype.listen=It.prototype.K,xh=lu,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,wA=it}).apply(typeof lp<"u"?lp:typeof self<"u"?self:typeof window<"u"?window:{});const ex="@firebase/firestore",tx="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kc="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=new Db("@firebase/firestore");function fc(){return tl.logLevel}function ye(i,...e){if(tl.logLevel<=je.DEBUG){const t=e.map(Vb);tl.debug(`Firestore (${Kc}): ${i}`,...t)}}function Rs(i,...e){if(tl.logLevel<=je.ERROR){const t=e.map(Vb);tl.error(`Firestore (${Kc}): ${i}`,...t)}}function kc(i,...e){if(tl.logLevel<=je.WARN){const t=e.map(Vb);tl.warn(`Firestore (${Kc}): ${i}`,...t)}}function Vb(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(i,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,DA(i,n,t)}function DA(i,e,t){let n=`FIRESTORE (${Kc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw Rs(n),new Error(n)}function st(i,e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,i||DA(e,r,n)}function Oe(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Os{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class i4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(In.UNAUTHENTICATED)))}shutdown(){}}class r4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class s4{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){st(this.o===void 0,42304);let n=this.i;const r=h=>this.i!==n?(n=this.i,t(h)):Promise.resolve();let s=new bs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new bs,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const h=s;e.enqueueRetryable((async()=>{await h.promise,await r(this.currentUser)}))},c=h=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((h=>c(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new bs)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((n=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(st(typeof n.accessToken=="string",31837,{l:n}),new CA(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new In(e)}}class a4{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=In.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class o4{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new a4(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(In.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class nx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class l4{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ki(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){st(this.o===void 0,3512);const n=s=>{s.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,ye("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>n(s)))};const r=s=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>r(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new nx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(st(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new nx(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<i;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const r=c4(40);for(let s=0;s<r.length;++s)n.length<20&&r[s]<t&&(n+=e.charAt(r[s]%62))}return n}}function ze(i,e){return i<e?-1:i>e?1:0}function Vv(i,e){const t=Math.min(i.length,e.length);for(let n=0;n<t;n++){const r=i.charAt(n),s=e.charAt(n);if(r!==s)return $_(r)===$_(s)?ze(r,s):$_(r)?1:-1}return ze(i.length,e.length)}const u4=55296,h4=57343;function $_(i){const e=i.charCodeAt(0);return e>=u4&&e<=h4}function Mc(i,e,t){return i.length===e.length&&i.every(((n,r)=>t(n,e[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="__name__";class yr{constructor(e,t,n){t===void 0?t=0:t>e.length&&Ae(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&Ae(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return yr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof yr?e.forEach((n=>{t.push(n)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const s=yr.compareSegments(e.get(r),t.get(r));if(s!==0)return s}return ze(e.length,t.length)}static compareSegments(e,t){const n=yr.isNumericId(e),r=yr.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?yr.extractNumericId(e).compare(yr.extractNumericId(t)):Vv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ca.fromString(e.substring(4,e.length-2))}}class bt extends yr{construct(e,t,n){return new bt(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new ge(oe.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((r=>r.length>0)))}return new bt(t)}static emptyPath(){return new bt([])}}const d4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tn extends yr{construct(e,t,n){return new Tn(e,t,n)}static isValidIdentifier(e){return d4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ix}static keyField(){return new Tn([ix])}static fromServerFormat(e){const t=[];let n="",r=0;const s=()=>{if(n.length===0)throw new ge(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const c=e[r];if(c==="\\"){if(r+1===e.length)throw new ge(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[r+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ge(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=h,r+=2}else c==="`"?(o=!o,r++):c!=="."||o?(n+=c,r++):(s(),r++)}if(s(),o)throw new ge(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tn(t)}static emptyPath(){return new Tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(bt.fromString(e))}static fromName(e){return new Te(bt.fromString(e).popFirst(5))}static empty(){return new Te(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return bt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new bt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(i,e,t){if(!t)throw new ge(oe.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function f4(i,e,t,n){if(e===!0&&n===!0)throw new ge(oe.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function rx(i){if(!Te.isDocumentKey(i))throw new ge(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function sx(i){if(Te.isDocumentKey(i))throw new ge(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function RA(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function $m(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ae(12329,{type:typeof i})}function Wi(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ge(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=$m(i);throw new ge(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(i,e){const t={typeString:i};return e&&(t.value=e),t}function wd(i,e){if(!RA(i))throw new ge(oe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const r=e[n].typeString,s="value"in e[n]?{value:e[n].value}:void 0;if(!(n in i)){t=`JSON missing required field: '${n}'`;break}const o=i[n];if(r&&typeof o!==r){t=`JSON field '${n}' must be a ${r}.`;break}if(s!==void 0&&o!==s.value){t=`Expected '${n}' field to equal '${s.value}'`;break}}if(t)throw new ge(oe.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=-62135596800,ox=1e6;class Xe{static now(){return Xe.fromMillis(Date.now())}static fromDate(e){return Xe.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*ox);return new Xe(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ax)throw new ge(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ox}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wd(e,Xe._jsonSchema))return new Xe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ax;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xe._jsonSchemaVersion="firestore/timestamp/1.0",Xe._jsonSchema={type:Xt("string",Xe._jsonSchemaVersion),seconds:Xt("number"),nanoseconds:Xt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Xe(0,0))}static max(){return new ke(new Xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh=-1;function p4(i,e){const t=i.toTimestamp().seconds,n=i.toTimestamp().nanoseconds+1,r=ke.fromTimestamp(n===1e9?new Xe(t+1,0):new Xe(t,n));return new Ia(r,Te.empty(),e)}function m4(i){return new Ia(i.readTime,i.key,Qh)}class Ia{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ia(ke.min(),Te.empty(),Qh)}static max(){return new Ia(ke.max(),Te.empty(),Qh)}}function g4(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(i.documentKey,e.documentKey),t!==0?t:ze(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xc(i){if(i.code!==oe.FAILED_PRECONDITION||i.message!==y4)throw i;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue(((n,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ue.reject(t)}static resolve(e){return new ue(((t,n)=>{t(e)}))}static reject(e){return new ue(((t,n)=>{n(e)}))}static waitFor(e){return new ue(((t,n)=>{let r=0,s=0,o=!1;e.forEach((c=>{++r,c.next((()=>{++s,o&&s===r&&t()}),(h=>n(h)))})),o=!0,s===r&&t()}))}static or(e){let t=ue.resolve(!1);for(const n of e)t=t.next((r=>r?ue.resolve(r):n()));return t}static forEach(e,t){const n=[];return e.forEach(((r,s)=>{n.push(t.call(this,r,s))})),this.waitFor(n)}static mapArray(e,t){return new ue(((n,r)=>{const s=e.length,o=new Array(s);let c=0;for(let h=0;h<s;h++){const d=h;t(e[d]).next((p=>{o[d]=p,++c,c===s&&n(o)}),(p=>r(p)))}}))}static doWhile(e,t){return new ue(((n,r)=>{const s=()=>{e()===!0?t().next((()=>{s()}),r):n()};s()}))}}function v4(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Zc(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>t.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=-1;function Km(i){return i==null}function cm(i){return i===0&&1/i==-1/0}function b4(i){return typeof i=="number"&&Number.isInteger(i)&&!cm(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA="";function w4(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=lx(e)),e=E4(i.get(t),e);return lx(e)}function E4(i,e){let t=e;const n=i.length;for(let r=0;r<n;r++){const s=i.charAt(r);switch(s){case"\0":t+="";break;case kA:t+="";break;default:t+=s}}return t}function lx(i){return i+kA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Ha(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function MA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,t){this.comparator=e,this.root=t||En.EMPTY}insert(e,t){return new Mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,En.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,En.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cp(this.root,e,this.comparator,!1)}getReverseIterator(){return new cp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cp(this.root,e,this.comparator,!0)}}class cp{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class En{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=n??En.RED,this.left=r??En.EMPTY,this.right=s??En.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,s){return new En(e??this.key,t??this.value,n??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,n),null):s===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return En.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return En.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,En.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,En.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}En.EMPTY=null,En.RED=!0,En.BLACK=!1;En.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,t,n,r,s){return this}insert(e,t,n){return new En(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ux(this.data.getIterator())}getIteratorFrom(e){return new ux(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((n=>{t=t.add(n)})),t}isEqual(e){if(!(e instanceof an)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=n.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new an(this.comparator);return t.data=e,t}}class ux{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.fields=e,e.sort(Tn.comparator)}static empty(){return new ci([])}unionWith(e){let t=new an(Tn.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ci(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Mc(this.fields,e.fields,((t,n)=>t.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new IA("Invalid base64 string: "+s):s}})(e);return new xn(t)}static fromUint8Array(e){const t=(function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s})(e);return new xn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const T4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oa(i){if(st(!!i,39018),typeof i=="string"){let e=0;const t=T4.exec(i);if(st(!!t,46558,{timestamp:i}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const n=new Date(i);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Ut(i.seconds),nanos:Ut(i.nanos)}}function Ut(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Pa(i){return typeof i=="string"?xn.fromBase64String(i):xn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="server_timestamp",PA="__type__",NA="__previous_value__",LA="__local_write_time__";function Ub(i){return(i?.mapValue?.fields||{})[PA]?.stringValue===OA}function Xm(i){const e=i.mapValue.fields[NA];return Ub(e)?Xm(e):e}function Kh(i){const e=Oa(i.mapValue.fields[LA].timestampValue);return new Xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e,t,n,r,s,o,c,h,d,p){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=p}}const um="(default)";class Xh{constructor(e,t){this.projectId=e,this.database=t||um}static empty(){return new Xh("","")}get isDefaultDatabase(){return this.database===um}isEqual(e){return e instanceof Xh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="__type__",x4="__max__",up={mapValue:{}},BA="__vector__",hm="value";function Na(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ub(i)?4:C4(i)?9007199254740991:D4(i)?10:11:Ae(28295,{value:i})}function Mr(i,e){if(i===e)return!0;const t=Na(i);if(t!==Na(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Kh(i).isEqual(Kh(e));case 3:return(function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=Oa(r.timestampValue),c=Oa(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(r,s){return Pa(r.bytesValue).isEqual(Pa(s.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(r,s){return Ut(r.geoPointValue.latitude)===Ut(s.geoPointValue.latitude)&&Ut(r.geoPointValue.longitude)===Ut(s.geoPointValue.longitude)})(i,e);case 2:return(function(r,s){if("integerValue"in r&&"integerValue"in s)return Ut(r.integerValue)===Ut(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=Ut(r.doubleValue),c=Ut(s.doubleValue);return o===c?cm(o)===cm(c):isNaN(o)&&isNaN(c)}return!1})(i,e);case 9:return Mc(i.arrayValue.values||[],e.arrayValue.values||[],Mr);case 10:case 11:return(function(r,s){const o=r.mapValue.fields||{},c=s.mapValue.fields||{};if(cx(o)!==cx(c))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(c[h]===void 0||!Mr(o[h],c[h])))return!1;return!0})(i,e);default:return Ae(52216,{left:i})}}function Zh(i,e){return(i.values||[]).find((t=>Mr(t,e)))!==void 0}function Ic(i,e){if(i===e)return 0;const t=Na(i),n=Na(e);if(t!==n)return ze(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(i.booleanValue,e.booleanValue);case 2:return(function(s,o){const c=Ut(s.integerValue||s.doubleValue),h=Ut(o.integerValue||o.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1})(i,e);case 3:return hx(i.timestampValue,e.timestampValue);case 4:return hx(Kh(i),Kh(e));case 5:return Vv(i.stringValue,e.stringValue);case 6:return(function(s,o){const c=Pa(s),h=Pa(o);return c.compareTo(h)})(i.bytesValue,e.bytesValue);case 7:return(function(s,o){const c=s.split("/"),h=o.split("/");for(let d=0;d<c.length&&d<h.length;d++){const p=ze(c[d],h[d]);if(p!==0)return p}return ze(c.length,h.length)})(i.referenceValue,e.referenceValue);case 8:return(function(s,o){const c=ze(Ut(s.latitude),Ut(o.latitude));return c!==0?c:ze(Ut(s.longitude),Ut(o.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return dx(i.arrayValue,e.arrayValue);case 10:return(function(s,o){const c=s.fields||{},h=o.fields||{},d=c[hm]?.arrayValue,p=h[hm]?.arrayValue,y=ze(d?.values?.length||0,p?.values?.length||0);return y!==0?y:dx(d,p)})(i.mapValue,e.mapValue);case 11:return(function(s,o){if(s===up.mapValue&&o===up.mapValue)return 0;if(s===up.mapValue)return 1;if(o===up.mapValue)return-1;const c=s.fields||{},h=Object.keys(c),d=o.fields||{},p=Object.keys(d);h.sort(),p.sort();for(let y=0;y<h.length&&y<p.length;++y){const _=Vv(h[y],p[y]);if(_!==0)return _;const b=Ic(c[h[y]],d[p[y]]);if(b!==0)return b}return ze(h.length,p.length)})(i.mapValue,e.mapValue);default:throw Ae(23264,{he:t})}}function hx(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ze(i,e);const t=Oa(i),n=Oa(e),r=ze(t.seconds,n.seconds);return r!==0?r:ze(t.nanos,n.nanos)}function dx(i,e){const t=i.values||[],n=e.values||[];for(let r=0;r<t.length&&r<n.length;++r){const s=Ic(t[r],n[r]);if(s)return s}return ze(t.length,n.length)}function Oc(i){return Bv(i)}function Bv(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const n=Oa(t);return`time(${n.seconds},${n.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return Pa(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return Te.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let n="[",r=!0;for(const s of t.values||[])r?r=!1:n+=",",n+=Bv(s);return n+"]"})(i.arrayValue):"mapValue"in i?(function(t){const n=Object.keys(t.fields||{}).sort();let r="{",s=!0;for(const o of n)s?s=!1:r+=",",r+=`${o}:${Bv(t.fields[o])}`;return r+"}"})(i.mapValue):Ae(61005,{value:i})}function jp(i){switch(Na(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xm(i);return e?16+jp(e):16;case 5:return 2*i.stringValue.length;case 6:return Pa(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((r,s)=>r+jp(s)),0)})(i.arrayValue);case 10:case 11:return(function(n){let r=0;return Ha(n.fields,((s,o)=>{r+=s.length+jp(o)})),r})(i.mapValue);default:throw Ae(13486,{value:i})}}function fx(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Fv(i){return!!i&&"integerValue"in i}function jb(i){return!!i&&"arrayValue"in i}function px(i){return!!i&&"nullValue"in i}function mx(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function zp(i){return!!i&&"mapValue"in i}function D4(i){return(i?.mapValue?.fields||{})[VA]?.stringValue===BA}function Bh(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Ha(i.mapValue.fields,((t,n)=>e.mapValue.fields[t]=Bh(n))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Bh(i.arrayValue.values[t]);return e}return{...i}}function C4(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===x4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.value=e}static empty(){return new Xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!zp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bh(t)}setAll(e){let t=Tn.emptyPath(),n={},r=[];e.forEach(((o,c)=>{if(!t.isImmediateParentOf(c)){const h=this.getFieldsMap(t);this.applyChanges(h,n,r),n={},r=[],t=c.popLast()}o?n[c.lastSegment()]=Bh(o):r.push(c.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,n,r)}delete(e){const t=this.field(e.popLast());zp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];zp(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Ha(t,((r,s)=>e[r]=s));for(const r of n)delete e[r]}clone(){return new Xn(Bh(this.value))}}function FA(i){const e=[];return Ha(i.fields,((t,n)=>{const r=new Tn([t]);if(zp(n)){const s=FA(n.mapValue).fields;if(s.length===0)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)})),new ci(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,t,n,r,s,o,c){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new Pn(e,0,ke.min(),ke.min(),ke.min(),Xn.empty(),0)}static newFoundDocument(e,t,n,r){return new Pn(e,1,t,ke.min(),n,r,0)}static newNoDocument(e,t){return new Pn(e,2,t,ke.min(),ke.min(),Xn.empty(),0)}static newUnknownDocument(e,t){return new Pn(e,3,t,ke.min(),ke.min(),Xn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,t){this.position=e,this.inclusive=t}}function gx(i,e,t){let n=0;for(let r=0;r<i.position.length;r++){const s=e[r],o=i.position[r];if(s.field.isKeyField()?n=Te.comparator(Te.fromName(o.referenceValue),t.key):n=Ic(o,t.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function yx(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Mr(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,t="asc"){this.field=e,this.dir=t}}function A4(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{}class Kt extends UA{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new k4(e,t,n):t==="array-contains"?new O4(e,n):t==="in"?new P4(e,n):t==="not-in"?new N4(e,n):t==="array-contains-any"?new L4(e,n):new Kt(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new M4(e,n):new I4(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ic(t,this.value)):t!==null&&Na(this.value)===Na(t)&&this.matchesComparison(Ic(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gi extends UA{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Gi(e,t)}matches(e){return jA(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function jA(i){return i.op==="and"}function zA(i){return R4(i)&&jA(i)}function R4(i){for(const e of i.filters)if(e instanceof Gi)return!1;return!0}function Uv(i){if(i instanceof Kt)return i.field.canonicalString()+i.op.toString()+Oc(i.value);if(zA(i))return i.filters.map((e=>Uv(e))).join(",");{const e=i.filters.map((t=>Uv(t))).join(",");return`${i.op}(${e})`}}function HA(i,e){return i instanceof Kt?(function(n,r){return r instanceof Kt&&n.op===r.op&&n.field.isEqual(r.field)&&Mr(n.value,r.value)})(i,e):i instanceof Gi?(function(n,r){return r instanceof Gi&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce(((s,o,c)=>s&&HA(o,r.filters[c])),!0):!1})(i,e):void Ae(19439)}function YA(i){return i instanceof Kt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Oc(t.value)}`})(i):i instanceof Gi?(function(t){return t.op.toString()+" {"+t.getFilters().map(YA).join(" ,")+"}"})(i):"Filter"}class k4 extends Kt{constructor(e,t,n){super(e,t,n),this.key=Te.fromName(n.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class M4 extends Kt{constructor(e,t){super(e,"in",t),this.keys=qA("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class I4 extends Kt{constructor(e,t){super(e,"not-in",t),this.keys=qA("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function qA(i,e){return(e.arrayValue?.values||[]).map((t=>Te.fromName(t.referenceValue)))}class O4 extends Kt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jb(t)&&Zh(t.arrayValue,this.value)}}class P4 extends Kt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Zh(this.value.arrayValue,t)}}class N4 extends Kt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Zh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Zh(this.value.arrayValue,t)}}class L4 extends Kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jb(t)||!t.arrayValue.values)&&t.arrayValue.values.some((n=>Zh(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,t=null,n=[],r=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=o,this.endAt=c,this.Te=null}}function _x(i,e=null,t=[],n=[],r=null,s=null,o=null){return new V4(i,e,t,n,r,s,o)}function zb(i){const e=Oe(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((n=>Uv(n))).join(","),t+="|ob:",t+=e.orderBy.map((n=>(function(s){return s.field.canonicalString()+s.dir})(n))).join(","),Km(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((n=>Oc(n))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((n=>Oc(n))).join(",")),e.Te=t}return e.Te}function Hb(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!A4(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!HA(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!yx(i.startAt,e.startAt)&&yx(i.endAt,e.endAt)}function jv(i){return Te.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,t=null,n=[],r=[],s=null,o="F",c=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function B4(i,e,t,n,r,s,o,c){return new Jc(i,e,t,n,r,s,o,c)}function Yb(i){return new Jc(i)}function vx(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function WA(i){return i.collectionGroup!==null}function Fh(i){const e=Oe(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),t.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new an(Tn.comparator);return o.filters.forEach((h=>{h.getFlattenedFilters().forEach((d=>{d.isInequality()&&(c=c.add(d.field))}))})),c})(e).forEach((s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Jh(s,n))})),t.has(Tn.keyField().canonicalString())||e.Ie.push(new Jh(Tn.keyField(),n))}return e.Ie}function xr(i){const e=Oe(i);return e.Ee||(e.Ee=F4(e,Fh(i))),e.Ee}function F4(i,e){if(i.limitType==="F")return _x(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((r=>{const s=r.dir==="desc"?"asc":"desc";return new Jh(r.field,s)}));const t=i.endAt?new dm(i.endAt.position,i.endAt.inclusive):null,n=i.startAt?new dm(i.startAt.position,i.startAt.inclusive):null;return _x(i.path,i.collectionGroup,e,i.filters,i.limit,t,n)}}function zv(i,e){const t=i.filters.concat([e]);return new Jc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Hv(i,e,t){return new Jc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Zm(i,e){return Hb(xr(i),xr(e))&&i.limitType===e.limitType}function GA(i){return`${zb(xr(i))}|lt:${i.limitType}`}function pc(i){return`Query(target=${(function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map((r=>YA(r))).join(", ")}]`),Km(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map((r=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(r))).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>Oc(r))).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>Oc(r))).join(",")),`Target(${n})`})(xr(i))}; limitType=${i.limitType})`}function Jm(i,e){return e.isFoundDocument()&&(function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Te.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)})(i,e)&&(function(n,r){for(const s of Fh(n))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0})(i,e)&&(function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0})(i,e)&&(function(n,r){return!(n.startAt&&!(function(o,c,h){const d=gx(o,c,h);return o.inclusive?d<=0:d<0})(n.startAt,Fh(n),r)||n.endAt&&!(function(o,c,h){const d=gx(o,c,h);return o.inclusive?d>=0:d>0})(n.endAt,Fh(n),r))})(i,e)}function U4(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function $A(i){return(e,t)=>{let n=!1;for(const r of Fh(i)){const s=j4(r,e,t);if(s!==0)return s;n=n||r.field.isKeyField()}return 0}}function j4(i,e,t){const n=i.field.isKeyField()?Te.comparator(e.key,t.key):(function(s,o,c){const h=o.data.field(s),d=c.data.field(s);return h!==null&&d!==null?Ic(h,d):Ae(42886)})(i.field,e,t);switch(i.dir){case"asc":return n;case"desc":return-1*n;default:return Ae(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[r,s]of n)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return n.length===1?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ha(this.inner,((t,n)=>{for(const[r,s]of n)e(r,s)}))}isEmpty(){return MA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4=new Mt(Te.comparator);function ks(){return z4}const QA=new Mt(Te.comparator);function Dh(...i){let e=QA;for(const t of i)e=e.insert(t.key,t);return e}function KA(i){let e=QA;return i.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function zo(){return Uh()}function XA(){return Uh()}function Uh(){return new hl((i=>i.toString()),((i,e)=>i.isEqual(e)))}const H4=new Mt(Te.comparator),Y4=new an(Te.comparator);function He(...i){let e=Y4;for(const t of i)e=e.add(t);return e}const q4=new an(ze);function W4(){return q4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cm(e)?"-0":e}}function ZA(i){return{integerValue:""+i}}function G4(i,e){return b4(e)?ZA(e):qb(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(){this._=void 0}}function $4(i,e,t){return i instanceof ed?(function(r,s){const o={fields:{[PA]:{stringValue:OA},[LA]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Ub(s)&&(s=Xm(s)),s&&(o.fields[NA]=s),{mapValue:o}})(t,e):i instanceof td?eR(i,e):i instanceof nd?tR(i,e):(function(r,s){const o=JA(r,s),c=bx(o)+bx(r.Ae);return Fv(o)&&Fv(r.Ae)?ZA(c):qb(r.serializer,c)})(i,e)}function Q4(i,e,t){return i instanceof td?eR(i,e):i instanceof nd?tR(i,e):t}function JA(i,e){return i instanceof fm?(function(n){return Fv(n)||(function(s){return!!s&&"doubleValue"in s})(n)})(e)?e:{integerValue:0}:null}class ed extends eg{}class td extends eg{constructor(e){super(),this.elements=e}}function eR(i,e){const t=nR(e);for(const n of i.elements)t.some((r=>Mr(r,n)))||t.push(n);return{arrayValue:{values:t}}}class nd extends eg{constructor(e){super(),this.elements=e}}function tR(i,e){let t=nR(e);for(const n of i.elements)t=t.filter((r=>!Mr(r,n)));return{arrayValue:{values:t}}}class fm extends eg{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function bx(i){return Ut(i.integerValue||i.doubleValue)}function nR(i){return jb(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,t){this.field=e,this.transform=t}}function X4(i,e){return i.field.isEqual(e.field)&&(function(n,r){return n instanceof td&&r instanceof td||n instanceof nd&&r instanceof nd?Mc(n.elements,r.elements,Mr):n instanceof fm&&r instanceof fm?Mr(n.Ae,r.Ae):n instanceof ed&&r instanceof ed})(i.transform,e.transform)}class Z4{constructor(e,t){this.version=e,this.transformResults=t}}class Ii{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ii}static exists(e){return new Ii(void 0,e)}static updateTime(e){return new Ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hp(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class tg{}function iR(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Wb(i.key,Ii.none()):new Ed(i.key,i.data,Ii.none());{const t=i.data,n=Xn.empty();let r=new an(Tn.comparator);for(let s of e.fields)if(!r.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?n.delete(s):n.set(s,o),r=r.add(s)}return new Ya(i.key,n,new ci(r.toArray()),Ii.none())}}function J4(i,e,t){i instanceof Ed?(function(r,s,o){const c=r.value.clone(),h=Ex(r.fieldTransforms,s,o.transformResults);c.setAll(h),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(i,e,t):i instanceof Ya?(function(r,s,o){if(!Hp(r.precondition,s))return void s.convertToUnknownDocument(o.version);const c=Ex(r.fieldTransforms,s,o.transformResults),h=s.data;h.setAll(rR(r)),h.setAll(c),s.convertToFoundDocument(o.version,h).setHasCommittedMutations()})(i,e,t):(function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,t)}function jh(i,e,t,n){return i instanceof Ed?(function(s,o,c,h){if(!Hp(s.precondition,o))return c;const d=s.value.clone(),p=Tx(s.fieldTransforms,h,o);return d.setAll(p),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null})(i,e,t,n):i instanceof Ya?(function(s,o,c,h){if(!Hp(s.precondition,o))return c;const d=Tx(s.fieldTransforms,h,o),p=o.data;return p.setAll(rR(s)),p.setAll(d),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((y=>y.field)))})(i,e,t,n):(function(s,o,c){return Hp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c})(i,e,t)}function e3(i,e){let t=null;for(const n of i.fieldTransforms){const r=e.data.field(n.field),s=JA(n.transform,r||null);s!=null&&(t===null&&(t=Xn.empty()),t.set(n.field,s))}return t||null}function wx(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Mc(n,r,((s,o)=>X4(s,o)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Ed extends tg{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ya extends tg{constructor(e,t,n,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function rR(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const n=i.data.field(t);e.set(t,n)}})),e}function Ex(i,e,t){const n=new Map;st(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let r=0;r<t.length;r++){const s=i[r],o=s.transform,c=e.data.field(s.field);n.set(s.field,Q4(o,c,t[r]))}return n}function Tx(i,e,t){const n=new Map;for(const r of i){const s=r.transform,o=t.data.field(r.field);n.set(r.field,$4(s,o,e))}return n}class Wb extends tg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class t3 extends tg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&J4(s,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=jh(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=jh(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=XA();return this.mutations.forEach((r=>{const s=e.get(r.key),o=s.overlayedDocument;let c=this.applyToLocalView(o,s.mutatedFields);c=t.has(r.key)?null:c;const h=iR(o,c);h!==null&&n.set(r.key,h),o.isValidDocument()||o.convertToNoDocument(ke.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),He())}isEqual(e){return this.batchId===e.batchId&&Mc(this.mutations,e.mutations,((t,n)=>wx(t,n)))&&Mc(this.baseMutations,e.baseMutations,((t,n)=>wx(t,n)))}}class Gb{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){st(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=(function(){return H4})();const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,n[o].version);return new Gb(e,t,n,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,$e;function s3(i){switch(i){case oe.OK:return Ae(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Ae(15467,{code:i})}}function sR(i){if(i===void 0)return Rs("GRPC error has no .code"),oe.UNKNOWN;switch(i){case Qt.OK:return oe.OK;case Qt.CANCELLED:return oe.CANCELLED;case Qt.UNKNOWN:return oe.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return oe.INTERNAL;case Qt.UNAVAILABLE:return oe.UNAVAILABLE;case Qt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Qt.NOT_FOUND:return oe.NOT_FOUND;case Qt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Qt.ABORTED:return oe.ABORTED;case Qt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Qt.DATA_LOSS:return oe.DATA_LOSS;default:return Ae(39323,{code:i})}}($e=Qt||(Qt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3=new Ca([4294967295,4294967295],0);function Sx(i){const e=a3().encode(i),t=new bA;return t.update(e),new Uint8Array(t.digest())}function xx(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ca([t,n],0),new Ca([r,s],0)]}class $b{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Ch(`Invalid padding: ${t}`);if(n<0)throw new Ch(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Ch(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Ch(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ca.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(Ca.fromNumber(n)));return r.compare(o3)===1&&(r=new Ca([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Sx(e),[n,r]=xx(t);for(let s=0;s<this.hashCount;s++){const o=this.ye(n,r,s);if(!this.we(o))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new $b(s,r,t);return n.forEach((c=>o.insert(c))),o}insert(e){if(this.ge===0)return;const t=Sx(e),[n,r]=xx(t);for(let s=0;s<this.hashCount;s++){const o=this.ye(n,r,s);this.Se(o)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Ch extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,t,n,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Td.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ng(ke.min(),r,new Mt(ze),ks(),He())}}class Td{constructor(e,t,n,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Td(n,t,He(),He(),He())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class aR{constructor(e,t){this.targetId=e,this.Ce=t}}class oR{constructor(e,t,n=xn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Dx{constructor(){this.ve=0,this.Fe=Cx(),this.Me=xn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),t=He(),n=He();return this.Fe.forEach(((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ae(38017,{changeType:s})}})),new Td(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=Cx()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class l3{constructor(e){this.Ge=e,this.ze=new Map,this.je=ks(),this.Je=hp(),this.He=hp(),this.Ye=new Mt(ze)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((n,r)=>{this.rt(r)&&t(r)}))}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const s=r.target;if(jv(s))if(n===0){const o=new Te(s.path);this.et(t,o,Pn.newNoDocument(o,ke.min()))}else st(n===1,20013,{expectedCount:n});else{const o=this._t(t);if(o!==n){const c=this.ut(e),h=c?this.ct(c,e,o):1;if(h!==0){this.it(t);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:s=0}=t;let o,c;try{o=Pa(n).toUint8Array()}catch(h){if(h instanceof IA)return kc("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new $b(o,r,s)}catch(h){return kc(h instanceof Ch?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.ge===0?null:c}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach((s=>{const o=this.Ge.ht(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.et(t,s,null),r++)})),r}Tt(e){const t=new Map;this.ze.forEach(((s,o)=>{const c=this.ot(o);if(c){if(s.current&&jv(c.target)){const h=new Te(c.target.path);this.It(h).has(o)||this.Et(o,h)||this.et(o,h,Pn.newNoDocument(h,e))}s.Be&&(t.set(o,s.ke()),s.qe())}}));let n=He();this.He.forEach(((s,o)=>{let c=!0;o.forEachWhile((h=>{const d=this.ot(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(n=n.add(s))})),this.je.forEach(((s,o)=>o.setReadTime(e)));const r=new ng(e,t,this.Ye,this.je,n);return this.je=ks(),this.Je=hp(),this.He=hp(),this.Ye=new Mt(ze),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Dx,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new an(ze),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new an(ze),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Dx),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function hp(){return new Mt(Te.comparator)}function Cx(){return new Mt(Te.comparator)}const c3={asc:"ASCENDING",desc:"DESCENDING"},u3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},h3={and:"AND",or:"OR"};class d3{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Yv(i,e){return i.useProto3Json||Km(e)?e:{value:e}}function pm(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lR(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function f3(i,e){return pm(i,e.toTimestamp())}function Dr(i){return st(!!i,49232),ke.fromTimestamp((function(t){const n=Oa(t);return new Xe(n.seconds,n.nanos)})(i))}function Qb(i,e){return qv(i,e).canonicalString()}function qv(i,e){const t=(function(r){return new bt(["projects",r.projectId,"databases",r.database])})(i).child("documents");return e===void 0?t:t.child(e)}function cR(i){const e=bt.fromString(i);return st(pR(e),10190,{key:e.toString()}),e}function Wv(i,e){return Qb(i.databaseId,e.path)}function Q_(i,e){const t=cR(e);if(t.get(1)!==i.databaseId.projectId)throw new ge(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ge(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Te(hR(t))}function uR(i,e){return Qb(i.databaseId,e)}function p3(i){const e=cR(i);return e.length===4?bt.emptyPath():hR(e)}function Gv(i){return new bt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function hR(i){return st(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Ax(i,e,t){return{name:Wv(i,e),fields:t.value.mapValue.fields}}function m3(i,e){let t;if("targetChange"in e){e.targetChange;const n=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ae(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=(function(d,p){return d.useProto3Json?(st(p===void 0||typeof p=="string",58123),xn.fromBase64String(p||"")):(st(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),xn.fromUint8Array(p||new Uint8Array))})(i,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&(function(d){const p=d.code===void 0?oe.UNKNOWN:sR(d.code);return new ge(p,d.message||"")})(o);t=new oR(n,r,s,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const r=Q_(i,n.document.name),s=Dr(n.document.updateTime),o=n.document.createTime?Dr(n.document.createTime):ke.min(),c=new Xn({mapValue:{fields:n.document.fields}}),h=Pn.newFoundDocument(r,s,o,c),d=n.targetIds||[],p=n.removedTargetIds||[];t=new Yp(d,p,h.key,h)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const r=Q_(i,n.document),s=n.readTime?Dr(n.readTime):ke.min(),o=Pn.newNoDocument(r,s),c=n.removedTargetIds||[];t=new Yp([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const r=Q_(i,n.document),s=n.removedTargetIds||[];t=new Yp([],s,r,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:r=0,unchangedNames:s}=n,o=new r3(r,s),c=n.targetId;t=new aR(c,o)}}return t}function g3(i,e){let t;if(e instanceof Ed)t={update:Ax(i,e.key,e.value)};else if(e instanceof Wb)t={delete:Wv(i,e.key)};else if(e instanceof Ya)t={update:Ax(i,e.key,e.data),updateMask:x3(e.fieldMask)};else{if(!(e instanceof t3))return Ae(16599,{Vt:e.type});t={verify:Wv(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((n=>(function(s,o){const c=o.transform;if(c instanceof ed)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof td)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof nd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof fm)return{fieldPath:o.field.canonicalString(),increment:c.Ae};throw Ae(20930,{transform:o.transform})})(0,n)))),e.precondition.isNone||(t.currentDocument=(function(r,s){return s.updateTime!==void 0?{updateTime:f3(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ae(27497)})(i,e.precondition)),t}function y3(i,e){return i&&i.length>0?(st(e!==void 0,14353),i.map((t=>(function(r,s){let o=r.updateTime?Dr(r.updateTime):Dr(s);return o.isEqual(ke.min())&&(o=Dr(s)),new Z4(o,r.transformResults||[])})(t,e)))):[]}function _3(i,e){return{documents:[uR(i,e.path)]}}function v3(i,e){const t={structuredQuery:{}},n=e.path;let r;e.collectionGroup!==null?(r=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=uR(i,r);const s=(function(d){if(d.length!==0)return fR(Gi.create(d,"and"))})(e.filters);s&&(t.structuredQuery.where=s);const o=(function(d){if(d.length!==0)return d.map((p=>(function(_){return{field:mc(_.field),direction:E3(_.dir)}})(p)))})(e.orderBy);o&&(t.structuredQuery.orderBy=o);const c=Yv(i,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:r}}function b3(i){let e=p3(i.parent);const t=i.structuredQuery,n=t.from?t.from.length:0;let r=null;if(n>0){st(n===1,65062);const p=t.from[0];p.allDescendants?r=p.collectionId:e=e.child(p.collectionId)}let s=[];t.where&&(s=(function(y){const _=dR(y);return _ instanceof Gi&&zA(_)?_.getFilters():[_]})(t.where));let o=[];t.orderBy&&(o=(function(y){return y.map((_=>(function(E){return new Jh(gc(E.field),(function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(_)))})(t.orderBy));let c=null;t.limit&&(c=(function(y){let _;return _=typeof y=="object"?y.value:y,Km(_)?null:_})(t.limit));let h=null;t.startAt&&(h=(function(y){const _=!!y.before,b=y.values||[];return new dm(b,_)})(t.startAt));let d=null;return t.endAt&&(d=(function(y){const _=!y.before,b=y.values||[];return new dm(b,_)})(t.endAt)),B4(e,r,o,s,c,"F",h,d)}function w3(i,e){const t=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:r})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function dR(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=gc(t.unaryFilter.field);return Kt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=gc(t.unaryFilter.field);return Kt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=gc(t.unaryFilter.field);return Kt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=gc(t.unaryFilter.field);return Kt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(i):i.fieldFilter!==void 0?(function(t){return Kt.create(gc(t.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return Gi.create(t.compositeFilter.filters.map((n=>dR(n))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(t.compositeFilter.op))})(i):Ae(30097,{filter:i})}function E3(i){return c3[i]}function T3(i){return u3[i]}function S3(i){return h3[i]}function mc(i){return{fieldPath:i.canonicalString()}}function gc(i){return Tn.fromServerFormat(i.fieldPath)}function fR(i){return i instanceof Kt?(function(t){if(t.op==="=="){if(mx(t.value))return{unaryFilter:{field:mc(t.field),op:"IS_NAN"}};if(px(t.value))return{unaryFilter:{field:mc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(mx(t.value))return{unaryFilter:{field:mc(t.field),op:"IS_NOT_NAN"}};if(px(t.value))return{unaryFilter:{field:mc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mc(t.field),op:T3(t.op),value:t.value}}})(i):i instanceof Gi?(function(t){const n=t.getFilters().map((r=>fR(r)));return n.length===1?n[0]:{compositeFilter:{op:S3(t.op),filters:n}}})(i):Ae(54877,{filter:i})}function x3(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function pR(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,t,n,r,s=ke.min(),o=ke.min(),c=xn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new va(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e){this.yt=e}}function C3(i){const e=b3({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Hv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(){this.Cn=new R3}addToCollectionParentIndex(e,t){return this.Cn.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(Ia.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(Ia.min())}updateCollectionGroup(e,t,n){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class R3{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new an(bt.comparator),s=!r.has(n);return this.index[t]=r.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new an(bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mR=41943040;class Kn{static withCacheSize(e){return new Kn(e,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kn.DEFAULT_COLLECTION_PERCENTILE=10,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kn.DEFAULT=new Kn(mR,Kn.DEFAULT_COLLECTION_PERCENTILE,Kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kn.DISABLED=new Kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Pc(0)}static cr(){return new Pc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="LruGarbageCollector",k3=1048576;function Mx([i,e],[t,n]){const r=ze(i,t);return r===0?ze(e,n):r}class M3{constructor(e){this.Ir=e,this.buffer=new an(Mx),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();Mx(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class I3{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ye(kx,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Zc(t)?ye(kx,"Ignoring IndexedDB error during garbage collection: ",t):await Xc(t)}await this.Vr(3e5)}))}}class O3{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((n=>Math.floor(t/100*n)))}nthSequenceNumber(e,t){if(t===0)return ue.resolve(Qm.ce);const n=new M3(t);return this.mr.forEachTarget(e,(r=>n.Ar(r.sequenceNumber))).next((()=>this.mr.pr(e,(r=>n.Ar(r))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(Rx)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Rx):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,s,o,c,h,d;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),r=this.params.maximumSequenceNumbersToCollect):r=y,o=Date.now(),this.nthSequenceNumber(e,r)))).next((y=>(n=y,c=Date.now(),this.removeTargets(e,n,t)))).next((y=>(s=y,h=Date.now(),this.removeOrphanedDocuments(e,n)))).next((y=>(d=Date.now(),fc()<=je.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-p}ms
	Determined least recently used ${r} in `+(c-o)+`ms
	Removed ${s} targets in `+(h-c)+`ms
	Removed ${y} documents in `+(d-h)+`ms
Total Duration: ${d-p}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:y}))))}}function P3(i,e){return new O3(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(){this.changes=new hl((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?ue.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((r=>(n!==null&&jh(n.mutation,r,ci.empty(),Xe.now()),r)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.getLocalViewOfDocuments(e,n,He()).next((()=>n))))}getLocalViewOfDocuments(e,t,n=He()){const r=zo();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((s=>{let o=Dh();return s.forEach(((c,h)=>{o=o.insert(c,h.overlayedDocument)})),o}))))}getOverlayedDocuments(e,t){const n=zo();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,He())))}populateOverlays(e,t,n){const r=[];return n.forEach((s=>{t.has(s)||r.push(s)})),this.documentOverlayCache.getOverlays(e,r).next((s=>{s.forEach(((o,c)=>{t.set(o,c)}))}))}computeViews(e,t,n,r){let s=ks();const o=Uh(),c=(function(){return Uh()})();return t.forEach(((h,d)=>{const p=n.get(d.key);r.has(d.key)&&(p===void 0||p.mutation instanceof Ya)?s=s.insert(d.key,d):p!==void 0?(o.set(d.key,p.mutation.getFieldMask()),jh(p.mutation,d,p.mutation.getFieldMask(),Xe.now())):o.set(d.key,ci.empty())})),this.recalculateAndSaveOverlays(e,s).next((h=>(h.forEach(((d,p)=>o.set(d,p))),t.forEach(((d,p)=>c.set(d,new L3(p,o.get(d)??null)))),c)))}recalculateAndSaveOverlays(e,t){const n=Uh();let r=new Mt(((o,c)=>o-c)),s=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((o=>{for(const c of o)c.keys().forEach((h=>{const d=t.get(h);if(d===null)return;let p=n.get(h)||ci.empty();p=c.applyToLocalView(d,p),n.set(h,p);const y=(r.get(c.batchId)||He()).add(h);r=r.insert(c.batchId,y)}))})).next((()=>{const o=[],c=r.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),d=h.key,p=h.value,y=XA();p.forEach((_=>{if(!s.has(_)){const b=iR(t.get(_),n.get(_));b!==null&&y.set(_,b),s=s.add(_)}})),o.push(this.documentOverlayCache.saveOverlays(e,d,y))}return ue.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,t,n,r){return(function(o){return Te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):WA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-s.size):ue.resolve(zo());let c=Qh,h=s;return o.next((d=>ue.forEach(d,((p,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),s.get(p)?ue.resolve():this.remoteDocumentCache.getEntry(e,p).next((_=>{h=h.insert(p,_)}))))).next((()=>this.populateOverlays(e,d,s))).next((()=>this.computeViews(e,h,d,He()))).next((p=>({batchId:c,changes:KA(p)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next((n=>{let r=Dh();return n.isFoundDocument()&&(r=r.insert(n.key,n)),r}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const s=t.collectionGroup;let o=Dh();return this.indexManager.getCollectionParents(e,s).next((c=>ue.forEach(c,(h=>{const d=(function(y,_){return new Jc(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(t,h.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,n,r).next((p=>{p.forEach(((y,_)=>{o=o.insert(y,_)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,s,r)))).next((o=>{s.forEach(((h,d)=>{const p=d.getKey();o.get(p)===null&&(o=o.insert(p,Pn.newInvalidDocument(p)))}));let c=Dh();return o.forEach(((h,d)=>{const p=s.get(h);p!==void 0&&jh(p.mutation,d,ci.empty(),Xe.now()),Jm(t,d)&&(c=c.insert(h,d))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ue.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(r){return{id:r.id,version:r.version,createTime:Dr(r.createTime)}})(t)),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(r){return{name:r.name,query:C3(r.bundledQuery),readTime:Dr(r.readTime)}})(t)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(){this.overlays=new Mt(Te.comparator),this.qr=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const n=zo();return ue.forEach(t,(r=>this.getOverlay(e,r).next((s=>{s!==null&&n.set(r,s)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((r,s)=>{this.St(e,t,s)})),ue.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return r!==void 0&&(r.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(n)),ue.resolve()}getOverlaysForCollection(e,t,n){const r=zo(),s=t.length+1,o=new Te(t.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const h=c.getNext().value,d=h.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===s&&h.largestBatchId>n&&r.set(h.getKey(),h)}return ue.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let s=new Mt(((d,p)=>d-p));const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>n){let p=s.get(d.largestBatchId);p===null&&(p=zo(),s=s.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const c=zo(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((d,p)=>c.set(d,p))),!(c.size()>=r)););return ue.resolve(c)}St(e,t,n){const r=this.overlays.get(n.key);if(r!==null){const o=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new i3(t,n));let s=this.qr.get(t);s===void 0&&(s=He(),this.qr.set(t,s)),this.qr.set(t,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(){this.Qr=new an(fn.$r),this.Ur=new an(fn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new fn(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach((n=>this.addReference(n,t)))}removeReference(e,t){this.Gr(new fn(e,t))}zr(e,t){e.forEach((n=>this.removeReference(n,t)))}jr(e){const t=new Te(new bt([])),n=new fn(t,e),r=new fn(t,e+1),s=[];return this.Ur.forEachInRange([n,r],(o=>{this.Gr(o),s.push(o.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Te(new bt([])),n=new fn(t,e),r=new fn(t,e+1);let s=He();return this.Ur.forEachInRange([n,r],(o=>{s=s.add(o.key)})),s}containsKey(e){const t=new fn(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class fn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Te.comparator(e.key,t.key)||ze(e.Yr,t.Yr)}static Kr(e,t){return ze(e.Yr,t.Yr)||Te.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new an(fn.$r)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,r){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new n3(s,t,n,r);this.mutationQueue.push(o);for(const c of r)this.Zr=this.Zr.add(new fn(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ue.resolve(o)}lookupMutationBatch(e,t){return ue.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),s=r<0?0:r;return ue.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?Fb:this.tr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new fn(t,0),r=new fn(t,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([n,r],(o=>{const c=this.Xr(o.Yr);s.push(c)})),ue.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new an(ze);return t.forEach((r=>{const s=new fn(r,0),o=new fn(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],(c=>{n=n.add(c.Yr)}))})),ue.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let s=n;Te.isDocumentKey(s)||(s=s.child(""));const o=new fn(new Te(s),0);let c=new an(ze);return this.Zr.forEachWhile((h=>{const d=h.key.path;return!!n.isPrefixOf(d)&&(d.length===r&&(c=c.add(h.Yr)),!0)}),o),ue.resolve(this.ti(c))}ti(e){const t=[];return e.forEach((n=>{const r=this.Xr(n);r!==null&&t.push(r)})),t}removeMutationBatch(e,t){st(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return ue.forEach(t.mutations,(r=>{const s=new fn(r.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,t){const n=new fn(t,0),r=this.Zr.firstAfterOrEqual(n);return ue.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e){this.ri=e,this.docs=(function(){return new Mt(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),s=r?r.size:0,o=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ue.resolve(n?n.document.mutableCopy():Pn.newInvalidDocument(t))}getEntries(e,t){let n=ks();return t.forEach((r=>{const s=this.docs.get(r);n=n.insert(r,s?s.document.mutableCopy():Pn.newInvalidDocument(r))})),ue.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let s=ks();const o=t.path,c=new Te(o.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:d,value:{document:p}}=h.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||g4(m4(p),n)<=0||(r.has(p.key)||Jm(t,p))&&(s=s.insert(p.key,p.mutableCopy()))}return ue.resolve(s)}getAllFromCollectionGroup(e,t,n,r){Ae(9500)}ii(e,t){return ue.forEach(this.docs,(n=>t(n)))}newChangeBuffer(e){return new H3(this)}getSize(e){return ue.resolve(this.size)}}class H3 extends N3{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)})),ue.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e){this.persistence=e,this.si=new hl((t=>zb(t)),Hb),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.oi=0,this._i=new Kb,this.targetCount=0,this.ai=Pc.ur()}forEachTarget(e,t){return this.si.forEach(((n,r)=>t(r))),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),ue.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Pc(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.Pr(t),ue.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,n){let r=0;const s=[];return this.si.forEach(((o,c)=>{c.sequenceNumber<=t&&n.get(c.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),r++)})),ue.waitFor(s).next((()=>r))}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return ue.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),ue.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach((o=>{s.push(r.markPotentiallyOrphaned(e,o))})),ue.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return ue.resolve(n)}containsKey(e,t){return ue.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,t){this.ui={},this.overlays={},this.ci=new Qm(0),this.li=!1,this.li=!0,this.hi=new U3,this.referenceDelegate=e(this),this.Pi=new Y3(this),this.indexManager=new A3,this.remoteDocumentCache=(function(r){return new z3(r)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new D3(t),this.Ii=new B3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new F3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new j3(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){ye("MemoryPersistence","Starting transaction:",e);const r=new q3(this.ci.next());return this.referenceDelegate.Ei(),n(r).next((s=>this.referenceDelegate.di(r).next((()=>s)))).toPromise().then((s=>(r.raiseOnCommittedEvent(),s)))}Ai(e,t){return ue.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,t))))}}class q3 extends _4{constructor(e){super(),this.currentSequenceNumber=e}}class Xb{constructor(e){this.persistence=e,this.Ri=new Kb,this.Vi=null}static mi(e){return new Xb(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),ue.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ue.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((r=>this.fi.add(r.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((r=>{r.forEach((s=>this.fi.add(s.toString())))})).next((()=>n.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.fi,(n=>{const r=Te.fromPath(n);return this.gi(e,r).next((s=>{s||t.removeEntry(r,ke.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((n=>{n?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ue.or([()=>ue.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class mm{constructor(e,t){this.persistence=e,this.pi=new hl((n=>w4(n.path)),((n,r)=>n.isEqual(r))),this.garbageCollector=P3(this,t)}static mi(e,t){return new mm(e,t)}Ei(){}di(e){return ue.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>t.next((r=>n+r))))}wr(e){let t=0;return this.pr(e,(n=>{t++})).next((()=>t))}pr(e,t){return ue.forEach(this.pi,((n,r)=>this.br(e,n,r).next((s=>s?ue.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ii(e,(o=>this.br(e,o,t).next((c=>{c||(n++,s.removeEntry(o,ke.min()))})))).next((()=>s.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ue.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),ue.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ue.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=jp(e.data.value)),t}br(e,t,n){return ue.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.pi.get(t);return ue.resolve(r!==void 0&&r>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=He(),r=He();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Zb(e,t.fromCache,n,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return w2()?8:v4(Vn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const s={result:null};return this.ys(e,t).next((o=>{s.result=o})).next((()=>{if(!s.result)return this.ws(e,t,r,n).next((o=>{s.result=o}))})).next((()=>{if(s.result)return;const o=new W3;return this.Ss(e,t,o).next((c=>{if(s.result=c,this.Vs)return this.bs(e,t,o,c.size)}))})).next((()=>s.result))}bs(e,t,n,r){return n.documentReadCount<this.fs?(fc()<=je.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",pc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ue.resolve()):(fc()<=je.DEBUG&&ye("QueryEngine","Query:",pc(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(fc()<=je.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",pc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xr(t))):ue.resolve())}ys(e,t){if(vx(t))return ue.resolve(null);let n=xr(t);return this.indexManager.getIndexType(e,n).next((r=>r===0?null:(t.limit!==null&&r===1&&(t=Hv(t,null,"F"),n=xr(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((s=>{const o=He(...s);return this.ps.getDocuments(e,o).next((c=>this.indexManager.getMinOffset(e,n).next((h=>{const d=this.Ds(t,c);return this.Cs(t,d,o,h.readTime)?this.ys(e,Hv(t,null,"F")):this.vs(e,d,t,h)}))))})))))}ws(e,t,n,r){return vx(t)||r.isEqual(ke.min())?ue.resolve(null):this.ps.getDocuments(e,n).next((s=>{const o=this.Ds(t,s);return this.Cs(t,o,n,r)?ue.resolve(null):(fc()<=je.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),pc(t)),this.vs(e,o,t,p4(r,Qh)).next((c=>c)))}))}Ds(e,t){let n=new an($A(e));return t.forEach(((r,s)=>{Jm(e,s)&&(n=n.add(s))})),n}Cs(e,t,n,r){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(e,t,n){return fc()<=je.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",pc(t)),this.ps.getDocumentsMatchingQuery(e,t,Ia.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next((s=>(t.forEach((o=>{s=s.insert(o.key,o)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="LocalStore",$3=3e8;class Q3{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Mt(ze),this.xs=new hl((s=>zb(s)),Hb),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new V3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function K3(i,e,t,n){return new Q3(i,e,t,n)}async function yR(i,e){const t=Oe(i);return await t.persistence.runTransaction("Handle user change","readonly",(n=>{let r;return t.mutationQueue.getAllMutationBatches(n).next((s=>(r=s,t.Bs(e),t.mutationQueue.getAllMutationBatches(n)))).next((s=>{const o=[],c=[];let h=He();for(const d of r){o.push(d.batchId);for(const p of d.mutations)h=h.add(p.key)}for(const d of s){c.push(d.batchId);for(const p of d.mutations)h=h.add(p.key)}return t.localDocuments.getDocuments(n,h).next((d=>({Ls:d,removedBatchIds:o,addedBatchIds:c})))}))}))}function X3(i,e){const t=Oe(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const r=e.batch.keys(),s=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,h,d,p){const y=d.batch,_=y.keys();let b=ue.resolve();return _.forEach((E=>{b=b.next((()=>p.getEntry(h,E))).next((S=>{const T=d.docVersions.get(E);st(T!==null,48541),S.version.compareTo(T)<0&&(y.applyToRemoteDocument(S,d),S.isValidDocument()&&(S.setReadTime(d.commitVersion),p.addEntry(S)))}))})),b.next((()=>c.mutationQueue.removeMutationBatch(h,y)))})(t,n,e,s).next((()=>s.apply(n))).next((()=>t.mutationQueue.performConsistencyCheck(n))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(n,r,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(c){let h=He();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(h=h.add(c.batch.mutations[d].key));return h})(e)))).next((()=>t.localDocuments.getDocuments(n,r)))}))}function _R(i){const e=Oe(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function Z3(i,e){const t=Oe(i),n=e.snapshotVersion;let r=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const o=t.Ns.newChangeBuffer({trackRemovals:!0});r=t.Ms;const c=[];e.targetChanges.forEach(((p,y)=>{const _=r.get(y);if(!_)return;c.push(t.Pi.removeMatchingKeys(s,p.removedDocuments,y).next((()=>t.Pi.addMatchingKeys(s,p.addedDocuments,y))));let b=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(y)!==null?b=b.withResumeToken(xn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,n)),r=r.insert(y,b),(function(S,T,C){return S.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=$3?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0})(_,b,p)&&c.push(t.Pi.updateTargetData(s,b))}));let h=ks(),d=He();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(s,p))})),c.push(J3(s,o,e.documentUpdates).next((p=>{h=p.ks,d=p.qs}))),!n.isEqual(ke.min())){const p=t.Pi.getLastRemoteSnapshotVersion(s).next((y=>t.Pi.setTargetsMetadata(s,s.currentSequenceNumber,n)));c.push(p)}return ue.waitFor(c).next((()=>o.apply(s))).next((()=>t.localDocuments.getLocalViewOfDocuments(s,h,d))).next((()=>h))})).then((s=>(t.Ms=r,s)))}function J3(i,e,t){let n=He(),r=He();return t.forEach((s=>n=n.add(s))),e.getEntries(i,n).next((s=>{let o=ks();return t.forEach(((c,h)=>{const d=s.get(c);h.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(c)),h.isNoDocument()&&h.version.isEqual(ke.min())?(e.removeEntry(c,h.readTime),o=o.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),o=o.insert(c,h)):ye(Jb,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)})),{ks:o,qs:r}}))}function e6(i,e){const t=Oe(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=Fb),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function t6(i,e){const t=Oe(i);return t.persistence.runTransaction("Allocate target","readwrite",(n=>{let r;return t.Pi.getTargetData(n,e).next((s=>s?(r=s,ue.resolve(r)):t.Pi.allocateTargetId(n).next((o=>(r=new va(e,o,"TargetPurposeListen",n.currentSequenceNumber),t.Pi.addTargetData(n,r).next((()=>r)))))))})).then((n=>{const r=t.Ms.get(n.targetId);return(r===null||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(n.targetId,n),t.xs.set(e,n.targetId)),n}))}async function $v(i,e,t){const n=Oe(i),r=n.Ms.get(e),s=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",s,(o=>n.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Zc(o))throw o;ye(Jb,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ms=n.Ms.remove(e),n.xs.delete(r.target)}function Ix(i,e,t){const n=Oe(i);let r=ke.min(),s=He();return n.persistence.runTransaction("Execute query","readwrite",(o=>(function(h,d,p){const y=Oe(h),_=y.xs.get(p);return _!==void 0?ue.resolve(y.Ms.get(_)):y.Pi.getTargetData(d,p)})(n,o,xr(e)).next((c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(o,c.targetId).next((h=>{s=h}))})).next((()=>n.Fs.getDocumentsMatchingQuery(o,e,t?r:ke.min(),t?s:He()))).next((c=>(n6(n,U4(e),c),{documents:c,Qs:s})))))}function n6(i,e,t){let n=i.Os.get(e)||ke.min();t.forEach(((r,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)})),i.Os.set(e,n)}class Ox{constructor(){this.activeTargetIds=W4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class i6{constructor(){this.Mo=new Ox,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Ox,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="ConnectivityMonitor";class Nx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ye(Px,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ye(Px,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dp=null;function Qv(){return dp===null?dp=(function(){return 268435456+Math.round(2147483648*Math.random())})():dp++,"0x"+dp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="RestConnection",s6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class a6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${r}`,this.Wo=this.databaseId.database===um?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Go(e,t,n,r,s){const o=Qv(),c=this.zo(e,t.toUriEncodedString());ye(K_,`Sending RPC '${e}' ${o}:`,c,n);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,r,s);const{host:d}=new URL(c),p=$c(d);return this.Jo(e,c,h,n,p).then((y=>(ye(K_,`Received RPC '${e}' ${o}: `,y),y)),(y=>{throw kc(K_,`RPC '${e}' ${o} failed with error: `,y,"url: ",c,"request:",n),y}))}Ho(e,t,n,r,s,o){return this.Go(e,t,n,r,s)}jo(e,t,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Kc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((r,s)=>e[s]=r)),n&&n.headers.forEach(((r,s)=>e[s]=r))}zo(e,t){const n=s6[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn="WebChannelConnection";class l6 extends a6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,s){const o=Qv();return new Promise(((c,h)=>{const d=new wA;d.setWithCredentials(!0),d.listenOnce(EA.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Up.NO_ERROR:const y=d.getResponseJson();ye(Rn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(y)),c(y);break;case Up.TIMEOUT:ye(Rn,`RPC '${e}' ${o} timed out`),h(new ge(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Up.HTTP_ERROR:const _=d.getStatus();if(ye(Rn,`RPC '${e}' ${o} failed with status:`,_,"response text:",d.getResponseText()),_>0){let b=d.getResponseJson();Array.isArray(b)&&(b=b[0]);const E=b?.error;if(E&&E.status&&E.message){const S=(function(C){const N=C.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(N)>=0?N:oe.UNKNOWN})(E.status);h(new ge(S,E.message))}else h(new ge(oe.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new ge(oe.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{ye(Rn,`RPC '${e}' ${o} completed.`)}}));const p=JSON.stringify(r);ye(Rn,`RPC '${e}' ${o} sending request:`,r),d.send(t,"POST",p,n,15)}))}T_(e,t,n){const r=Qv(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=xA(),c=SA(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,t,n),h.encodeInitMessageHeaders=!0;const p=s.join("");ye(Rn,`Creating RPC '${e}' stream ${r}: ${p}`,h);const y=o.createWebChannel(p,h);this.I_(y);let _=!1,b=!1;const E=new o6({Yo:T=>{b?ye(Rn,`Not sending because RPC '${e}' stream ${r} is closed:`,T):(_||(ye(Rn,`Opening RPC '${e}' stream ${r} transport.`),y.open(),_=!0),ye(Rn,`RPC '${e}' stream ${r} sending:`,T),y.send(T))},Zo:()=>y.close()}),S=(T,C,N)=>{T.listen(C,(j=>{try{N(j)}catch(q){setTimeout((()=>{throw q}),0)}}))};return S(y,xh.EventType.OPEN,(()=>{b||(ye(Rn,`RPC '${e}' stream ${r} transport opened.`),E.o_())})),S(y,xh.EventType.CLOSE,(()=>{b||(b=!0,ye(Rn,`RPC '${e}' stream ${r} transport closed`),E.a_(),this.E_(y))})),S(y,xh.EventType.ERROR,(T=>{b||(b=!0,kc(Rn,`RPC '${e}' stream ${r} transport errored. Name:`,T.name,"Message:",T.message),E.a_(new ge(oe.UNAVAILABLE,"The operation could not be completed")))})),S(y,xh.EventType.MESSAGE,(T=>{if(!b){const C=T.data[0];st(!!C,16349);const N=C,j=N?.error||N[0]?.error;if(j){ye(Rn,`RPC '${e}' stream ${r} received error:`,j);const q=j.status;let H=(function(A){const k=Qt[A];if(k!==void 0)return sR(k)})(q),K=j.message;H===void 0&&(H=oe.INTERNAL,K="Unknown error status: "+q+" with message "+j.message),b=!0,E.a_(new ge(H,K)),y.close()}else ye(Rn,`RPC '${e}' stream ${r} received:`,C),E.u_(C)}})),S(c,TA.STAT_EVENT,(T=>{T.stat===Lv.PROXY?ye(Rn,`RPC '${e}' stream ${r} detected buffering proxy`):T.stat===Lv.NOPROXY&&ye(Rn,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function X_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(i){return new d3(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,t,n=1e3,r=1.5,s=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&ye("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="PersistentStream";class bR{constructor(e,t,n,r,s,o,c,h){this.Mi=e,this.S_=n,this.b_=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vR(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(Rs(t.toString()),Rs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,r])=>{this.D_===t&&this.G_(n,r)}),(n=>{e((()=>{const r=new ge(oe.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(r)}))}))}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{n((()=>this.z_(r)))})),this.stream.onMessage((r=>{n((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ye(Lx,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ye(Lx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class c6 extends bR{constructor(e,t,n,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=s}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=m3(this.serializer,e),n=(function(s){if(!("targetChange"in s))return ke.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ke.min():o.readTime?Dr(o.readTime):ke.min()})(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Gv(this.serializer),t.addTarget=(function(s,o){let c;const h=o.target;if(c=jv(h)?{documents:_3(s,h)}:{query:v3(s,h).ft},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=lR(s,o.resumeToken);const d=Yv(s,o.expectedCount);d!==null&&(c.expectedCount=d)}else if(o.snapshotVersion.compareTo(ke.min())>0){c.readTime=pm(s,o.snapshotVersion.toTimestamp());const d=Yv(s,o.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,e);const n=w3(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Gv(this.serializer),t.removeTarget=e,this.q_(t)}}class u6 extends bR{constructor(e,t,n,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=y3(e.writeResults,e.commitTime),n=Dr(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Gv(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((n=>g3(this.serializer,n)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{}class d6 extends h6{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new ge(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.Go(e,qv(t,n),r,s,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ge(oe.UNKNOWN,s.toString())}))}Ho(e,t,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Ho(e,qv(t,n),r,o,c,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ge(oe.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class f6{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Rs(t),this.aa=!1):ye("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl="RemoteStore";class p6{constructor(e,t,n,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((o=>{n.enqueueAndForget((async()=>{dl(this)&&(ye(nl,"Restarting streams for network reachability change."),await(async function(h){const d=Oe(h);d.Ea.add(4),await Sd(d),d.Ra.set("Unknown"),d.Ea.delete(4),await rg(d)})(this))}))})),this.Ra=new f6(n,r)}}async function rg(i){if(dl(i))for(const e of i.da)await e(!0)}async function Sd(i){for(const e of i.da)await e(!1)}function wR(i,e){const t=Oe(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),i0(t)?n0(t):eu(t).O_()&&t0(t,e))}function e0(i,e){const t=Oe(i),n=eu(t);t.Ia.delete(e),n.O_()&&ER(t,e),t.Ia.size===0&&(n.O_()?n.L_():dl(t)&&t.Ra.set("Unknown"))}function t0(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}eu(i).Y_(e)}function ER(i,e){i.Va.Ue(e),eu(i).Z_(e)}function n0(i){i.Va=new l3({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),eu(i).start(),i.Ra.ua()}function i0(i){return dl(i)&&!eu(i).x_()&&i.Ia.size>0}function dl(i){return Oe(i).Ea.size===0}function TR(i){i.Va=void 0}async function m6(i){i.Ra.set("Online")}async function g6(i){i.Ia.forEach(((e,t)=>{t0(i,e)}))}async function y6(i,e){TR(i),i0(i)?(i.Ra.ha(e),n0(i)):i.Ra.set("Unknown")}async function _6(i,e,t){if(i.Ra.set("Online"),e instanceof oR&&e.state===2&&e.cause)try{await(async function(r,s){const o=s.cause;for(const c of s.targetIds)r.Ia.has(c)&&(await r.remoteSyncer.rejectListen(c,o),r.Ia.delete(c),r.Va.removeTarget(c))})(i,e)}catch(n){ye(nl,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await gm(i,n)}else if(e instanceof Yp?i.Va.Ze(e):e instanceof aR?i.Va.st(e):i.Va.tt(e),!t.isEqual(ke.min()))try{const n=await _R(i.localStore);t.compareTo(n)>=0&&await(function(s,o){const c=s.Va.Tt(o);return c.targetChanges.forEach(((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const p=s.Ia.get(d);p&&s.Ia.set(d,p.withResumeToken(h.resumeToken,o))}})),c.targetMismatches.forEach(((h,d)=>{const p=s.Ia.get(h);if(!p)return;s.Ia.set(h,p.withResumeToken(xn.EMPTY_BYTE_STRING,p.snapshotVersion)),ER(s,h);const y=new va(p.target,h,d,p.sequenceNumber);t0(s,y)})),s.remoteSyncer.applyRemoteEvent(c)})(i,t)}catch(n){ye(nl,"Failed to raise snapshot:",n),await gm(i,n)}}async function gm(i,e,t){if(!Zc(e))throw e;i.Ea.add(1),await Sd(i),i.Ra.set("Offline"),t||(t=()=>_R(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ye(nl,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await rg(i)}))}function SR(i,e){return e().catch((t=>gm(i,t,e)))}async function sg(i){const e=Oe(i),t=La(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Fb;for(;v6(e);)try{const r=await e6(e.localStore,n);if(r===null){e.Ta.length===0&&t.L_();break}n=r.batchId,b6(e,r)}catch(r){await gm(e,r)}xR(e)&&DR(e)}function v6(i){return dl(i)&&i.Ta.length<10}function b6(i,e){i.Ta.push(e);const t=La(i);t.O_()&&t.X_&&t.ea(e.mutations)}function xR(i){return dl(i)&&!La(i).x_()&&i.Ta.length>0}function DR(i){La(i).start()}async function w6(i){La(i).ra()}async function E6(i){const e=La(i);for(const t of i.Ta)e.ea(t.mutations)}async function T6(i,e,t){const n=i.Ta.shift(),r=Gb.from(n,e,t);await SR(i,(()=>i.remoteSyncer.applySuccessfulWrite(r))),await sg(i)}async function S6(i,e){e&&La(i).X_&&await(async function(n,r){if((function(o){return s3(o)&&o!==oe.ABORTED})(r.code)){const s=n.Ta.shift();La(n).B_(),await SR(n,(()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r))),await sg(n)}})(i,e),xR(i)&&DR(i)}async function Vx(i,e){const t=Oe(i);t.asyncQueue.verifyOperationInProgress(),ye(nl,"RemoteStore received new credentials");const n=dl(t);t.Ea.add(3),await Sd(t),n&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await rg(t)}async function x6(i,e){const t=Oe(i);e?(t.Ea.delete(2),await rg(t)):e||(t.Ea.add(2),await Sd(t),t.Ra.set("Unknown"))}function eu(i){return i.ma||(i.ma=(function(t,n,r){const s=Oe(t);return s.sa(),new c6(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)})(i.datastore,i.asyncQueue,{Xo:m6.bind(null,i),t_:g6.bind(null,i),r_:y6.bind(null,i),H_:_6.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),i0(i)?n0(i):i.Ra.set("Unknown")):(await i.ma.stop(),TR(i))}))),i.ma}function La(i){return i.fa||(i.fa=(function(t,n,r){const s=Oe(t);return s.sa(),new u6(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:w6.bind(null,i),r_:S6.bind(null,i),ta:E6.bind(null,i),na:T6.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await sg(i)):(await i.fa.stop(),i.Ta.length>0&&(ye(nl,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,t,n,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new bs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,s){const o=Date.now()+n,c=new r0(e,t,o,r,s);return c.start(n),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function s0(i,e){if(Rs("AsyncQueue",`${e}: ${i}`),Zc(i))return new ge(oe.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{static emptySet(e){return new Tc(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Te.comparator(t.key,n.key):(t,n)=>Te.comparator(t.key,n.key),this.keyedMap=Dh(),this.sortedSet=new Mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Tc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=n.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Tc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(){this.ga=new Mt(Te.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Nc{constructor(e,t,n,r,s,o,c,h,d){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,t,n,r,s){const o=[];return t.forEach((c=>{o.push({type:0,doc:c})})),new Nc(e,t,Tc.emptySet(t),o,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class C6{constructor(){this.queries=Fx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,n){const r=Oe(t),s=r.queries;r.queries=Fx(),s.forEach(((o,c)=>{for(const h of c.Sa)h.onError(n)}))})(this,new ge(oe.ABORTED,"Firestore shutting down"))}}function Fx(){return new hl((i=>GA(i)),Zm)}async function CR(i,e){const t=Oe(i);let n=3;const r=e.query;let s=t.queries.get(r);s?!s.ba()&&e.Da()&&(n=2):(s=new D6,n=e.Da()?0:1);try{switch(n){case 0:s.wa=await t.onListen(r,!0);break;case 1:s.wa=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(o){const c=s0(o,`Initialization of query '${pc(e.query)}' failed`);return void e.onError(c)}t.queries.set(r,s),s.Sa.push(e),e.va(t.onlineState),s.wa&&e.Fa(s.wa)&&a0(t)}async function AR(i,e){const t=Oe(i),n=e.query;let r=3;const s=t.queries.get(n);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?r=e.Da()?0:1:!s.ba()&&e.Da()&&(r=2))}switch(r){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function A6(i,e){const t=Oe(i);let n=!1;for(const r of e){const s=r.query,o=t.queries.get(s);if(o){for(const c of o.Sa)c.Fa(r)&&(n=!0);o.wa=r}}n&&a0(t)}function R6(i,e,t){const n=Oe(i),r=n.queries.get(e);if(r)for(const s of r.Sa)s.onError(t);n.queries.delete(e)}function a0(i){i.Ca.forEach((e=>{e.next()}))}var Kv,Ux;(Ux=Kv||(Kv={})).Ma="default",Ux.Cache="cache";class RR{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const r of e.docChanges)r.type!==3&&n.push(r);e=new Nc(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const n=t!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Nc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Kv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.key=e}}class MR{constructor(e){this.key=e}}class k6{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=$A(e),this.tu=new Tc(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new Bx,r=t?t.tu:this.tu;let s=t?t.mutatedKeys:this.mutatedKeys,o=r,c=!1;const h=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((p,y)=>{const _=r.get(p),b=Jm(this.query,y)?y:null,E=!!_&&this.mutatedKeys.has(_.key),S=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let T=!1;_&&b?_.data.isEqual(b.data)?E!==S&&(n.track({type:3,doc:b}),T=!0):this.su(_,b)||(n.track({type:2,doc:b}),T=!0,(h&&this.eu(b,h)>0||d&&this.eu(b,d)<0)&&(c=!0)):!_&&b?(n.track({type:0,doc:b}),T=!0):_&&!b&&(n.track({type:1,doc:_}),T=!0,(h||d)&&(c=!0)),T&&(b?(o=o.add(b),s=S?s.add(p):s.delete(p)):(o=o.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),s=s.delete(p.key),n.track({type:1,doc:p})}return{tu:o,iu:n,Cs:c,mutatedKeys:s}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((p,y)=>(function(b,E){const S=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:T})}};return S(b)-S(E)})(p.type,y.type)||this.eu(p.doc,y.doc))),this.ou(n),r=r??!1;const c=t&&!r?this._u():[],h=this.Xa.size===0&&this.current&&!r?1:0,d=h!==this.Za;return this.Za=h,o.length!==0||d?{snapshot:new Nc(this.query,e.tu,s,o,e.mutatedKeys,h===0,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Bx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const t=[];return e.forEach((n=>{this.Xa.has(n)||t.push(new MR(n))})),this.Xa.forEach((n=>{e.has(n)||t.push(new kR(n))})),t}cu(e){this.Ya=e.Qs,this.Xa=He();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Nc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const o0="SyncEngine";class M6{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class I6{constructor(e){this.key=e,this.hu=!1}}class O6{constructor(e,t,n,r,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new hl((c=>GA(c)),Zm),this.Iu=new Map,this.Eu=new Set,this.du=new Mt(Te.comparator),this.Au=new Map,this.Ru=new Kb,this.Vu={},this.mu=new Map,this.fu=Pc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function P6(i,e,t=!0){const n=VR(i);let r;const s=n.Tu.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.lu()):r=await IR(n,e,t,!0),r}async function N6(i,e){const t=VR(i);await IR(t,e,!0,!1)}async function IR(i,e,t,n){const r=await t6(i.localStore,xr(e)),s=r.targetId,o=i.sharedClientState.addLocalQueryTarget(s,t);let c;return n&&(c=await L6(i,e,s,o==="current",r.resumeToken)),i.isPrimaryClient&&t&&wR(i.remoteStore,r),c}async function L6(i,e,t,n,r){i.pu=(y,_,b)=>(async function(S,T,C,N){let j=T.view.ru(C);j.Cs&&(j=await Ix(S.localStore,T.query,!1).then((({documents:M})=>T.view.ru(M,j))));const q=N&&N.targetChanges.get(T.targetId),H=N&&N.targetMismatches.get(T.targetId)!=null,K=T.view.applyChanges(j,S.isPrimaryClient,q,H);return zx(S,T.targetId,K.au),K.snapshot})(i,y,_,b);const s=await Ix(i.localStore,e,!0),o=new k6(e,s.Qs),c=o.ru(s.documents),h=Td.createSynthesizedTargetChangeForCurrentChange(t,n&&i.onlineState!=="Offline",r),d=o.applyChanges(c,i.isPrimaryClient,h);zx(i,t,d.au);const p=new M6(e,t,o);return i.Tu.set(e,p),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),d.snapshot}async function V6(i,e,t){const n=Oe(i),r=n.Tu.get(e),s=n.Iu.get(r.targetId);if(s.length>1)return n.Iu.set(r.targetId,s.filter((o=>!Zm(o,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await $v(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),t&&e0(n.remoteStore,r.targetId),Xv(n,r.targetId)})).catch(Xc)):(Xv(n,r.targetId),await $v(n.localStore,r.targetId,!0))}async function B6(i,e){const t=Oe(i),n=t.Tu.get(e),r=t.Iu.get(n.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),e0(t.remoteStore,n.targetId))}async function F6(i,e,t){const n=W6(i);try{const r=await(function(o,c){const h=Oe(o),d=Xe.now(),p=c.reduce(((b,E)=>b.add(E.key)),He());let y,_;return h.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let E=ks(),S=He();return h.Ns.getEntries(b,p).next((T=>{E=T,E.forEach(((C,N)=>{N.isValidDocument()||(S=S.add(C))}))})).next((()=>h.localDocuments.getOverlayedDocuments(b,E))).next((T=>{y=T;const C=[];for(const N of c){const j=e3(N,y.get(N.key).overlayedDocument);j!=null&&C.push(new Ya(N.key,j,FA(j.value.mapValue),Ii.exists(!0)))}return h.mutationQueue.addMutationBatch(b,d,C,c)})).next((T=>{_=T;const C=T.applyToLocalDocumentSet(y,S);return h.documentOverlayCache.saveOverlays(b,T.batchId,C)}))})).then((()=>({batchId:_.batchId,changes:KA(y)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(r.batchId),(function(o,c,h){let d=o.Vu[o.currentUser.toKey()];d||(d=new Mt(ze)),d=d.insert(c,h),o.Vu[o.currentUser.toKey()]=d})(n,r.batchId,t),await xd(n,r.changes),await sg(n.remoteStore)}catch(r){const s=s0(r,"Failed to persist write");t.reject(s)}}async function OR(i,e){const t=Oe(i);try{const n=await Z3(t.localStore,e);e.targetChanges.forEach(((r,s)=>{const o=t.Au.get(s);o&&(st(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.hu=!0:r.modifiedDocuments.size>0?st(o.hu,14607):r.removedDocuments.size>0&&(st(o.hu,42227),o.hu=!1))})),await xd(t,n,e)}catch(n){await Xc(n)}}function jx(i,e,t){const n=Oe(i);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const r=[];n.Tu.forEach(((s,o)=>{const c=o.view.va(e);c.snapshot&&r.push(c.snapshot)})),(function(o,c){const h=Oe(o);h.onlineState=c;let d=!1;h.queries.forEach(((p,y)=>{for(const _ of y.Sa)_.va(c)&&(d=!0)})),d&&a0(h)})(n.eventManager,e),r.length&&n.Pu.H_(r),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function U6(i,e,t){const n=Oe(i);n.sharedClientState.updateQueryState(e,"rejected",t);const r=n.Au.get(e),s=r&&r.key;if(s){let o=new Mt(Te.comparator);o=o.insert(s,Pn.newNoDocument(s,ke.min()));const c=He().add(s),h=new ng(ke.min(),new Map,new Mt(ze),o,c);await OR(n,h),n.du=n.du.remove(s),n.Au.delete(e),l0(n)}else await $v(n.localStore,e,!1).then((()=>Xv(n,e,t))).catch(Xc)}async function j6(i,e){const t=Oe(i),n=e.batch.batchId;try{const r=await X3(t.localStore,e);NR(t,n,null),PR(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await xd(t,r)}catch(r){await Xc(r)}}async function z6(i,e,t){const n=Oe(i);try{const r=await(function(o,c){const h=Oe(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let p;return h.mutationQueue.lookupMutationBatch(d,c).next((y=>(st(y!==null,37113),p=y.keys(),h.mutationQueue.removeMutationBatch(d,y)))).next((()=>h.mutationQueue.performConsistencyCheck(d))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(d,p,c))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p))).next((()=>h.localDocuments.getDocuments(d,p)))}))})(n.localStore,e);NR(n,e,t),PR(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await xd(n,r)}catch(r){await Xc(r)}}function PR(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function NR(i,e,t){const n=Oe(i);let r=n.Vu[n.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),n.Vu[n.currentUser.toKey()]=r}}function Xv(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const n of i.Iu.get(e))i.Tu.delete(n),t&&i.Pu.yu(n,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((n=>{i.Ru.containsKey(n)||LR(i,n)}))}function LR(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(e0(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),l0(i))}function zx(i,e,t){for(const n of t)n instanceof kR?(i.Ru.addReference(n.key,e),H6(i,n)):n instanceof MR?(ye(o0,"Document no longer in limbo: "+n.key),i.Ru.removeReference(n.key,e),i.Ru.containsKey(n.key)||LR(i,n.key)):Ae(19791,{wu:n})}function H6(i,e){const t=e.key,n=t.path.canonicalString();i.du.get(t)||i.Eu.has(n)||(ye(o0,"New document in limbo: "+t),i.Eu.add(n),l0(i))}function l0(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new Te(bt.fromString(e)),n=i.fu.next();i.Au.set(n,new I6(t)),i.du=i.du.insert(t,n),wR(i.remoteStore,new va(xr(Yb(t.path)),n,"TargetPurposeLimboResolution",Qm.ce))}}async function xd(i,e,t){const n=Oe(i),r=[],s=[],o=[];n.Tu.isEmpty()||(n.Tu.forEach(((c,h)=>{o.push(n.pu(h,e,t).then((d=>{if((d||t)&&n.isPrimaryClient){const p=d?!d.fromCache:t?.targetChanges.get(h.targetId)?.current;n.sharedClientState.updateQueryState(h.targetId,p?"current":"not-current")}if(d){r.push(d);const p=Zb.As(h.targetId,d);s.push(p)}})))})),await Promise.all(o),n.Pu.H_(r),await(async function(h,d){const p=Oe(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>ue.forEach(d,(_=>ue.forEach(_.Es,(b=>p.persistence.referenceDelegate.addReference(y,_.targetId,b))).next((()=>ue.forEach(_.ds,(b=>p.persistence.referenceDelegate.removeReference(y,_.targetId,b)))))))))}catch(y){if(!Zc(y))throw y;ye(Jb,"Failed to update sequence numbers: "+y)}for(const y of d){const _=y.targetId;if(!y.fromCache){const b=p.Ms.get(_),E=b.snapshotVersion,S=b.withLastLimboFreeSnapshotVersion(E);p.Ms=p.Ms.insert(_,S)}}})(n.localStore,s))}async function Y6(i,e){const t=Oe(i);if(!t.currentUser.isEqual(e)){ye(o0,"User change. New user:",e.toKey());const n=await yR(t.localStore,e);t.currentUser=e,(function(s,o){s.mu.forEach((c=>{c.forEach((h=>{h.reject(new ge(oe.CANCELLED,o))}))})),s.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await xd(t,n.Ls)}}function q6(i,e){const t=Oe(i),n=t.Au.get(e);if(n&&n.hu)return He().add(n.key);{let r=He();const s=t.Iu.get(e);if(!s)return r;for(const o of s){const c=t.Tu.get(o);r=r.unionWith(c.view.nu)}return r}}function VR(i){const e=Oe(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=OR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=q6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=U6.bind(null,e),e.Pu.H_=A6.bind(null,e.eventManager),e.Pu.yu=R6.bind(null,e.eventManager),e}function W6(i){const e=Oe(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=j6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=z6.bind(null,e),e}class ym{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ig(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return K3(this.persistence,new G3,e.initialUser,this.serializer)}Cu(e){return new gR(Xb.mi,this.serializer)}Du(e){return new i6}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ym.provider={build:()=>new ym};class G6 extends ym{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){st(this.persistence.referenceDelegate instanceof mm,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new I3(n,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Kn.withCacheSize(this.cacheSizeBytes):Kn.DEFAULT;return new gR((n=>mm.mi(n,t)),this.serializer)}}class Zv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>jx(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Y6.bind(null,this.syncEngine),await x6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new C6})()}createDatastore(e){const t=ig(e.databaseInfo.databaseId),n=(function(s){return new l6(s)})(e.databaseInfo);return(function(s,o,c,h){return new d6(s,o,c,h)})(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return(function(n,r,s,o,c){return new p6(n,r,s,o,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>jx(this.syncEngine,t,0)),(function(){return Nx.v()?new Nx:new r6})())}createSyncEngine(e,t){return(function(r,s,o,c,h,d,p){const y=new O6(r,s,o,c,h,d);return p&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const n=Oe(t);ye(nl,"RemoteStore shutting down."),n.Ea.add(5),await Sd(n),n.Aa.shutdown(),n.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Zv.provider={build:()=>new Zv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Rs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="FirestoreClient";class $6{constructor(e,t,n,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=In.UNAUTHENTICATED,this.clientId=Bb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,(async o=>{ye(Va,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(n,(o=>(ye(Va,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=s0(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Z_(i,e){i.asyncQueue.verifyOperationInProgress(),ye(Va,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let n=t.initialUser;i.setCredentialChangeListener((async r=>{n.isEqual(r)||(await yR(e.localStore,r),n=r)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function Hx(i,e){i.asyncQueue.verifyOperationInProgress();const t=await Q6(i);ye(Va,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((n=>Vx(e.remoteStore,n))),i.setAppCheckTokenChangeListener(((n,r)=>Vx(e.remoteStore,r))),i._onlineComponents=e}async function Q6(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ye(Va,"Using user provided OfflineComponentProvider");try{await Z_(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(r){return r.name==="FirebaseError"?r.code===oe.FAILED_PRECONDITION||r.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(t))throw t;kc("Error using user provided cache. Falling back to memory cache: "+t),await Z_(i,new ym)}}else ye(Va,"Using default OfflineComponentProvider"),await Z_(i,new G6(void 0));return i._offlineComponents}async function FR(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ye(Va,"Using user provided OnlineComponentProvider"),await Hx(i,i._uninitializedComponentsProvider._online)):(ye(Va,"Using default OnlineComponentProvider"),await Hx(i,new Zv))),i._onlineComponents}function K6(i){return FR(i).then((e=>e.syncEngine))}async function UR(i){const e=await FR(i),t=e.eventManager;return t.onListen=P6.bind(null,e.syncEngine),t.onUnlisten=V6.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=N6.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=B6.bind(null,e.syncEngine),t}function X6(i,e,t={}){const n=new bs;return i.asyncQueue.enqueueAndForget((async()=>(function(s,o,c,h,d){const p=new BR({next:_=>{p.Nu(),o.enqueueAndForget((()=>AR(s,y)));const b=_.docs.has(c);!b&&_.fromCache?d.reject(new ge(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&_.fromCache&&h&&h.source==="server"?d.reject(new ge(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(_)},error:_=>d.reject(_)}),y=new RR(Yb(c.path),p,{includeMetadataChanges:!0,qa:!0});return CR(s,y)})(await UR(i),i.asyncQueue,e,t,n))),n.promise}function Z6(i,e,t={}){const n=new bs;return i.asyncQueue.enqueueAndForget((async()=>(function(s,o,c,h,d){const p=new BR({next:_=>{p.Nu(),o.enqueueAndForget((()=>AR(s,y))),_.fromCache&&h.source==="server"?d.reject(new ge(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(_)},error:_=>d.reject(_)}),y=new RR(c,p,{includeMetadataChanges:!0,qa:!0});return CR(s,y)})(await UR(i),i.asyncQueue,e,t,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="firestore.googleapis.com",qx=!0;class Wx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zR,this.ssl=qx}else this.host=e.host,this.ssl=e.ssl??qx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<k3)throw new ge(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}f4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jR(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new ge(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new ge(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new ge(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,r){return n.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ag{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new i4;switch(n.type){case"firstParty":return new o4(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ge(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const n=Yx.get(t);n&&(ye("ComponentProvider","Removing Datastore"),Yx.delete(t),n.terminate())})(this),Promise.resolve()}}function J6(i,e,t,n={}){i=Wi(i,ag);const r=$c(e),s=i._getSettings(),o={...s,emulatorOptions:i._getEmulatorOptions()},c=`${e}:${t}`;r&&(MC(`https://${c}`),IC("Firestore",!0)),s.host!==zR&&s.host!==c&&kc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...s,host:c,ssl:r,emulatorOptions:n};if(!Xo(h,o)&&(i._setSettings(h),n.mockUserToken)){let d,p;if(typeof n.mockUserToken=="string")d=n.mockUserToken,p=In.MOCK_USER;else{d=d2(n.mockUserToken,i._app?.options.projectId);const y=n.mockUserToken.sub||n.mockUserToken.user_id;if(!y)throw new ge(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new In(y)}i._authCredentials=new r4(new CA(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new fl(this.firestore,e,this._query)}}class jt{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Aa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}toJSON(){return{type:jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(wd(t,jt._jsonSchema))return new jt(e,n||null,new Te(bt.fromString(t.referencePath)))}}jt._jsonSchemaVersion="firestore/documentReference/1.0",jt._jsonSchema={type:Xt("string",jt._jsonSchemaVersion),referencePath:Xt("string")};class Aa extends fl{constructor(e,t,n){super(e,t,Yb(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new Te(e))}withConverter(e){return new Aa(this.firestore,e,this._path)}}function og(i,e,...t){if(i=Zt(i),AA("collection","path",e),i instanceof ag){const n=bt.fromString(e,...t);return sx(n),new Aa(i,null,n)}{if(!(i instanceof jt||i instanceof Aa))throw new ge(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=i._path.child(bt.fromString(e,...t));return sx(n),new Aa(i.firestore,null,n)}}function Ir(i,e,...t){if(i=Zt(i),arguments.length===1&&(e=Bb.newId()),AA("doc","path",e),i instanceof ag){const n=bt.fromString(e,...t);return rx(n),new jt(i,null,new Te(n))}{if(!(i instanceof jt||i instanceof Aa))throw new ge(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=i._path.child(bt.fromString(e,...t));return rx(n),new jt(i.firestore,i instanceof Aa?i.converter:null,new Te(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx="AsyncQueue";class $x{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vR(this,"async_queue_retry"),this._c=()=>{const n=X_();n&&ye(Gx,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const t=X_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=X_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new bs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Zc(e))throw e;ye(Gx,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,Rs("INTERNAL UNHANDLED ERROR: ",Qx(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=r0.createAndSchedule(this,e,t,n,(s=>this.hc(s)));return this.tc.push(r),r}uc(){this.nc&&Ae(47125,{Pc:Qx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,n)=>t.targetTimeMs-n.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Qx(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class pl extends ag{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new $x,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $x(e),this._firestoreClient=void 0,await e}}}function eB(i,e){const t=typeof i=="object"?i:LC(),n=typeof i=="string"?i:um,r=Ab(t,"firestore").getImmediate({identifier:n});if(!r._initialized){const s=u2("firestore");s&&J6(r,...s)}return r}function c0(i){if(i._terminated)throw new ge(oe.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||tB(i),i._firestoreClient}function tB(i){const e=i._freezeSettings(),t=(function(r,s,o,c){return new S4(r,s,o,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,jR(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new $6(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(r){const s=r?._online.build();return{_offline:r?._offline.build(s),_online:s}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mi(xn.fromBase64String(e))}catch(t){throw new ge(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Mi(xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wd(e,Mi._jsonSchema))return Mi.fromBase64String(e.bytes)}}Mi._jsonSchemaVersion="firestore/bytes/1.0",Mi._jsonSchema={type:Xt("string",Mi._jsonSchemaVersion),bytes:Xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ge(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Cr._jsonSchemaVersion}}static fromJSON(e){if(wd(e,Cr._jsonSchema))return new Cr(e.latitude,e.longitude)}}Cr._jsonSchemaVersion="firestore/geoPoint/1.0",Cr._jsonSchema={type:Xt("string",Cr._jsonSchemaVersion),latitude:Xt("number"),longitude:Xt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,r){if(n.length!==r.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==r[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ar._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wd(e,Ar._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ar(e.vectorValues);throw new ge(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ar._jsonSchemaVersion="firestore/vectorValue/1.0",Ar._jsonSchema={type:Xt("string",Ar._jsonSchemaVersion),vectorValues:Xt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB=/^__.*__$/;class iB{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new Ya(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ed(e,this.data,t,this.fieldTransforms)}}class HR{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ya(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function YR(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:i})}}class u0{constructor(e,t,n,r,s,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new u0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return _m(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(YR(this.Ac)&&nB.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class rB{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||ig(e)}Cc(e,t,n,r=!1){return new u0({Ac:e,methodName:t,Dc:n,path:Tn.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ug(i){const e=i._freezeSettings(),t=ig(i._databaseId);return new rB(i._databaseId,!!e.ignoreUndefinedProperties,t)}function qR(i,e,t,n,r,s={}){const o=i.Cc(s.merge||s.mergeFields?2:0,e,t,r);d0("Data must be an object, but it was:",o,n);const c=WR(n,o);let h,d;if(s.merge)h=new ci(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const p=[];for(const y of s.mergeFields){const _=Jv(e,y,t);if(!o.contains(_))throw new ge(oe.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);$R(p,_)||p.push(_)}h=new ci(p),d=o.fieldTransforms.filter((y=>h.covers(y.field)))}else h=null,d=o.fieldTransforms;return new iB(new Xn(c),h,d)}class hg extends cg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hg}}class h0 extends cg{_toFieldTransform(e){return new K4(e.path,new ed)}isEqual(e){return e instanceof h0}}function sB(i,e,t,n){const r=i.Cc(1,e,t);d0("Data must be an object, but it was:",r,n);const s=[],o=Xn.empty();Ha(n,((h,d)=>{const p=f0(e,h,t);d=Zt(d);const y=r.yc(p);if(d instanceof hg)s.push(p);else{const _=Dd(d,y);_!=null&&(s.push(p),o.set(p,_))}}));const c=new ci(s);return new HR(o,c,r.fieldTransforms)}function aB(i,e,t,n,r,s){const o=i.Cc(1,e,t),c=[Jv(e,n,t)],h=[r];if(s.length%2!=0)throw new ge(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)c.push(Jv(e,s[_])),h.push(s[_+1]);const d=[],p=Xn.empty();for(let _=c.length-1;_>=0;--_)if(!$R(d,c[_])){const b=c[_];let E=h[_];E=Zt(E);const S=o.yc(b);if(E instanceof hg)d.push(b);else{const T=Dd(E,S);T!=null&&(d.push(b),p.set(b,T))}}const y=new ci(d);return new HR(p,y,o.fieldTransforms)}function oB(i,e,t,n=!1){return Dd(t,i.Cc(n?4:3,e))}function Dd(i,e){if(GR(i=Zt(i)))return d0("Unsupported field value:",e,i),WR(i,e);if(i instanceof cg)return(function(n,r){if(!YR(r.Ac))throw r.Sc(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,r){const s=[];let o=0;for(const c of n){let h=Dd(c,r.wc(o));h==null&&(h={nullValue:"NULL_VALUE"}),s.push(h),o++}return{arrayValue:{values:s}}})(i,e)}return(function(n,r){if((n=Zt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return G4(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Xe.fromDate(n);return{timestampValue:pm(r.serializer,s)}}if(n instanceof Xe){const s=new Xe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:pm(r.serializer,s)}}if(n instanceof Cr)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Mi)return{bytesValue:lR(r.serializer,n._byteString)};if(n instanceof jt){const s=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(s))throw r.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Qb(n.firestore._databaseId||r.databaseId,n._key.path)}}if(n instanceof Ar)return(function(o,c){return{mapValue:{fields:{[VA]:{stringValue:BA},[hm]:{arrayValue:{values:o.toArray().map((d=>{if(typeof d!="number")throw c.Sc("VectorValues must only contain numeric values.");return qb(c.serializer,d)}))}}}}}})(n,r);throw r.Sc(`Unsupported field value: ${$m(n)}`)})(i,e)}function WR(i,e){const t={};return MA(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ha(i,((n,r)=>{const s=Dd(r,e.mc(n));s!=null&&(t[n]=s)})),{mapValue:{fields:t}}}function GR(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Xe||i instanceof Cr||i instanceof Mi||i instanceof jt||i instanceof cg||i instanceof Ar)}function d0(i,e,t){if(!GR(t)||!RA(t)){const n=$m(t);throw n==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+n)}}function Jv(i,e,t){if((e=Zt(e))instanceof lg)return e._internalPath;if(typeof e=="string")return f0(i,e);throw _m("Field path arguments must be of type string or ",i,!1,void 0,t)}const lB=new RegExp("[~\\*/\\[\\]]");function f0(i,e,t){if(e.search(lB)>=0)throw _m(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new lg(...e.split("."))._internalPath}catch{throw _m(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function _m(i,e,t,n,r){const s=n&&!n.isEmpty(),o=r!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(s||o)&&(h+=" (found",s&&(h+=` in field ${n}`),o&&(h+=` in document ${r}`),h+=")"),new ge(oe.INVALID_ARGUMENT,c+i+h)}function $R(i,e){return i.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,t,n,r,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(dg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class cB extends QR{data(){return super.data()}}function dg(i,e){return typeof e=="string"?f0(i,e):e instanceof lg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uB(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ge(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class p0{}class KR extends p0{}function m0(i,e,...t){let n=[];e instanceof p0&&n.push(e),n=n.concat(t),(function(s){const o=s.filter((h=>h instanceof g0)).length,c=s.filter((h=>h instanceof fg)).length;if(o>1||o>0&&c>0)throw new ge(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const r of n)i=r._apply(i);return i}class fg extends KR{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new fg(e,t,n)}_apply(e){const t=this._parse(e);return ZR(e._query,t),new fl(e.firestore,e.converter,zv(e._query,t))}_parse(e){const t=ug(e.firestore);return(function(s,o,c,h,d,p,y){let _;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new ge(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){Xx(y,p);const E=[];for(const S of y)E.push(Kx(h,s,S));_={arrayValue:{values:E}}}else _=Kx(h,s,y)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||Xx(y,p),_=oB(c,o,y,p==="in"||p==="not-in");return Kt.create(d,p,_)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function vm(i,e,t){const n=e,r=dg("where",i);return fg._create(r,n,t)}class g0 extends p0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new g0(e,t)}_parse(e){const t=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return t.length===1?t[0]:Gi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(r,s){let o=r;const c=s.getFlattenedFilters();for(const h of c)ZR(o,h),o=zv(o,h)})(e._query,t),new fl(e.firestore,e.converter,zv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class y0 extends KR{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new y0(e,t)}_apply(e){const t=(function(r,s,o){if(r.startAt!==null)throw new ge(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ge(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jh(s,o)})(e._query,this._field,this._direction);return new fl(e.firestore,e.converter,(function(r,s){const o=r.explicitOrderBy.concat([s]);return new Jc(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(e._query,t))}}function XR(i,e="asc"){const t=e,n=dg("orderBy",i);return y0._create(n,t)}function Kx(i,e,t){if(typeof(t=Zt(t))=="string"){if(t==="")throw new ge(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WA(e)&&t.indexOf("/")!==-1)throw new ge(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(bt.fromString(t));if(!Te.isDocumentKey(n))throw new ge(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return fx(i,new Te(n))}if(t instanceof jt)return fx(i,t._key);throw new ge(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$m(t)}.`)}function Xx(i,e){if(!Array.isArray(i)||i.length===0)throw new ge(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZR(i,e){const t=(function(r,s){for(const o of r)for(const c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null})(i.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ge(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class hB{convertValue(e,t="none"){switch(Na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Pa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Ha(e,((r,s)=>{n[r]=this.convertValue(s,t)})),n}convertVectorValue(e){const t=e.fields?.[hm].arrayValue?.values?.map((n=>Ut(n.doubleValue)));return new Ar(t)}convertGeoPoint(e){return new Cr(Ut(e.latitude),Ut(e.longitude))}convertArray(e,t){return(e.values||[]).map((n=>this.convertValue(n,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Xm(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Kh(e));default:return null}}convertTimestamp(e){const t=Oa(e);return new Xe(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=bt.fromString(e);st(pR(n),9688,{name:e});const r=new Xh(n.get(1),n.get(3)),s=new Te(n.popFirst(5));return r.isEqual(t)||Rs(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(i,e,t){let n;return n=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,n}class Ah{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qo extends QR{constructor(e,t,n,r,s,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new qp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(dg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=qo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}qo._jsonSchemaVersion="firestore/documentSnapshot/1.0",qo._jsonSchema={type:Xt("string",qo._jsonSchemaVersion),bundleSource:Xt("string","DocumentSnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class qp extends qo{data(e={}){return super.data(e)}}class Sc{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Ah(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new qp(this._firestore,this._userDataWriter,n.key,n,new Ah(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map((c=>{const h=new qp(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Ah(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:o++}}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((c=>s||c.type!==3)).map((c=>{const h=new qp(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Ah(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,p=-1;return c.type!==0&&(d=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),p=o.indexOf(c.doc.key)),{type:dB(c.type),doc:h,oldIndex:d,newIndex:p}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Sc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Bb.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach((s=>{s._document!==null&&(t.push(s._document),n.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dB(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fB(i){i=Wi(i,jt);const e=Wi(i.firestore,pl);return X6(c0(e),i._key).then((t=>gB(e,i,t)))}Sc._jsonSchemaVersion="firestore/querySnapshot/1.0",Sc._jsonSchema={type:Xt("string",Sc._jsonSchemaVersion),bundleSource:Xt("string","QuerySnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class ek extends hB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,t)}}function _0(i){i=Wi(i,fl);const e=Wi(i.firestore,pl),t=c0(e),n=new ek(e);return uB(i._query),Z6(t,i._query).then((r=>new Sc(e,n,i,r)))}function pg(i,e,t){i=Wi(i,jt);const n=Wi(i.firestore,pl),r=JR(i.converter,e,t);return mg(n,[qR(ug(n),"setDoc",i._key,r,i.converter!==null,t).toMutation(i._key,Ii.none())])}function v0(i,e,t,...n){i=Wi(i,jt);const r=Wi(i.firestore,pl),s=ug(r);let o;return o=typeof(e=Zt(e))=="string"||e instanceof lg?aB(s,"updateDoc",i._key,e,t,n):sB(s,"updateDoc",i._key,e),mg(r,[o.toMutation(i._key,Ii.exists(!0))])}function pB(i){return mg(Wi(i.firestore,pl),[new Wb(i._key,Ii.none())])}function mB(i,e){const t=Wi(i.firestore,pl),n=Ir(i),r=JR(i.converter,e);return mg(t,[qR(ug(i.firestore),"addDoc",n._key,r,i.converter!==null,{}).toMutation(n._key,Ii.exists(!1))]).then((()=>n))}function mg(i,e){return(function(n,r){const s=new bs;return n.asyncQueue.enqueueAndForget((async()=>F6(await K6(n),r,s))),s.promise})(c0(i),e)}function gB(i,e,t){const n=t.docs.get(e._key),r=new ek(i);return new qo(i,r,e._key,n,new Ah(t.hasPendingWrites,t.fromCache),e.converter)}function yB(){return new h0("serverTimestamp")}(function(e,t=!0){(function(r){Kc=r})(Qc),Ac(new Zo("firestore",((n,{instanceIdentifier:r,options:s})=>{const o=n.getProvider("app").getImmediate(),c=new pl(new s4(n.getProvider("auth-internal")),new l4(o,n.getProvider("app-check-internal")),(function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ge(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xh(d.options.projectId,p)})(o,r),o);return s={useFetchStreams:t,...s},c._setSettings(s),c}),"PUBLIC").setMultipleInstances(!0)),Da(ex,tx,e),Da(ex,tx,"esm2020")})();var _B="firebase",vB="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Da(_B,vB,"app");const bB={apiKey:"AIzaSyD-C9K5YANyUS1cwATnKUkNTOrHpbmLiTg",authDomain:"health-tracker-app-fd24d.firebaseapp.com",projectId:"health-tracker-app-fd24d",storageBucket:"health-tracker-app-fd24d.firebasestorage.app",messagingSenderId:"620379639963",appId:"1:620379639963:web:5b414b3f9dcdd37464363e"},tk=NC(bB),gg=t4(tk),hi=eB(tk),wB=async(i,e,t)=>{const n=await VL(gg,i,e),r=n.user;return await pg(Ir(hi,"users",r.uid),{displayName:t,email:i,createdAt:Xe.now(),height_cm:null,birthYear:null,activityLevel:null,calorieTarget:null,weightGoal_kg:null}),n},EB=(i,e)=>BL(gg,i,e),TB=()=>YL(gg),ml=()=>{const[i,e]=P.useState(null),[t,n]=P.useState(!0);return P.useEffect(()=>HL(gg,s=>{e(s),n(!1)}),[]),{user:i,loading:t}},nk=async i=>{const e=Ir(hi,"users",i),t=await fB(e);return t.exists()?t.data():null},SB=async(i,e)=>{const t=Ir(hi,"users",i);await v0(t,{goal:e.goal,height_cm:Number(e.height_cm),birthYear:Number(e.birthYear),activityLevel:e.activityLevel,calorieTarget:e.calorieTarget,weightGoal_kg:Number(e.currentWeight_kg)});const n=new Date().toISOString().split("T")[0],r=Ir(hi,`users/${i}/weightEntries`,n);await pg(r,{weight_kg:Number(e.currentWeight_kg),timestamp:Xe.fromDate(new Date(n))})},xB=async(i,e)=>{const t=Ir(hi,"users",i);await v0(t,e)},DB=async i=>{const e=og(hi,`users/${i}/weightEntries`),t=m0(e,XR("timestamp","asc"));return(await _0(t)).docs.map(r=>({id:r.id,...r.data()}))},CB=async(i,e,t)=>{const n=Ir(hi,`users/${i}/weightEntries`,e);await pg(n,{weight_kg:Number(t),timestamp:Xe.fromDate(new Date(e))},{merge:!0})},AB=async(i,e)=>{const t=Xe.fromDate(new Date(e)),n=Xe.fromDate(new Date(`${e}T23:59:59.999`)),r=og(hi,`users/${i}/dailyLogs`),s=m0(r,vm("timestamp",">=",t),vm("timestamp","<=",n));try{return(await _0(s)).docs.map(h=>({id:h.id,...h.data()}))}catch(o){throw console.error("Firestore - Error in getDailyLogEntries:",o),o}},RB=async(i,e,t)=>{const n=og(hi,`users/${i}/dailyLogs`),r=Xe.fromDate(new Date(t));try{await mB(n,{...e,timestamp:r}),await b0(i,e)}catch(s){throw console.error("Firestore - Error in addFoodLogEntry:",s),s}},kB=async(i,e,t)=>{const n=Ir(hi,`users/${i}/dailyLogs`,e);try{await v0(n,{description:t.description,calories:t.calories,mealType:t.mealType}),await b0(i,t)}catch(r){throw console.error("Firestore - Error in updateFoodLogEntry:",r),r}},MB=async(i,e)=>{const t=Ir(hi,`users/${i}/dailyLogs`,e);try{await pB(t)}catch(n){throw console.error("Firestore - Error in deleteFoodLogEntry:",n),n}},IB=async(i,e,t)=>{const n=Xe.fromDate(new Date(e)),r=Xe.fromDate(new Date(`${t}T23:59:59.999`)),s=og(hi,`users/${i}/dailyLogs`),o=m0(s,vm("timestamp",">=",n),vm("timestamp","<=",r),XR("timestamp","asc"));try{const c=await _0(o),h={};c.docs.forEach(_=>{const b=_.data(),E=b.timestamp.toDate().toISOString().split("T")[0];h[E]=(h[E]||0)+b.calories});const d=[];let p=new Date(e);const y=new Date(t);for(;p<=y;){const _=p.toISOString().split("T")[0];d.push({date:_,totalCalories:h[_]||0}),p.setDate(p.getDate()+1)}return d}catch(c){throw console.error("Firestore - Error in getDailyCalorieTotals:",c),c}},b0=async(i,e)=>{const t=btoa(e.description.toLowerCase()).substring(0,20),n=Ir(hi,`users/${i}/recentFoods`,t);try{await pg(n,{description:e.description,calories:e.calories,lastUsed:yB()},{merge:!0})}catch(r){throw console.error("Firestore - Error in addRecentFood:",r),r}},ik=P.createContext(void 0),tu=()=>{const i=P.useContext(ik);if(!i)throw new Error("useUserProfile must be used within a UserProvider");return i},OB=({children:i})=>{const{user:e}=ml(),[t,n]=P.useState(null),[r,s]=P.useState(!0),o=P.useCallback(async()=>{if(e){s(!0);try{const h=await nk(e.uid);n(h)}catch(h){console.error("Error fetching user profile:",h)}finally{s(!1)}}else n(null),s(!1)},[e]);P.useEffect(()=>{o()},[o]);const c=P.useCallback(async()=>{await o()},[o]);return O.jsx(ik.Provider,{value:{userProfile:t,loading:r,refreshUserProfile:c},children:i})},PB="_toast_169gj_2",NB="_fadeInOut_169gj_1",LB="_info_169gj_21",VB="_success_169gj_25",BB="_error_169gj_29",FB="_closeButton_169gj_33",J_={toast:PB,fadeInOut:NB,info:LB,success:VB,error:BB,closeButton:FB},UB=({message:i,type:e,onClose:t})=>{if(!i)return null;const n=`${J_.toast} ${J_[e||"info"]}`;return O.jsxs("div",{className:n,children:[O.jsx("span",{children:i}),O.jsx("button",{onClick:t,className:J_.closeButton,children:""})]})},rk=P.createContext(void 0),sk=()=>{const i=P.useContext(rk);if(!i)throw new Error("useToast must be used within a ToastProvider");return i},jB=({children:i})=>{const[e,t]=P.useState(null),[n,r]=P.useState([]),s=P.useCallback((c,h="info",d=3e3)=>{const p=Date.now();r(y=>[...y,{id:p,message:c,type:h,duration:d}])},[]),o=P.useCallback(c=>{r(h=>h.filter(d=>d.id!==c))},[]);return ie.useEffect(()=>{if(n.length>0&&!e){const c=n[0];t(c);const h=setTimeout(()=>{o(c.id),t(null)},c.duration);return()=>clearTimeout(h)}},[n,e,o]),O.jsxs(rk.Provider,{value:{showToast:s},children:[i,e&&O.jsx(UB,{message:e.message,type:e.type,onClose:()=>o(e.id)},e.id)]})},ak=P.createContext(void 0),zB=()=>{const i=P.useContext(ak);if(!i)throw new Error("useTheme must be used within a ThemeProvider");return i},HB=({children:i})=>{const[e,t]=P.useState(()=>localStorage.getItem("theme")||"light");P.useEffect(()=>{document.body.className="",document.body.classList.add(`${e}-theme`),localStorage.setItem("theme",e)},[e]);const n=()=>{t(r=>r==="light"?"dark":"light")};return O.jsx(ak.Provider,{value:{theme:e,toggleTheme:n},children:i})},YB="_container_1bd9n_2",qB="_card_1bd9n_11",WB="_title_1bd9n_21",GB="_subtitle_1bd9n_28",$B="_form_1bd9n_34",QB="_inputGroup_1bd9n_40",KB="_button_1bd9n_72",XB="_error_1bd9n_89",ZB="_footerText_1bd9n_95",fr={container:YB,card:qB,title:WB,subtitle:GB,form:$B,inputGroup:QB,button:KB,error:XB,footerText:ZB},JB=()=>{const[i,e]=P.useState(""),[t,n]=P.useState(""),[r,s]=P.useState(""),[o,c]=P.useState(!1);P.useEffect(()=>{document.title="HealthTracker - Login"},[]);const h=async d=>{if(d.preventDefault(),s(""),c(!0),!i||!t){s("Please enter both email and password."),c(!1);return}try{await EB(i,t)}catch(p){s(p.message),console.error("Error logging in:",p),c(!1)}};return O.jsx("div",{className:fr.container,children:O.jsxs("div",{className:fr.card,children:[O.jsx("h1",{className:fr.title,children:"Log In"}),O.jsx("p",{className:fr.subtitle,children:"Welcome back! Please enter your details."}),O.jsxs("form",{onSubmit:h,className:fr.form,children:[O.jsxs("div",{className:fr.inputGroup,children:[O.jsx("label",{htmlFor:"email",children:"Email"}),O.jsx("input",{type:"email",id:"email",value:i,onChange:d=>e(d.target.value),placeholder:"name@example.com",required:!0})]}),O.jsxs("div",{className:fr.inputGroup,children:[O.jsx("label",{htmlFor:"password",children:"Password"}),O.jsx("input",{type:"password",id:"password",value:t,onChange:d=>n(d.target.value),placeholder:"",required:!0})]}),r&&O.jsx("p",{className:fr.error,children:r}),O.jsx("button",{type:"submit",className:fr.button,disabled:o,children:o?"Logging In...":"Log In"})]}),O.jsxs("p",{className:fr.footerText,children:["Don't have an account? ",O.jsx(Hm,{to:"/signup",children:"Sign Up"})]})]})})},eF="_container_m7n4m_3",tF="_card_m7n4m_12",nF="_title_m7n4m_22",iF="_subtitle_m7n4m_29",rF="_form_m7n4m_35",sF="_inputGroup_m7n4m_41",aF="_button_m7n4m_73",oF="_error_m7n4m_90",lF="_footerText_m7n4m_96",ji={container:eF,card:tF,title:nF,subtitle:iF,form:rF,inputGroup:sF,button:aF,error:oF,footerText:lF},cF=()=>{const[i,e]=P.useState(""),[t,n]=P.useState(""),[r,s]=P.useState(""),[o,c]=P.useState(""),[h,d]=P.useState(!1);P.useEffect(()=>{document.title="HealthTracker - Sign Up"},[]);const p=async y=>{if(y.preventDefault(),c(""),d(!0),!i||!t||!r){c("Please fill out all fields."),d(!1);return}if(r.length<6){c("Password must be at least 6 characters long."),d(!1);return}try{await wB(t,r,i)}catch(_){c(_.message),console.error("Error signing up:",_),d(!1)}};return O.jsx("div",{className:ji.container,children:O.jsxs("div",{className:ji.card,children:[O.jsx("h1",{className:ji.title,children:"Create Account"}),O.jsx("p",{className:ji.subtitle,children:"Start your health journey today."}),O.jsxs("form",{onSubmit:p,className:ji.form,children:[O.jsxs("div",{className:ji.inputGroup,children:[O.jsx("label",{htmlFor:"displayName",children:"Display Name"}),O.jsx("input",{type:"text",id:"displayName",value:i,onChange:y=>e(y.target.value),placeholder:"Your Name",required:!0})]}),O.jsxs("div",{className:ji.inputGroup,children:[O.jsx("label",{htmlFor:"email",children:"Email"}),O.jsx("input",{type:"email",id:"email",value:t,onChange:y=>n(y.target.value),placeholder:"name@example.com",required:!0})]}),O.jsxs("div",{className:ji.inputGroup,children:[O.jsx("label",{htmlFor:"password",children:"Password"}),O.jsx("input",{type:"password",id:"password",value:r,onChange:y=>s(y.target.value),placeholder:"6+ characters",required:!0})]}),o&&O.jsx("p",{className:ji.error,children:o}),O.jsx("button",{type:"submit",className:ji.button,disabled:h,children:h?"Creating Account...":"Sign Up"})]}),O.jsxs("p",{className:ji.footerText,children:["Already have an account? ",O.jsx(Hm,{to:"/login",children:"Log In"})]})]})})},uF="_overlay_mkg7p_1",hF="_modal_mkg7p_15",dF="_progressBar_mkg7p_26",fF="_progress_mkg7p_26",pF="_step_mkg7p_41",mF="_title_mkg7p_49",gF="_goalOptions_mkg7p_57",yF="_goalButton_mkg7p_68",_F="_selected_mkg7p_85",vF="_metricsForm_mkg7p_93",bF="_inputGroup_mkg7p_101",wF="_targetSubtitle_mkg7p_130",EF="_targetDisplay_mkg7p_137",TF="_disclaimer_mkg7p_144",SF="_navigation_mkg7p_150",xF="_backButton_mkg7p_158",DF="_nextButton_mkg7p_158",wt={overlay:uF,modal:hF,progressBar:dF,progress:fF,step:pF,title:mF,goalOptions:gF,goalButton:yF,selected:_F,metricsForm:vF,inputGroup:bF,targetSubtitle:wF,targetDisplay:EF,disclaimer:TF,navigation:SF,backButton:xF,nextButton:DF},CF=i=>new Date().getFullYear()-i,AF=({weight_kg:i,height_cm:e,birthYear:t})=>{const n=CF(t);return 10*i+6.25*e-5*n},RF=(i,e)=>{const n={sedentary:1.2,lightly_active:1.375,moderately_active:1.55,very_active:1.725}[e]||1.2;return i*n},kF=(i,e)=>{let t=0;return e==="lose"?t=-500:e==="gain"&&(t=300),Math.round((i+t)/10)*10},MF=()=>{const[i,e]=P.useState(1),[t,n]=P.useState({goal:"maintain",height_cm:"",currentWeight_kg:"",birthYear:"",activityLevel:"sedentary"}),[r,s]=P.useState(null),[o,c]=P.useState(!1),h=fd(),{user:d}=ml(),{refreshUserProfile:p}=tu();P.useEffect(()=>{document.title="HealthTracker - Onboarding"},[]);const y=S=>{const{name:T,value:C}=S.target;n(N=>({...N,[T]:C}))},_=()=>{const S=new Date().getFullYear();if(i===2){if(!t.height_cm||!t.currentWeight_kg||!t.birthYear){alert("Please fill in all your metrics.");return}const T=Number(t.birthYear);if(isNaN(T)||T<=0){alert("Please enter a valid year of birth.");return}if(T>S){alert("Birth year cannot be in the future.");return}if(S-T<10){alert("You must be at least 10 years old.");return}const C=AF({weight_kg:Number(t.currentWeight_kg),height_cm:Number(t.height_cm),birthYear:T}),N=RF(C,t.activityLevel),j=kF(N,t.goal);s(j)}e(T=>T+1)},b=()=>{e(S=>S-1)},E=async()=>{if(!d){alert("Error: You are not logged in.");return}c(!0);try{const S={...t,height_cm:Number(t.height_cm),currentWeight_kg:Number(t.currentWeight_kg),birthYear:Number(t.birthYear),calorieTarget:r};await SB(d.uid,S),p&&await p(),h("/dashboard")}catch(S){console.error("Error saving onboarding data: ",S),alert("Failed to save your information. Please try again."),c(!1)}};return O.jsx("div",{className:wt.overlay,children:O.jsxs("div",{className:wt.modal,children:[O.jsx("div",{className:wt.progressBar,children:O.jsx("div",{className:wt.progress,style:{width:`${i/3*100}%`}})}),i===1&&O.jsxs("div",{className:wt.step,children:[O.jsx("h2",{className:wt.title,children:"What is your primary goal?"}),O.jsx("div",{className:wt.goalOptions,children:["lose","maintain","gain"].map(S=>O.jsxs("button",{name:"goal",onClick:()=>n(T=>({...T,goal:S})),className:`${wt.goalButton} ${t.goal===S?wt.selected:""}`,children:[S.charAt(0).toUpperCase()+S.slice(1)," Weight"]},S))})]}),i===2&&O.jsxs("div",{className:wt.step,children:[O.jsx("h2",{className:wt.title,children:"Tell us about yourself"}),O.jsxs("div",{className:wt.metricsForm,children:[O.jsxs("div",{className:wt.inputGroup,children:[O.jsx("label",{children:"Height (cm)"}),O.jsx("input",{type:"number",name:"height_cm",value:t.height_cm,onChange:y,placeholder:"e.g., 175"})]}),O.jsxs("div",{className:wt.inputGroup,children:[O.jsx("label",{children:"Current Weight (kg)"}),O.jsx("input",{type:"number",name:"currentWeight_kg",value:t.currentWeight_kg,onChange:y,placeholder:"e.g., 70"})]}),O.jsxs("div",{className:wt.inputGroup,children:[O.jsx("label",{children:"Year of Birth"}),O.jsx("input",{type:"number",name:"birthYear",value:t.birthYear,onChange:y,placeholder:"e.g., 1990",min:"1900",max:new Date().getFullYear()})]}),O.jsxs("div",{className:wt.inputGroup,children:[O.jsx("label",{children:"Activity Level"}),O.jsxs("select",{name:"activityLevel",value:t.activityLevel,onChange:y,children:[O.jsx("option",{value:"sedentary",children:"Sedentary (little or no exercise)"}),O.jsx("option",{value:"lightly_active",children:"Lightly Active (light exercise/sports 1-3 days/week)"}),O.jsx("option",{value:"moderately_active",children:"Moderately Active (moderate exercise/sports 3-5 days/week)"}),O.jsx("option",{value:"very_active",children:"Very Active (hard exercise/sports 6-7 days a week)"})]})]})]})]}),i===3&&O.jsxs("div",{className:wt.step,children:[O.jsx("h2",{className:wt.title,children:"Your Personalized Target"}),O.jsx("p",{className:wt.targetSubtitle,children:"Based on your information, we suggest this daily calorie target to help you reach your goal."}),O.jsx("div",{className:wt.targetDisplay,children:r?`${r} kcal`:"Calculating..."}),O.jsx("p",{className:wt.disclaimer,children:"You can adjust this later in your settings."})]}),O.jsxs("div",{className:wt.navigation,children:[i>1&&O.jsx("button",{onClick:b,className:wt.backButton,disabled:o,children:"Back"}),i<3&&O.jsx("button",{onClick:_,className:wt.nextButton,children:"Next"}),i===3&&O.jsx("button",{onClick:E,className:wt.nextButton,disabled:o,children:o?"Saving...":"Finish Setup"})]})]})})},IF="_pageContainer_woo9m_1",OF="_header_woo9m_6",PF="_logo_woo9m_16",NF="_headerControls_woo9m_22",LF="_welcomeMessage_woo9m_29",VF="_signOutButton_woo9m_45",BF="_themeToggleButton_woo9m_62",FF="_dashboardGrid_woo9m_85",UF="_gridColumn_woo9m_94",jF="_dateNavigationContainer_woo9m_100",zF="_dateNavButton_woo9m_112",HF="_currentDateDisplay_woo9m_137",YF="_sectionLoader_woo9m_146",kn={pageContainer:IF,header:OF,logo:PF,headerControls:NF,welcomeMessage:LF,signOutButton:VF,themeToggleButton:BF,dashboardGrid:FF,gridColumn:UF,dateNavigationContainer:jF,dateNavButton:zF,currentDateDisplay:HF,sectionLoader:YF},qF="_card_1bl0j_1",WF="_title_1bl0j_8",GF="_summary_1bl0j_18",$F="_metric_1bl0j_26",QF="_value_1bl0j_37",KF="_operator_1bl0j_43",XF="_metricRemaining_1bl0j_52",ZF="_valueRemaining_1bl0j_65",JF="_progressBarContainer_1bl0j_70",eU="_progressBar_1bl0j_70",tU="_green_1bl0j_85",nU="_yellow_1bl0j_89",iU="_red_1bl0j_93",rU="_logCaloriesButton_1bl0j_97",wn={card:qF,title:WF,summary:GF,metric:$F,value:QF,operator:KF,metricRemaining:XF,valueRemaining:ZF,progressBarContainer:JF,progressBar:eU,green:tU,yellow:nU,red:iU,logCaloriesButton:rU},sU=({target:i,food:e=0,onLogCaloriesClick:t})=>{const n=i||2e3,r=n-e,s=e>0?e/n*100:0;let o=wn.green;return s>100?o=wn.red:s>=85&&(o=wn.yellow),O.jsxs("div",{className:wn.card,children:[O.jsx("h2",{className:wn.title,children:"Calorie Budget"}),O.jsxs("div",{className:wn.summary,children:[O.jsxs("div",{className:wn.metric,children:[O.jsx("span",{children:"Target"}),O.jsx("span",{className:wn.value,children:n})]}),O.jsx("span",{className:wn.operator,children:"-"}),O.jsxs("div",{className:wn.metric,children:[O.jsx("span",{children:"Food"}),O.jsx("span",{className:wn.value,children:e})]}),O.jsx("span",{className:wn.operator,children:"="}),O.jsxs("div",{className:wn.metricRemaining,children:[O.jsx("span",{children:"Remaining"}),O.jsx("span",{className:wn.valueRemaining,children:r})]})]}),O.jsx("div",{className:wn.progressBarContainer,children:O.jsx("div",{className:`${wn.progressBar} ${o}`,style:{width:`${Math.min(s,100)}%`}})}),O.jsx("button",{onClick:()=>t(null),className:wn.logCaloriesButton,children:"(+) Log Calories"})]})},aU="_loggerContainer_1jzzy_1",oU="_loggerHeader_1jzzy_9",lU="_mainTitle_1jzzy_16",cU="_subTitleDate_1jzzy_26",uU="_tableContainer_1jzzy_47",hU="_foodTable_1jzzy_51",dU="_actionIcons_1jzzy_80",fU="_iconButton_1jzzy_85",pU="_emptyText_1jzzy_111",pr={loggerContainer:aU,loggerHeader:oU,mainTitle:lU,subTitleDate:cU,tableContainer:uU,foodTable:hU,actionIcons:dU,iconButton:fU,emptyText:pU},mU=({dailyLogData:i,onUpdateLog:e,selectedDate:t,getRelativeDateString:n,onEditFoodClick:r})=>{const s=Object.keys(i).flatMap(h=>(i[h]||[]).map(d=>({...d,mealType:h}))),o=h=>{e("delete",h.mealType,h)},c=h=>{r(h)};return O.jsx(O.Fragment,{children:O.jsxs("div",{className:pr.loggerContainer,children:[O.jsx("div",{className:pr.loggerHeader,children:O.jsxs("h2",{className:pr.mainTitle,children:["Calorie Intake",O.jsx("span",{className:pr.subTitleDate,children:n(t)})]})}),O.jsx("div",{className:pr.tableContainer,children:s.length>0?O.jsxs("table",{className:pr.foodTable,children:[O.jsx("thead",{children:O.jsxs("tr",{children:[O.jsx("th",{children:"Meal"}),O.jsx("th",{children:"Description"}),O.jsx("th",{children:"Calories"}),O.jsx("th",{children:"Actions"})]})}),O.jsx("tbody",{children:s.map(h=>O.jsxs("tr",{children:[O.jsx("td",{children:h.mealType}),O.jsx("td",{children:h.description}),O.jsxs("td",{children:[h.calories," kcal"]}),O.jsx("td",{children:O.jsxs("div",{className:pr.actionIcons,children:[O.jsx("button",{onClick:()=>c(h),className:pr.iconButton,title:"Edit",children:O.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-edit",children:[O.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),O.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),O.jsx("button",{onClick:()=>o(h),className:pr.iconButton,title:"Delete",children:O.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-trash-2",children:[O.jsx("polyline",{points:"3 6 5 6 21 6"}),O.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),O.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),O.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})})]})})]},h.id))})]}):O.jsx("p",{className:pr.emptyText,children:"No calorie intake logged for this day."})})]})})};function ok(i){var e,t,n="";if(typeof i=="string"||typeof i=="number")n+=i;else if(typeof i=="object")if(Array.isArray(i)){var r=i.length;for(e=0;e<r;e++)i[e]&&(t=ok(i[e]))&&(n&&(n+=" "),n+=t)}else for(t in i)i[t]&&(n&&(n+=" "),n+=t);return n}function Sn(){for(var i,e,t=0,n="",r=arguments.length;t<r;t++)(i=arguments[t])&&(e=ok(i))&&(n&&(n+=" "),n+=e);return n}const lk=6048e5,gU=864e5,yg=6e4,_g=36e5,yU=1e3,Zx=Symbol.for("constructDateFrom");function ht(i,e){return typeof i=="function"?i(e):i&&typeof i=="object"&&Zx in i?i[Zx](e):i instanceof Date?new i.constructor(e):new Date(e)}function we(i,e){return ht(e||i,i)}function Yi(i,e,t){const n=we(i,t?.in);return isNaN(e)?ht(t?.in||i,NaN):(e&&n.setDate(n.getDate()+e),n)}function $i(i,e,t){const n=we(i,t?.in);if(isNaN(e))return ht(i,NaN);if(!e)return n;const r=n.getDate(),s=ht(i,n.getTime());s.setMonth(n.getMonth()+e+1,0);const o=s.getDate();return r>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}function ck(i,e,t){return ht(i,+we(i)+e)}function _U(i,e,t){return ck(i,e*_g)}let vU={};function gl(){return vU}function Ms(i,e){const t=gl(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,r=we(i,e?.in),s=r.getDay(),o=(s<n?7:0)+s-n;return r.setDate(r.getDate()-o),r.setHours(0,0,0,0),r}function Lc(i,e){return Ms(i,{...e,weekStartsOn:1})}function uk(i,e){const t=we(i,e?.in),n=t.getFullYear(),r=ht(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Lc(r),o=ht(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const c=Lc(o);return t.getTime()>=s.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}function bm(i){const e=we(i),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+i-+t}function Ns(i,...e){const t=ht.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function il(i,e){const t=we(i,e?.in);return t.setHours(0,0,0,0),t}function Vc(i,e,t){const[n,r]=Ns(t?.in,i,e),s=il(n),o=il(r),c=+s-bm(s),h=+o-bm(o);return Math.round((c-h)/gU)}function bU(i,e){const t=uk(i,e),n=ht(i,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Lc(n)}function eb(i,e,t){const n=we(i,t?.in);return n.setTime(n.getTime()+e*yg),n}function w0(i,e,t){return $i(i,e*3,t)}function wU(i,e,t){return ck(i,e*1e3)}function wm(i,e,t){return Yi(i,e*7,t)}function ws(i,e,t){return $i(i,e*12,t)}function Jx(i,e){let t,n=e?.in;return i.forEach(r=>{!n&&typeof r=="object"&&(n=ht.bind(null,r));const s=we(r,n);(!t||t<s||isNaN(+s))&&(t=s)}),ht(n,t||NaN)}function e1(i,e){let t,n=e?.in;return i.forEach(r=>{!n&&typeof r=="object"&&(n=ht.bind(null,r));const s=we(r,n);(!t||t>s||isNaN(+s))&&(t=s)}),ht(n,t||NaN)}function EU(i,e,t){const[n,r]=Ns(t?.in,i,e);return+il(n)==+il(r)}function Es(i){return i instanceof Date||typeof i=="object"&&Object.prototype.toString.call(i)==="[object Date]"}function Em(i){return!(!Es(i)&&typeof i!="number"||isNaN(+we(i)))}function Tm(i,e,t){const[n,r]=Ns(t?.in,i,e),s=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return s*12+o}function Wo(i,e){const t=we(i,e?.in);return Math.trunc(t.getMonth()/3)+1}function Sm(i,e,t){const[n,r]=Ns(t?.in,i,e),s=n.getFullYear()-r.getFullYear(),o=Wo(n)-Wo(r);return s*4+o}function xm(i,e,t){const[n,r]=Ns(t?.in,i,e);return n.getFullYear()-r.getFullYear()}function TU(i,e,t){const[n,r]=Ns(t?.in,i,e),s=t1(n,r),o=Math.abs(Vc(n,r));n.setDate(n.getDate()-s*o);const c=+(t1(n,r)===-s),h=s*(o-c);return h===0?0:h}function t1(i,e){const t=i.getFullYear()-e.getFullYear()||i.getMonth()-e.getMonth()||i.getDate()-e.getDate()||i.getHours()-e.getHours()||i.getMinutes()-e.getMinutes()||i.getSeconds()-e.getSeconds()||i.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function hk(i,e){const t=we(i,e?.in);return t.setHours(23,59,59,999),t}function dk(i,e){const t=we(i,e?.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function tb(i,e){const t=we(i,e?.in),n=t.getMonth(),r=n-n%3;return t.setMonth(r,1),t.setHours(0,0,0,0),t}function fk(i,e){const t=we(i,e?.in);return t.setDate(1),t.setHours(0,0,0,0),t}function pk(i,e){const t=we(i,e?.in),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function vg(i,e){const t=we(i,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function SU(i,e){const t=gl(),n=t.weekStartsOn??t.locale?.options?.weekStartsOn??0,r=we(i,e?.in),s=r.getDay(),o=(s<n?-7:0)+6-(s-n);return r.setDate(r.getDate()+o),r.setHours(23,59,59,999),r}const xU={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},DU=(i,e,t)=>{let n;const r=xU[i];return typeof r=="string"?n=r:e===1?n=r.one:n=r.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function ev(i){return(e={})=>{const t=e.width?String(e.width):i.defaultWidth;return i.formats[t]||i.formats[i.defaultWidth]}}const CU={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},AU={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},RU={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kU={date:ev({formats:CU,defaultWidth:"full"}),time:ev({formats:AU,defaultWidth:"full"}),dateTime:ev({formats:RU,defaultWidth:"full"})},MU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},IU=(i,e,t,n)=>MU[i];function ph(i){return(e,t)=>{const n=t?.context?String(t.context):"standalone";let r;if(n==="formatting"&&i.formattingValues){const o=i.defaultFormattingWidth||i.defaultWidth,c=t?.width?String(t.width):o;r=i.formattingValues[c]||i.formattingValues[o]}else{const o=i.defaultWidth,c=t?.width?String(t.width):i.defaultWidth;r=i.values[c]||i.values[o]}const s=i.argumentCallback?i.argumentCallback(e):e;return r[s]}}const OU={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},PU={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},NU={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},LU={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},VU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},BU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},FU=(i,e)=>{const t=Number(i),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},UU={ordinalNumber:FU,era:ph({values:OU,defaultWidth:"wide"}),quarter:ph({values:PU,defaultWidth:"wide",argumentCallback:i=>i-1}),month:ph({values:NU,defaultWidth:"wide"}),day:ph({values:LU,defaultWidth:"wide"}),dayPeriod:ph({values:VU,defaultWidth:"wide",formattingValues:BU,defaultFormattingWidth:"wide"})};function mh(i){return(e,t={})=>{const n=t.width,r=n&&i.matchPatterns[n]||i.matchPatterns[i.defaultMatchWidth],s=e.match(r);if(!s)return null;const o=s[0],c=n&&i.parsePatterns[n]||i.parsePatterns[i.defaultParseWidth],h=Array.isArray(c)?zU(c,y=>y.test(o)):jU(c,y=>y.test(o));let d;d=i.valueCallback?i.valueCallback(h):h,d=t.valueCallback?t.valueCallback(d):d;const p=e.slice(o.length);return{value:d,rest:p}}}function jU(i,e){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t)&&e(i[t]))return t}function zU(i,e){for(let t=0;t<i.length;t++)if(e(i[t]))return t}function HU(i){return(e,t={})=>{const n=e.match(i.matchPattern);if(!n)return null;const r=n[0],s=e.match(i.parsePattern);if(!s)return null;let o=i.valueCallback?i.valueCallback(s[0]):s[0];o=t.valueCallback?t.valueCallback(o):o;const c=e.slice(r.length);return{value:o,rest:c}}}const YU=/^(\d+)(th|st|nd|rd)?/i,qU=/\d+/i,WU={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},GU={any:[/^b/i,/^(a|c)/i]},$U={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},QU={any:[/1/i,/2/i,/3/i,/4/i]},KU={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},XU={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ZU={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},JU={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},e9={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},t9={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},n9={ordinalNumber:HU({matchPattern:YU,parsePattern:qU,valueCallback:i=>parseInt(i,10)}),era:mh({matchPatterns:WU,defaultMatchWidth:"wide",parsePatterns:GU,defaultParseWidth:"any"}),quarter:mh({matchPatterns:$U,defaultMatchWidth:"wide",parsePatterns:QU,defaultParseWidth:"any",valueCallback:i=>i+1}),month:mh({matchPatterns:KU,defaultMatchWidth:"wide",parsePatterns:XU,defaultParseWidth:"any"}),day:mh({matchPatterns:ZU,defaultMatchWidth:"wide",parsePatterns:JU,defaultParseWidth:"any"}),dayPeriod:mh({matchPatterns:e9,defaultMatchWidth:"any",parsePatterns:t9,defaultParseWidth:"any"})},mk={code:"en-US",formatDistance:DU,formatLong:kU,formatRelative:IU,localize:UU,match:n9,options:{weekStartsOn:0,firstWeekContainsDate:1}};function i9(i,e){const t=we(i,e?.in);return Vc(t,vg(t))+1}function E0(i,e){const t=we(i,e?.in),n=+Lc(t)-+bU(t);return Math.round(n/lk)+1}function T0(i,e){const t=we(i,e?.in),n=t.getFullYear(),r=gl(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=ht(e?.in||i,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const c=Ms(o,e),h=ht(e?.in||i,0);h.setFullYear(n,0,s),h.setHours(0,0,0,0);const d=Ms(h,e);return+t>=+c?n+1:+t>=+d?n:n-1}function r9(i,e){const t=gl(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,r=T0(i,e),s=ht(e?.in||i,0);return s.setFullYear(r,0,n),s.setHours(0,0,0,0),Ms(s,e)}function gk(i,e){const t=we(i,e?.in),n=+Ms(t,e)-+r9(t,e);return Math.round(n/lk)+1}function ct(i,e){const t=i<0?"-":"",n=Math.abs(i).toString().padStart(e,"0");return t+n}const fa={y(i,e){const t=i.getFullYear(),n=t>0?t:1-t;return ct(e==="yy"?n%100:n,e.length)},M(i,e){const t=i.getMonth();return e==="M"?String(t+1):ct(t+1,2)},d(i,e){return ct(i.getDate(),e.length)},a(i,e){const t=i.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(i,e){return ct(i.getHours()%12||12,e.length)},H(i,e){return ct(i.getHours(),e.length)},m(i,e){return ct(i.getMinutes(),e.length)},s(i,e){return ct(i.getSeconds(),e.length)},S(i,e){const t=e.length,n=i.getMilliseconds(),r=Math.trunc(n*Math.pow(10,t-3));return ct(r,e.length)}},uc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},n1={G:function(i,e,t){const n=i.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(i,e,t){if(e==="yo"){const n=i.getFullYear(),r=n>0?n:1-n;return t.ordinalNumber(r,{unit:"year"})}return fa.y(i,e)},Y:function(i,e,t,n){const r=T0(i,n),s=r>0?r:1-r;if(e==="YY"){const o=s%100;return ct(o,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):ct(s,e.length)},R:function(i,e){const t=uk(i);return ct(t,e.length)},u:function(i,e){const t=i.getFullYear();return ct(t,e.length)},Q:function(i,e,t){const n=Math.ceil((i.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return ct(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(i,e,t){const n=Math.ceil((i.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return ct(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(i,e,t){const n=i.getMonth();switch(e){case"M":case"MM":return fa.M(i,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(i,e,t){const n=i.getMonth();switch(e){case"L":return String(n+1);case"LL":return ct(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(i,e,t,n){const r=gk(i,n);return e==="wo"?t.ordinalNumber(r,{unit:"week"}):ct(r,e.length)},I:function(i,e,t){const n=E0(i);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):ct(n,e.length)},d:function(i,e,t){return e==="do"?t.ordinalNumber(i.getDate(),{unit:"date"}):fa.d(i,e)},D:function(i,e,t){const n=i9(i);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):ct(n,e.length)},E:function(i,e,t){const n=i.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(i,e,t,n){const r=i.getDay(),s=(r-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return ct(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(r,{width:"short",context:"formatting"});case"eeee":default:return t.day(r,{width:"wide",context:"formatting"})}},c:function(i,e,t,n){const r=i.getDay(),s=(r-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return ct(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(r,{width:"narrow",context:"standalone"});case"cccccc":return t.day(r,{width:"short",context:"standalone"});case"cccc":default:return t.day(r,{width:"wide",context:"standalone"})}},i:function(i,e,t){const n=i.getDay(),r=n===0?7:n;switch(e){case"i":return String(r);case"ii":return ct(r,e.length);case"io":return t.ordinalNumber(r,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(i,e,t){const r=i.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(i,e,t){const n=i.getHours();let r;switch(n===12?r=uc.noon:n===0?r=uc.midnight:r=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(i,e,t){const n=i.getHours();let r;switch(n>=17?r=uc.evening:n>=12?r=uc.afternoon:n>=4?r=uc.morning:r=uc.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(i,e,t){if(e==="ho"){let n=i.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return fa.h(i,e)},H:function(i,e,t){return e==="Ho"?t.ordinalNumber(i.getHours(),{unit:"hour"}):fa.H(i,e)},K:function(i,e,t){const n=i.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):ct(n,e.length)},k:function(i,e,t){let n=i.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):ct(n,e.length)},m:function(i,e,t){return e==="mo"?t.ordinalNumber(i.getMinutes(),{unit:"minute"}):fa.m(i,e)},s:function(i,e,t){return e==="so"?t.ordinalNumber(i.getSeconds(),{unit:"second"}):fa.s(i,e)},S:function(i,e){return fa.S(i,e)},X:function(i,e,t){const n=i.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return r1(n);case"XXXX":case"XX":return Bo(n);case"XXXXX":case"XXX":default:return Bo(n,":")}},x:function(i,e,t){const n=i.getTimezoneOffset();switch(e){case"x":return r1(n);case"xxxx":case"xx":return Bo(n);case"xxxxx":case"xxx":default:return Bo(n,":")}},O:function(i,e,t){const n=i.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+i1(n,":");case"OOOO":default:return"GMT"+Bo(n,":")}},z:function(i,e,t){const n=i.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+i1(n,":");case"zzzz":default:return"GMT"+Bo(n,":")}},t:function(i,e,t){const n=Math.trunc(+i/1e3);return ct(n,e.length)},T:function(i,e,t){return ct(+i,e.length)}};function i1(i,e=""){const t=i>0?"-":"+",n=Math.abs(i),r=Math.trunc(n/60),s=n%60;return s===0?t+String(r):t+String(r)+e+ct(s,2)}function r1(i,e){return i%60===0?(i>0?"-":"+")+ct(Math.abs(i)/60,2):Bo(i,e)}function Bo(i,e=""){const t=i>0?"-":"+",n=Math.abs(i),r=ct(Math.trunc(n/60),2),s=ct(n%60,2);return t+r+e+s}const s1=(i,e)=>{switch(i){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},yk=(i,e)=>{switch(i){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},s9=(i,e)=>{const t=i.match(/(P+)(p+)?/)||[],n=t[1],r=t[2];if(!r)return s1(i,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",s1(n,e)).replace("{{time}}",yk(r,e))},nb={p:yk,P:s9},a9=/^D+$/,o9=/^Y+$/,l9=["D","DD","YY","YYYY"];function c9(i){return a9.test(i)}function u9(i){return o9.test(i)}function h9(i,e,t){const n=d9(i,e,t);if(console.warn(n),l9.includes(i))throw new RangeError(n)}function d9(i,e,t){const n=i[0]==="Y"?"years":"days of the month";return`Use \`${i.toLowerCase()}\` instead of \`${i}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const f9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,p9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,m9=/^'([^]*?)'?$/,g9=/''/g,y9=/[a-zA-Z]/;function vc(i,e,t){const n=gl(),r=t?.locale??n.locale??mk,s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,c=we(i,t?.in);if(!Em(c))throw new RangeError("Invalid time value");let h=e.match(p9).map(p=>{const y=p[0];if(y==="p"||y==="P"){const _=nb[y];return _(p,r.formatLong)}return p}).join("").match(f9).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const y=p[0];if(y==="'")return{isToken:!1,value:_9(p)};if(n1[y])return{isToken:!0,value:p};if(y.match(y9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:p}});r.localize.preprocessor&&(h=r.localize.preprocessor(c,h));const d={firstWeekContainsDate:s,weekStartsOn:o,locale:r};return h.map(p=>{if(!p.isToken)return p.value;const y=p.value;(!t?.useAdditionalWeekYearTokens&&u9(y)||!t?.useAdditionalDayOfYearTokens&&c9(y))&&h9(y,e,String(i));const _=n1[y[0]];return _(c,y,r.localize,d)}).join("")}function _9(i){const e=i.match(m9);return e?e[1].replace(g9,"'"):i}function a1(i,e){return we(i,e?.in).getDate()}function v9(i,e){return we(i,e?.in).getDay()}function b9(i,e){const t=we(i,e?.in),n=t.getFullYear(),r=t.getMonth(),s=ht(t,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function w9(){return Object.assign({},gl())}function Ts(i,e){return we(i,e?.in).getHours()}function E9(i,e){const t=we(i,e?.in).getDay();return t===0?7:t}function Ss(i,e){return we(i,e?.in).getMinutes()}function Nn(i,e){return we(i,e?.in).getMonth()}function Ra(i){return we(i).getSeconds()}function ib(i){return+we(i)}function Le(i,e){return we(i,e?.in).getFullYear()}function Ba(i,e){return+we(i)>+we(e)}function rl(i,e){return+we(i)<+we(e)}function T9(i,e){return+we(i)==+we(e)}function S9(i,e){const t=x9(e)?new e(0):ht(e,0);return t.setFullYear(i.getFullYear(),i.getMonth(),i.getDate()),t.setHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),t}function x9(i){return typeof i=="function"&&i.prototype?.constructor===i}const D9=10;class _k{subPriority=0;validate(e,t){return!0}}class C9 extends _k{constructor(e,t,n,r,s){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=r,s&&(this.subPriority=s)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class A9 extends _k{priority=D9;subPriority=-1;constructor(e,t){super(),this.context=e||(n=>ht(t,n))}set(e,t){return t.timestampIsSet?e:ht(e,S9(e,this.context))}}class nt{run(e,t,n,r){const s=this.parse(e,t,n,r);return s?{setter:new C9(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,t,n){return!0}}class R9 extends nt{priority=140;parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});case"GGGG":default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const zt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},br={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ht(i,e){return i&&{value:e(i.value),rest:i.rest}}function kt(i,e){const t=e.match(i);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function wr(i,e){const t=e.match(i);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const n=t[1]==="+"?1:-1,r=t[2]?parseInt(t[2],10):0,s=t[3]?parseInt(t[3],10):0,o=t[5]?parseInt(t[5],10):0;return{value:n*(r*_g+s*yg+o*yU),rest:e.slice(t[0].length)}}function vk(i){return kt(zt.anyDigitsSigned,i)}function Lt(i,e){switch(i){case 1:return kt(zt.singleDigit,e);case 2:return kt(zt.twoDigits,e);case 3:return kt(zt.threeDigits,e);case 4:return kt(zt.fourDigits,e);default:return kt(new RegExp("^\\d{1,"+i+"}"),e)}}function Dm(i,e){switch(i){case 1:return kt(zt.singleDigitSigned,e);case 2:return kt(zt.twoDigitsSigned,e);case 3:return kt(zt.threeDigitsSigned,e);case 4:return kt(zt.fourDigitsSigned,e);default:return kt(new RegExp("^-?\\d{1,"+i+"}"),e)}}function S0(i){switch(i){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function bk(i,e){const t=e>0,n=t?e:1-e;let r;if(n<=50)r=i||100;else{const s=n+50,o=Math.trunc(s/100)*100,c=i>=s%100;r=i+o-(c?100:0)}return t?r:1-r}function wk(i){return i%400===0||i%4===0&&i%100!==0}class k9 extends nt{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,n){const r=s=>({year:s,isTwoDigitYear:t==="yy"});switch(t){case"y":return Ht(Lt(4,e),r);case"yo":return Ht(n.ordinalNumber(e,{unit:"year"}),r);default:return Ht(Lt(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const r=e.getFullYear();if(n.isTwoDigitYear){const o=bk(n.year,r);return e.setFullYear(o,0,1),e.setHours(0,0,0,0),e}const s=!("era"in t)||t.era===1?n.year:1-n.year;return e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}}class M9 extends nt{priority=130;parse(e,t,n){const r=s=>({year:s,isTwoDigitYear:t==="YY"});switch(t){case"Y":return Ht(Lt(4,e),r);case"Yo":return Ht(n.ordinalNumber(e,{unit:"year"}),r);default:return Ht(Lt(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,r){const s=T0(e,r);if(n.isTwoDigitYear){const c=bk(n.year,s);return e.setFullYear(c,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),Ms(e,r)}const o=!("era"in t)||t.era===1?n.year:1-n.year;return e.setFullYear(o,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),Ms(e,r)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class I9 extends nt{priority=130;parse(e,t){return Dm(t==="R"?4:t.length,e)}set(e,t,n){const r=ht(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Lc(r)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class O9 extends nt{priority=130;parse(e,t){return Dm(t==="u"?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class P9 extends nt{priority=120;parse(e,t,n){switch(t){case"Q":case"QQ":return Lt(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class N9 extends nt{priority=120;parse(e,t,n){switch(t){case"q":case"qq":return Lt(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class L9 extends nt{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,n){const r=s=>s-1;switch(t){case"M":return Ht(kt(zt.month,e),r);case"MM":return Ht(Lt(2,e),r);case"Mo":return Ht(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}}class V9 extends nt{priority=110;parse(e,t,n){const r=s=>s-1;switch(t){case"L":return Ht(kt(zt.month,e),r);case"LL":return Ht(Lt(2,e),r);case"Lo":return Ht(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function B9(i,e,t){const n=we(i,t?.in),r=gk(n,t)-e;return n.setDate(n.getDate()-r*7),we(n,t?.in)}class F9 extends nt{priority=100;parse(e,t,n){switch(t){case"w":return kt(zt.week,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return Lt(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,r){return Ms(B9(e,n,r),r)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function U9(i,e,t){const n=we(i,t?.in),r=E0(n,t)-e;return n.setDate(n.getDate()-r*7),n}class j9 extends nt{priority=100;parse(e,t,n){switch(t){case"I":return kt(zt.week,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return Lt(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return Lc(U9(e,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const z9=[31,28,31,30,31,30,31,31,30,31,30,31],H9=[31,29,31,30,31,30,31,31,30,31,30,31];class Y9 extends nt{priority=90;subPriority=1;parse(e,t,n){switch(t){case"d":return kt(zt.date,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return Lt(t.length,e)}}validate(e,t){const n=e.getFullYear(),r=wk(n),s=e.getMonth();return r?t>=1&&t<=H9[s]:t>=1&&t<=z9[s]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class q9 extends nt{priority=90;subpriority=1;parse(e,t,n){switch(t){case"D":case"DD":return kt(zt.dayOfYear,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return Lt(t.length,e)}}validate(e,t){const n=e.getFullYear();return wk(n)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function x0(i,e,t){const n=gl(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=we(i,t?.in),o=s.getDay(),h=(e%7+7)%7,d=7-r,p=e<0||e>6?e-(o+d)%7:(h+d)%7-(o+d)%7;return Yi(s,p,t)}class W9 extends nt{priority=90;parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return e=x0(e,n,r),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class G9 extends nt{priority=90;parse(e,t,n,r){const s=o=>{const c=Math.floor((o-1)/7)*7;return(o+r.weekStartsOn+6)%7+c};switch(t){case"e":case"ee":return Ht(Lt(t.length,e),s);case"eo":return Ht(n.ordinalNumber(e,{unit:"day"}),s);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return e=x0(e,n,r),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class $9 extends nt{priority=90;parse(e,t,n,r){const s=o=>{const c=Math.floor((o-1)/7)*7;return(o+r.weekStartsOn+6)%7+c};switch(t){case"c":case"cc":return Ht(Lt(t.length,e),s);case"co":return Ht(n.ordinalNumber(e,{unit:"day"}),s);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return e=x0(e,n,r),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function Q9(i,e,t){const n=we(i,t?.in),r=E9(n,t),s=e-r;return Yi(n,s,t)}class K9 extends nt{priority=90;parse(e,t,n){const r=s=>s===0?7:s;switch(t){case"i":case"ii":return Lt(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return Ht(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return Ht(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return Ht(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiii":default:return Ht(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return e=Q9(e,n),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class X9 extends nt{priority=80;parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(S0(n),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class Z9 extends nt{priority=80;parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(S0(n),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class J9 extends nt{priority=80;parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(S0(n),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class e5 extends nt{priority=70;parse(e,t,n){switch(t){case"h":return kt(zt.hour12h,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return Lt(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const r=e.getHours()>=12;return r&&n<12?e.setHours(n+12,0,0,0):!r&&n===12?e.setHours(0,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class t5 extends nt{priority=70;parse(e,t,n){switch(t){case"H":return kt(zt.hour23h,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return Lt(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class n5 extends nt{priority=70;parse(e,t,n){switch(t){case"K":return kt(zt.hour11h,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return Lt(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class i5 extends nt{priority=70;parse(e,t,n){switch(t){case"k":return kt(zt.hour24h,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return Lt(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const r=n<=24?n%24:n;return e.setHours(r,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class r5 extends nt{priority=60;parse(e,t,n){switch(t){case"m":return kt(zt.minute,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return Lt(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}incompatibleTokens=["t","T"]}class s5 extends nt{priority=50;parse(e,t,n){switch(t){case"s":return kt(zt.second,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return Lt(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}incompatibleTokens=["t","T"]}class a5 extends nt{priority=30;parse(e,t){const n=r=>Math.trunc(r*Math.pow(10,-t.length+3));return Ht(Lt(t.length,e),n)}set(e,t,n){return e.setMilliseconds(n),e}incompatibleTokens=["t","T"]}class o5 extends nt{priority=10;parse(e,t){switch(t){case"X":return wr(br.basicOptionalMinutes,e);case"XX":return wr(br.basic,e);case"XXXX":return wr(br.basicOptionalSeconds,e);case"XXXXX":return wr(br.extendedOptionalSeconds,e);case"XXX":default:return wr(br.extended,e)}}set(e,t,n){return t.timestampIsSet?e:ht(e,e.getTime()-bm(e)-n)}incompatibleTokens=["t","T","x"]}class l5 extends nt{priority=10;parse(e,t){switch(t){case"x":return wr(br.basicOptionalMinutes,e);case"xx":return wr(br.basic,e);case"xxxx":return wr(br.basicOptionalSeconds,e);case"xxxxx":return wr(br.extendedOptionalSeconds,e);case"xxx":default:return wr(br.extended,e)}}set(e,t,n){return t.timestampIsSet?e:ht(e,e.getTime()-bm(e)-n)}incompatibleTokens=["t","T","X"]}class c5 extends nt{priority=40;parse(e){return vk(e)}set(e,t,n){return[ht(e,n*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class u5 extends nt{priority=20;parse(e){return vk(e)}set(e,t,n){return[ht(e,n),{timestampIsSet:!0}]}incompatibleTokens="*"}const h5={G:new R9,y:new k9,Y:new M9,R:new I9,u:new O9,Q:new P9,q:new N9,M:new L9,L:new V9,w:new F9,I:new j9,d:new Y9,D:new q9,E:new W9,e:new G9,c:new $9,i:new K9,a:new X9,b:new Z9,B:new J9,h:new e5,H:new t5,K:new n5,k:new i5,m:new r5,s:new s5,S:new a5,X:new o5,x:new l5,t:new c5,T:new u5},d5=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,f5=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,p5=/^'([^]*?)'?$/,m5=/''/g,g5=/\S/,y5=/[a-zA-Z]/;function _5(i,e,t,n){const r=()=>ht(n?.in||t,NaN),s=w9(),o=n?.locale??s.locale??mk,c=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,h=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0;if(!e)return i?r():we(t,n?.in);const d={firstWeekContainsDate:c,weekStartsOn:h,locale:o},p=[new A9(n?.in,t)],y=e.match(f5).map(T=>{const C=T[0];if(C in nb){const N=nb[C];return N(T,o.formatLong)}return T}).join("").match(d5),_=[];for(let T of y){const C=T[0],N=h5[C];if(N){const{incompatibleTokens:j}=N;if(Array.isArray(j)){const H=_.find(K=>j.includes(K.token)||K.token===C);if(H)throw new RangeError(`The format string mustn't contain \`${H.fullToken}\` and \`${T}\` at the same time`)}else if(N.incompatibleTokens==="*"&&_.length>0)throw new RangeError(`The format string mustn't contain \`${T}\` and any other token at the same time`);_.push({token:C,fullToken:T});const q=N.run(i,T,o.match,d);if(!q)return r();p.push(q.setter),i=q.rest}else{if(C.match(y5))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");if(T==="''"?T="'":C==="'"&&(T=v5(T)),i.indexOf(T)===0)i=i.slice(T.length);else return r()}}if(i.length>0&&g5.test(i))return r();const b=p.map(T=>T.priority).sort((T,C)=>C-T).filter((T,C,N)=>N.indexOf(T)===C).map(T=>p.filter(C=>C.priority===T).sort((C,N)=>N.subPriority-C.subPriority)).map(T=>T[0]);let E=we(t,n?.in);if(isNaN(+E))return r();const S={};for(const T of b){if(!T.validate(E,d))return r();const C=T.set(E,S,d);Array.isArray(C)?(E=C[0],Object.assign(S,C[1])):E=C}return E}function v5(i){return i.match(p5)[1].replace(m5,"'")}function b5(i,e,t){const[n,r]=Ns(t?.in,i,e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function w5(i,e,t){const[n,r]=Ns(t?.in,i,e);return+tb(n)==+tb(r)}function E5(i,e,t){const[n,r]=Ns(t?.in,i,e);return n.getFullYear()===r.getFullYear()}function id(i,e,t){const n=+we(i,t?.in),[r,s]=[+we(e.start,t?.in),+we(e.end,t?.in)].sort((o,c)=>o-c);return n>=r&&n<=s}function T5(i,e,t){return Yi(i,-1,t)}function S5(i,e){const t=()=>ht(e?.in,NaN),r=A5(i);let s;if(r.date){const d=R5(r.date,2);s=k5(d.restDateString,d.year)}if(!s||isNaN(+s))return t();const o=+s;let c=0,h;if(r.time&&(c=M5(r.time),isNaN(c)))return t();if(r.timezone){if(h=I5(r.timezone),isNaN(h))return t()}else{const d=new Date(o+c),p=we(0,e?.in);return p.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),p.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),p}return we(o+c+h,e?.in)}const fp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},x5=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,D5=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,C5=/^([+-])(\d{2})(?::?(\d{2}))?$/;function A5(i){const e={},t=i.split(fp.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],fp.timeZoneDelimiter.test(e.date)&&(e.date=i.split(fp.timeZoneDelimiter)[0],n=i.substr(e.date.length,i.length))),n){const r=fp.timezone.exec(n);r?(e.time=n.replace(r[1],""),e.timezone=r[1]):e.time=n}return e}function R5(i,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=i.match(t);if(!n)return{year:NaN,restDateString:""};const r=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?r:s*100,restDateString:i.slice((n[1]||n[2]).length)}}function k5(i,e){if(e===null)return new Date(NaN);const t=i.match(x5);if(!t)return new Date(NaN);const n=!!t[4],r=gh(t[1]),s=gh(t[2])-1,o=gh(t[3]),c=gh(t[4]),h=gh(t[5])-1;if(n)return V5(e,c,h)?O5(e,c,h):new Date(NaN);{const d=new Date(0);return!N5(e,s,o)||!L5(e,r)?new Date(NaN):(d.setUTCFullYear(e,s,Math.max(r,o)),d)}}function gh(i){return i?parseInt(i):1}function M5(i){const e=i.match(D5);if(!e)return NaN;const t=tv(e[1]),n=tv(e[2]),r=tv(e[3]);return B5(t,n,r)?t*_g+n*yg+r*1e3:NaN}function tv(i){return i&&parseFloat(i.replace(",","."))||0}function I5(i){if(i==="Z")return 0;const e=i.match(C5);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),r=e[3]&&parseInt(e[3])||0;return F5(n,r)?t*(n*_g+r*yg):NaN}function O5(i,e,t){const n=new Date(0);n.setUTCFullYear(i,0,4);const r=n.getUTCDay()||7,s=(e-1)*7+t+1-r;return n.setUTCDate(n.getUTCDate()+s),n}const P5=[31,null,31,30,31,30,31,31,30,31,30,31];function Ek(i){return i%400===0||i%4===0&&i%100!==0}function N5(i,e,t){return e>=0&&e<=11&&t>=1&&t<=(P5[e]||(Ek(i)?29:28))}function L5(i,e){return e>=1&&e<=(Ek(i)?366:365)}function V5(i,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function B5(i,e,t){return i===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&i>=0&&i<25}function F5(i,e){return e>=0&&e<=59}function Ai(i,e,t){const n=we(i,t?.in),r=n.getFullYear(),s=n.getDate(),o=ht(i,0);o.setFullYear(r,e,15),o.setHours(0,0,0,0);const c=b9(o);return n.setMonth(e,Math.min(s,c)),n}function Wp(i,e,t){const n=we(i,t?.in);return n.setHours(e),n}function Gp(i,e,t){const n=we(i,t?.in);return n.setMinutes(e),n}function yc(i,e,t){const n=we(i,t?.in),r=Math.trunc(n.getMonth()/3)+1,s=e-r;return Ai(n,n.getMonth()+s*3)}function $p(i,e,t){const n=we(i,t?.in);return n.setSeconds(e),n}function _r(i,e,t){const n=we(i,t?.in);return isNaN(+n)?ht(i,NaN):(n.setFullYear(e),n)}function Go(i,e,t){return $i(i,-e,t)}function Tk(i,e,t){return w0(i,-1,t)}function o1(i,e,t){return wm(i,-1,t)}function Bc(i,e,t){return ws(i,-e,t)}function bg(){return typeof window<"u"}function nu(i){return Sk(i)?(i.nodeName||"").toLowerCase():"#document"}function ui(i){var e;return(i==null||(e=i.ownerDocument)==null?void 0:e.defaultView)||window}function Nr(i){var e;return(e=(Sk(i)?i.ownerDocument:i.document)||window.document)==null?void 0:e.documentElement}function Sk(i){return bg()?i instanceof Node||i instanceof ui(i).Node:!1}function Yn(i){return bg()?i instanceof Element||i instanceof ui(i).Element:!1}function Or(i){return bg()?i instanceof HTMLElement||i instanceof ui(i).HTMLElement:!1}function l1(i){return!bg()||typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof ui(i).ShadowRoot}const U5=new Set(["inline","contents"]);function Cd(i){const{overflow:e,overflowX:t,overflowY:n,display:r}=Pi(i);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!U5.has(r)}const j5=new Set(["table","td","th"]);function z5(i){return j5.has(nu(i))}const H5=[":popover-open",":modal"];function wg(i){return H5.some(e=>{try{return i.matches(e)}catch{return!1}})}const Y5=["transform","translate","scale","rotate","perspective"],q5=["transform","translate","scale","rotate","perspective","filter"],W5=["paint","layout","strict","content"];function D0(i){const e=C0(),t=Yn(i)?Pi(i):i;return Y5.some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||q5.some(n=>(t.willChange||"").includes(n))||W5.some(n=>(t.contain||"").includes(n))}function G5(i){let e=Fa(i);for(;Or(e)&&!Fc(e);){if(D0(e))return e;if(wg(e))return null;e=Fa(e)}return null}function C0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const $5=new Set(["html","body","#document"]);function Fc(i){return $5.has(nu(i))}function Pi(i){return ui(i).getComputedStyle(i)}function Eg(i){return Yn(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.scrollX,scrollTop:i.scrollY}}function Fa(i){if(nu(i)==="html")return i;const e=i.assignedSlot||i.parentNode||l1(i)&&i.host||Nr(i);return l1(e)?e.host:e}function xk(i){const e=Fa(i);return Fc(e)?i.ownerDocument?i.ownerDocument.body:i.body:Or(e)&&Cd(e)?e:xk(e)}function rd(i,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const r=xk(i),s=r===((n=i.ownerDocument)==null?void 0:n.body),o=ui(r);if(s){const c=rb(o);return e.concat(o,o.visualViewport||[],Cd(r)?r:[],c&&t?rd(c):[])}return e.concat(r,rd(r,[],t))}function rb(i){return i.parent&&Object.getPrototypeOf(i.parent)?i.frameElement:null}const Uc=Math.min,$o=Math.max,Cm=Math.round,pp=Math.floor,Rr=i=>({x:i,y:i}),Q5={left:"right",right:"left",bottom:"top",top:"bottom"},K5={start:"end",end:"start"};function X5(i,e,t){return $o(i,Uc(e,t))}function Tg(i,e){return typeof i=="function"?i(e):i}function jc(i){return i.split("-")[0]}function Ad(i){return i.split("-")[1]}function Z5(i){return i==="x"?"y":"x"}function A0(i){return i==="y"?"height":"width"}const J5=new Set(["top","bottom"]);function Ho(i){return J5.has(jc(i))?"y":"x"}function R0(i){return Z5(Ho(i))}function ej(i,e,t){t===void 0&&(t=!1);const n=Ad(i),r=R0(i),s=A0(r);let o=r==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Am(o)),[o,Am(o)]}function tj(i){const e=Am(i);return[sb(i),e,sb(e)]}function sb(i){return i.replace(/start|end/g,e=>K5[e])}const c1=["left","right"],u1=["right","left"],nj=["top","bottom"],ij=["bottom","top"];function rj(i,e,t){switch(i){case"top":case"bottom":return t?e?u1:c1:e?c1:u1;case"left":case"right":return e?nj:ij;default:return[]}}function sj(i,e,t,n){const r=Ad(i);let s=rj(jc(i),t==="start",n);return r&&(s=s.map(o=>o+"-"+r),e&&(s=s.concat(s.map(sb)))),s}function Am(i){return i.replace(/left|right|bottom|top/g,e=>Q5[e])}function aj(i){return{top:0,right:0,bottom:0,left:0,...i}}function Dk(i){return typeof i!="number"?aj(i):{top:i,right:i,bottom:i,left:i}}function Rm(i){const{x:e,y:t,width:n,height:r}=i;return{width:n,height:r,top:t,left:e,right:e+n,bottom:t+r,x:e,y:t}}var oj=typeof document<"u",lj=function(){},km=oj?P.useLayoutEffect:lj;const cj={...lC},uj=cj.useInsertionEffect,hj=uj||(i=>i());function dj(i){const e=P.useRef(()=>{});return hj(()=>{e.current=i}),P.useCallback(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.current==null?void 0:e.current(...n)},[])}function h1(i,e,t){let{reference:n,floating:r}=i;const s=Ho(e),o=R0(e),c=A0(o),h=jc(e),d=s==="y",p=n.x+n.width/2-r.width/2,y=n.y+n.height/2-r.height/2,_=n[c]/2-r[c]/2;let b;switch(h){case"top":b={x:p,y:n.y-r.height};break;case"bottom":b={x:p,y:n.y+n.height};break;case"right":b={x:n.x+n.width,y};break;case"left":b={x:n.x-r.width,y};break;default:b={x:n.x,y:n.y}}switch(Ad(e)){case"start":b[o]-=_*(t&&d?-1:1);break;case"end":b[o]+=_*(t&&d?-1:1);break}return b}const fj=async(i,e,t)=>{const{placement:n="bottom",strategy:r="absolute",middleware:s=[],platform:o}=t,c=s.filter(Boolean),h=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:i,floating:e,strategy:r}),{x:p,y}=h1(d,n,h),_=n,b={},E=0;for(let S=0;S<c.length;S++){const{name:T,fn:C}=c[S],{x:N,y:j,data:q,reset:H}=await C({x:p,y,initialPlacement:n,placement:_,strategy:r,middlewareData:b,rects:d,platform:o,elements:{reference:i,floating:e}});p=N??p,y=j??y,b={...b,[T]:{...b[T],...q}},H&&E<=50&&(E++,typeof H=="object"&&(H.placement&&(_=H.placement),H.rects&&(d=H.rects===!0?await o.getElementRects({reference:i,floating:e,strategy:r}):H.rects),{x:p,y}=h1(d,_,h)),S=-1)}return{x:p,y,placement:_,strategy:r,middlewareData:b}};async function pj(i,e){var t;e===void 0&&(e={});const{x:n,y:r,platform:s,rects:o,elements:c,strategy:h}=i,{boundary:d="clippingAncestors",rootBoundary:p="viewport",elementContext:y="floating",altBoundary:_=!1,padding:b=0}=Tg(e,i),E=Dk(b),T=c[_?y==="floating"?"reference":"floating":y],C=Rm(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(T)))==null||t?T:T.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:d,rootBoundary:p,strategy:h})),N=y==="floating"?{x:n,y:r,width:o.floating.width,height:o.floating.height}:o.reference,j=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),q=await(s.isElement==null?void 0:s.isElement(j))?await(s.getScale==null?void 0:s.getScale(j))||{x:1,y:1}:{x:1,y:1},H=Rm(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:N,offsetParent:j,strategy:h}):N);return{top:(C.top-H.top+E.top)/q.y,bottom:(H.bottom-C.bottom+E.bottom)/q.y,left:(C.left-H.left+E.left)/q.x,right:(H.right-C.right+E.right)/q.x}}const mj=i=>({name:"arrow",options:i,async fn(e){const{x:t,y:n,placement:r,rects:s,platform:o,elements:c,middlewareData:h}=e,{element:d,padding:p=0}=Tg(i,e)||{};if(d==null)return{};const y=Dk(p),_={x:t,y:n},b=R0(r),E=A0(b),S=await o.getDimensions(d),T=b==="y",C=T?"top":"left",N=T?"bottom":"right",j=T?"clientHeight":"clientWidth",q=s.reference[E]+s.reference[b]-_[b]-s.floating[E],H=_[b]-s.reference[b],K=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let M=K?K[j]:0;(!M||!await(o.isElement==null?void 0:o.isElement(K)))&&(M=c.floating[j]||s.floating[E]);const A=q/2-H/2,k=M/2-S[E]/2-1,L=Uc(y[C],k),B=Uc(y[N],k),U=L,V=M-S[E]-B,_e=M/2-S[E]/2+A,de=X5(U,_e,V),W=!h.arrow&&Ad(r)!=null&&_e!==de&&s.reference[E]/2-(_e<U?L:B)-S[E]/2<0,ee=W?_e<U?_e-U:_e-V:0;return{[b]:_[b]+ee,data:{[b]:de,centerOffset:_e-de-ee,...W&&{alignmentOffset:ee}},reset:W}}}),gj=function(i){return i===void 0&&(i={}),{name:"flip",options:i,async fn(e){var t,n;const{placement:r,middlewareData:s,rects:o,initialPlacement:c,platform:h,elements:d}=e,{mainAxis:p=!0,crossAxis:y=!0,fallbackPlacements:_,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:S=!0,...T}=Tg(i,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const C=jc(r),N=Ho(c),j=jc(c)===c,q=await(h.isRTL==null?void 0:h.isRTL(d.floating)),H=_||(j||!S?[Am(c)]:tj(c)),K=E!=="none";!_&&K&&H.push(...sj(c,S,E,q));const M=[c,...H],A=await pj(e,T),k=[];let L=((n=s.flip)==null?void 0:n.overflows)||[];if(p&&k.push(A[C]),y){const _e=ej(r,o,q);k.push(A[_e[0]],A[_e[1]])}if(L=[...L,{placement:r,overflows:k}],!k.every(_e=>_e<=0)){var B,U;const _e=(((B=s.flip)==null?void 0:B.index)||0)+1,de=M[_e];if(de&&(!(y==="alignment"?N!==Ho(de):!1)||L.every(ne=>Ho(ne.placement)===N?ne.overflows[0]>0:!0)))return{data:{index:_e,overflows:L},reset:{placement:de}};let W=(U=L.filter(ee=>ee.overflows[0]<=0).sort((ee,ne)=>ee.overflows[1]-ne.overflows[1])[0])==null?void 0:U.placement;if(!W)switch(b){case"bestFit":{var V;const ee=(V=L.filter(ne=>{if(K){const le=Ho(ne.placement);return le===N||le==="y"}return!0}).map(ne=>[ne.placement,ne.overflows.filter(le=>le>0).reduce((le,F)=>le+F,0)]).sort((ne,le)=>ne[1]-le[1])[0])==null?void 0:V[0];ee&&(W=ee);break}case"initialPlacement":W=c;break}if(r!==W)return{reset:{placement:W}}}return{}}}},yj=new Set(["left","top"]);async function _j(i,e){const{placement:t,platform:n,elements:r}=i,s=await(n.isRTL==null?void 0:n.isRTL(r.floating)),o=jc(t),c=Ad(t),h=Ho(t)==="y",d=yj.has(o)?-1:1,p=s&&h?-1:1,y=Tg(e,i);let{mainAxis:_,crossAxis:b,alignmentAxis:E}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return c&&typeof E=="number"&&(b=c==="end"?E*-1:E),h?{x:b*p,y:_*d}:{x:_*d,y:b*p}}const vj=function(i){return i===void 0&&(i=0),{name:"offset",options:i,async fn(e){var t,n;const{x:r,y:s,placement:o,middlewareData:c}=e,h=await _j(e,i);return o===((t=c.offset)==null?void 0:t.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:r+h.x,y:s+h.y,data:{...h,placement:o}}}}};function Ck(i){const e=Pi(i);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const r=Or(i),s=r?i.offsetWidth:t,o=r?i.offsetHeight:n,c=Cm(t)!==s||Cm(n)!==o;return c&&(t=s,n=o),{width:t,height:n,$:c}}function k0(i){return Yn(i)?i:i.contextElement}function xc(i){const e=k0(i);if(!Or(e))return Rr(1);const t=e.getBoundingClientRect(),{width:n,height:r,$:s}=Ck(e);let o=(s?Cm(t.width):t.width)/n,c=(s?Cm(t.height):t.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const bj=Rr(0);function Ak(i){const e=ui(i);return!C0()||!e.visualViewport?bj:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function wj(i,e,t){return e===void 0&&(e=!1),!t||e&&t!==ui(i)?!1:e}function sl(i,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=i.getBoundingClientRect(),s=k0(i);let o=Rr(1);e&&(n?Yn(n)&&(o=xc(n)):o=xc(i));const c=wj(s,t,n)?Ak(s):Rr(0);let h=(r.left+c.x)/o.x,d=(r.top+c.y)/o.y,p=r.width/o.x,y=r.height/o.y;if(s){const _=ui(s),b=n&&Yn(n)?ui(n):n;let E=_,S=rb(E);for(;S&&n&&b!==E;){const T=xc(S),C=S.getBoundingClientRect(),N=Pi(S),j=C.left+(S.clientLeft+parseFloat(N.paddingLeft))*T.x,q=C.top+(S.clientTop+parseFloat(N.paddingTop))*T.y;h*=T.x,d*=T.y,p*=T.x,y*=T.y,h+=j,d+=q,E=ui(S),S=rb(E)}}return Rm({width:p,height:y,x:h,y:d})}function M0(i,e){const t=Eg(i).scrollLeft;return e?e.left+t:sl(Nr(i)).left+t}function Rk(i,e,t){t===void 0&&(t=!1);const n=i.getBoundingClientRect(),r=n.left+e.scrollLeft-(t?0:M0(i,n)),s=n.top+e.scrollTop;return{x:r,y:s}}function Ej(i){let{elements:e,rect:t,offsetParent:n,strategy:r}=i;const s=r==="fixed",o=Nr(n),c=e?wg(e.floating):!1;if(n===o||c&&s)return t;let h={scrollLeft:0,scrollTop:0},d=Rr(1);const p=Rr(0),y=Or(n);if((y||!y&&!s)&&((nu(n)!=="body"||Cd(o))&&(h=Eg(n)),Or(n))){const b=sl(n);d=xc(n),p.x=b.x+n.clientLeft,p.y=b.y+n.clientTop}const _=o&&!y&&!s?Rk(o,h,!0):Rr(0);return{width:t.width*d.x,height:t.height*d.y,x:t.x*d.x-h.scrollLeft*d.x+p.x+_.x,y:t.y*d.y-h.scrollTop*d.y+p.y+_.y}}function Tj(i){return Array.from(i.getClientRects())}function Sj(i){const e=Nr(i),t=Eg(i),n=i.ownerDocument.body,r=$o(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=$o(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-t.scrollLeft+M0(i);const c=-t.scrollTop;return Pi(n).direction==="rtl"&&(o+=$o(e.clientWidth,n.clientWidth)-r),{width:r,height:s,x:o,y:c}}function xj(i,e){const t=ui(i),n=Nr(i),r=t.visualViewport;let s=n.clientWidth,o=n.clientHeight,c=0,h=0;if(r){s=r.width,o=r.height;const d=C0();(!d||d&&e==="fixed")&&(c=r.offsetLeft,h=r.offsetTop)}return{width:s,height:o,x:c,y:h}}const Dj=new Set(["absolute","fixed"]);function Cj(i,e){const t=sl(i,!0,e==="fixed"),n=t.top+i.clientTop,r=t.left+i.clientLeft,s=Or(i)?xc(i):Rr(1),o=i.clientWidth*s.x,c=i.clientHeight*s.y,h=r*s.x,d=n*s.y;return{width:o,height:c,x:h,y:d}}function d1(i,e,t){let n;if(e==="viewport")n=xj(i,t);else if(e==="document")n=Sj(Nr(i));else if(Yn(e))n=Cj(e,t);else{const r=Ak(i);n={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return Rm(n)}function kk(i,e){const t=Fa(i);return t===e||!Yn(t)||Fc(t)?!1:Pi(t).position==="fixed"||kk(t,e)}function Aj(i,e){const t=e.get(i);if(t)return t;let n=rd(i,[],!1).filter(c=>Yn(c)&&nu(c)!=="body"),r=null;const s=Pi(i).position==="fixed";let o=s?Fa(i):i;for(;Yn(o)&&!Fc(o);){const c=Pi(o),h=D0(o);!h&&c.position==="fixed"&&(r=null),(s?!h&&!r:!h&&c.position==="static"&&!!r&&Dj.has(r.position)||Cd(o)&&!h&&kk(i,o))?n=n.filter(p=>p!==o):r=c,o=Fa(o)}return e.set(i,n),n}function Rj(i){let{element:e,boundary:t,rootBoundary:n,strategy:r}=i;const o=[...t==="clippingAncestors"?wg(e)?[]:Aj(e,this._c):[].concat(t),n],c=o[0],h=o.reduce((d,p)=>{const y=d1(e,p,r);return d.top=$o(y.top,d.top),d.right=Uc(y.right,d.right),d.bottom=Uc(y.bottom,d.bottom),d.left=$o(y.left,d.left),d},d1(e,c,r));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function kj(i){const{width:e,height:t}=Ck(i);return{width:e,height:t}}function Mj(i,e,t){const n=Or(e),r=Nr(e),s=t==="fixed",o=sl(i,!0,s,e);let c={scrollLeft:0,scrollTop:0};const h=Rr(0);function d(){h.x=M0(r)}if(n||!n&&!s)if((nu(e)!=="body"||Cd(r))&&(c=Eg(e)),n){const b=sl(e,!0,s,e);h.x=b.x+e.clientLeft,h.y=b.y+e.clientTop}else r&&d();s&&!n&&r&&d();const p=r&&!n&&!s?Rk(r,c):Rr(0),y=o.left+c.scrollLeft-h.x-p.x,_=o.top+c.scrollTop-h.y-p.y;return{x:y,y:_,width:o.width,height:o.height}}function nv(i){return Pi(i).position==="static"}function f1(i,e){if(!Or(i)||Pi(i).position==="fixed")return null;if(e)return e(i);let t=i.offsetParent;return Nr(i)===t&&(t=t.ownerDocument.body),t}function Mk(i,e){const t=ui(i);if(wg(i))return t;if(!Or(i)){let r=Fa(i);for(;r&&!Fc(r);){if(Yn(r)&&!nv(r))return r;r=Fa(r)}return t}let n=f1(i,e);for(;n&&z5(n)&&nv(n);)n=f1(n,e);return n&&Fc(n)&&nv(n)&&!D0(n)?t:n||G5(i)||t}const Ij=async function(i){const e=this.getOffsetParent||Mk,t=this.getDimensions,n=await t(i.floating);return{reference:Mj(i.reference,await e(i.floating),i.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Oj(i){return Pi(i).direction==="rtl"}const Pj={convertOffsetParentRelativeRectToViewportRelativeRect:Ej,getDocumentElement:Nr,getClippingRect:Rj,getOffsetParent:Mk,getElementRects:Ij,getClientRects:Tj,getDimensions:kj,getScale:xc,isElement:Yn,isRTL:Oj};function Ik(i,e){return i.x===e.x&&i.y===e.y&&i.width===e.width&&i.height===e.height}function Nj(i,e){let t=null,n;const r=Nr(i);function s(){var c;clearTimeout(n),(c=t)==null||c.disconnect(),t=null}function o(c,h){c===void 0&&(c=!1),h===void 0&&(h=1),s();const d=i.getBoundingClientRect(),{left:p,top:y,width:_,height:b}=d;if(c||e(),!_||!b)return;const E=pp(y),S=pp(r.clientWidth-(p+_)),T=pp(r.clientHeight-(y+b)),C=pp(p),j={rootMargin:-E+"px "+-S+"px "+-T+"px "+-C+"px",threshold:$o(0,Uc(1,h))||1};let q=!0;function H(K){const M=K[0].intersectionRatio;if(M!==h){if(!q)return o();M?o(!1,M):n=setTimeout(()=>{o(!1,1e-7)},1e3)}M===1&&!Ik(d,i.getBoundingClientRect())&&o(),q=!1}try{t=new IntersectionObserver(H,{...j,root:r.ownerDocument})}catch{t=new IntersectionObserver(H,j)}t.observe(i)}return o(!0),s}function Lj(i,e,t,n){n===void 0&&(n={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:h=!1}=n,d=k0(i),p=r||s?[...d?rd(d):[],...rd(e)]:[];p.forEach(C=>{r&&C.addEventListener("scroll",t,{passive:!0}),s&&C.addEventListener("resize",t)});const y=d&&c?Nj(d,t):null;let _=-1,b=null;o&&(b=new ResizeObserver(C=>{let[N]=C;N&&N.target===d&&b&&(b.unobserve(e),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var j;(j=b)==null||j.observe(e)})),t()}),d&&!h&&b.observe(d),b.observe(e));let E,S=h?sl(i):null;h&&T();function T(){const C=sl(i);S&&!Ik(S,C)&&t(),S=C,E=requestAnimationFrame(T)}return t(),()=>{var C;p.forEach(N=>{r&&N.removeEventListener("scroll",t),s&&N.removeEventListener("resize",t)}),y?.(),(C=b)==null||C.disconnect(),b=null,h&&cancelAnimationFrame(E)}}const Vj=vj,Bj=gj,p1=mj,Fj=(i,e,t)=>{const n=new Map,r={platform:Pj,...t},s={...r.platform,_c:n};return fj(i,e,{...r,platform:s})};var Uj=typeof document<"u",jj=function(){},Qp=Uj?P.useLayoutEffect:jj;function Mm(i,e){if(i===e)return!0;if(typeof i!=typeof e)return!1;if(typeof i=="function"&&i.toString()===e.toString())return!0;let t,n,r;if(i&&e&&typeof i=="object"){if(Array.isArray(i)){if(t=i.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!Mm(i[n],e[n]))return!1;return!0}if(r=Object.keys(i),t=r.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,r[n]))return!1;for(n=t;n--!==0;){const s=r[n];if(!(s==="_owner"&&i.$$typeof)&&!Mm(i[s],e[s]))return!1}return!0}return i!==i&&e!==e}function Ok(i){return typeof window>"u"?1:(i.ownerDocument.defaultView||window).devicePixelRatio||1}function m1(i,e){const t=Ok(i);return Math.round(e*t)/t}function iv(i){const e=P.useRef(i);return Qp(()=>{e.current=i}),e}function zj(i){i===void 0&&(i={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:r,elements:{reference:s,floating:o}={},transform:c=!0,whileElementsMounted:h,open:d}=i,[p,y]=P.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[_,b]=P.useState(n);Mm(_,n)||b(n);const[E,S]=P.useState(null),[T,C]=P.useState(null),N=P.useCallback(ne=>{ne!==K.current&&(K.current=ne,S(ne))},[]),j=P.useCallback(ne=>{ne!==M.current&&(M.current=ne,C(ne))},[]),q=s||E,H=o||T,K=P.useRef(null),M=P.useRef(null),A=P.useRef(p),k=h!=null,L=iv(h),B=iv(r),U=iv(d),V=P.useCallback(()=>{if(!K.current||!M.current)return;const ne={placement:e,strategy:t,middleware:_};B.current&&(ne.platform=B.current),Fj(K.current,M.current,ne).then(le=>{const F={...le,isPositioned:U.current!==!1};_e.current&&!Mm(A.current,F)&&(A.current=F,SC.flushSync(()=>{y(F)}))})},[_,e,t,B,U]);Qp(()=>{d===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,y(ne=>({...ne,isPositioned:!1})))},[d]);const _e=P.useRef(!1);Qp(()=>(_e.current=!0,()=>{_e.current=!1}),[]),Qp(()=>{if(q&&(K.current=q),H&&(M.current=H),q&&H){if(L.current)return L.current(q,H,V);V()}},[q,H,V,L,k]);const de=P.useMemo(()=>({reference:K,floating:M,setReference:N,setFloating:j}),[N,j]),W=P.useMemo(()=>({reference:q,floating:H}),[q,H]),ee=P.useMemo(()=>{const ne={position:t,left:0,top:0};if(!W.floating)return ne;const le=m1(W.floating,p.x),F=m1(W.floating,p.y);return c?{...ne,transform:"translate("+le+"px, "+F+"px)",...Ok(W.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:le,top:F}},[t,c,W.floating,p.x,p.y]);return P.useMemo(()=>({...p,update:V,refs:de,elements:W,floatingStyles:ee}),[p,V,de,W,ee])}const Hj=i=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:i,fn(t){const{element:n,padding:r}=typeof i=="function"?i(t):i;return n&&e(n)?n.current!=null?p1({element:n.current,padding:r}).fn(t):{}:n?p1({element:n,padding:r}).fn(t):{}}}},Yj=(i,e)=>({...Vj(i),options:[i,e]}),qj=(i,e)=>({...Bj(i),options:[i,e]}),Wj=(i,e)=>({...Hj(i),options:[i,e]}),Gj={...lC};let g1=!1,$j=0;const y1=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+$j++;function Qj(){const[i,e]=P.useState(()=>g1?y1():void 0);return km(()=>{i==null&&e(y1())},[]),P.useEffect(()=>{g1=!0},[]),i}const Kj=Gj.useId,Pk=Kj||Qj,Xj=P.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:r},middlewareData:{arrow:s,shift:o}},width:c=14,height:h=7,tipRadius:d=0,strokeWidth:p=0,staticOffset:y,stroke:_,d:b,style:{transform:E,...S}={},...T}=e,C=Pk(),[N,j]=P.useState(!1);if(km(()=>{if(!r)return;Pi(r).direction==="rtl"&&j(!0)},[r]),!r)return null;const[q,H]=n.split("-"),K=q==="top"||q==="bottom";let M=y;(K&&o!=null&&o.x||!K&&o!=null&&o.y)&&(M=null);const A=p*2,k=A/2,L=c/2*(d/-8+1),B=h/2*d/4,U=!!b,V=M&&H==="end"?"bottom":"top";let _e=M&&H==="end"?"right":"left";M&&N&&(_e=H==="end"?"left":"right");const de=s?.x!=null?M||s.x:"",W=s?.y!=null?M||s.y:"",ee=b||"M0,0"+(" H"+c)+(" L"+(c-L)+","+(h-B))+(" Q"+c/2+","+h+" "+L+","+(h-B))+" Z",ne={top:U?"rotate(180deg)":"",left:U?"rotate(90deg)":"rotate(-90deg)",bottom:U?"":"rotate(180deg)",right:U?"rotate(-90deg)":"rotate(90deg)"}[q];return O.jsxs("svg",{...T,"aria-hidden":!0,ref:t,width:U?c:c+A,height:c,viewBox:"0 0 "+c+" "+(h>c?h:c),style:{position:"absolute",pointerEvents:"none",[_e]:de,[V]:W,[q]:K||U?"100%":"calc(100% - "+A/2+"px)",transform:[ne,E].filter(le=>!!le).join(" "),...S},children:[A>0&&O.jsx("path",{clipPath:"url(#"+C+")",fill:"none",stroke:_,strokeWidth:A+(b?0:1),d:ee}),O.jsx("path",{stroke:A&&!b?T.fill:"none",d:ee}),O.jsx("clipPath",{id:C,children:O.jsx("rect",{x:-k,y:k*(U?-1:1),width:c+A,height:c})})]})});function Zj(){const i=new Map;return{emit(e,t){var n;(n=i.get(e))==null||n.forEach(r=>r(t))},on(e,t){i.has(e)||i.set(e,new Set),i.get(e).add(t)},off(e,t){var n;(n=i.get(e))==null||n.delete(t)}}}const Jj=P.createContext(null),ez=P.createContext(null),tz=()=>{var i;return((i=P.useContext(Jj))==null?void 0:i.id)||null},nz=()=>P.useContext(ez);function iz(i){const{open:e=!1,onOpenChange:t,elements:n}=i,r=Pk(),s=P.useRef({}),[o]=P.useState(()=>Zj()),c=tz()!=null,[h,d]=P.useState(n.reference),p=dj((b,E,S)=>{s.current.openEvent=b?E:void 0,o.emit("openchange",{open:b,event:E,reason:S,nested:c}),t?.(b,E,S)}),y=P.useMemo(()=>({setPositionReference:d}),[]),_=P.useMemo(()=>({reference:h||n.reference||null,floating:n.floating||null,domReference:n.reference}),[h,n.reference,n.floating]);return P.useMemo(()=>({dataRef:s,open:e,onOpenChange:p,elements:_,events:o,floatingId:r,refs:y}),[e,p,_,o,r,y])}function rz(i){i===void 0&&(i={});const{nodeId:e}=i,t=iz({...i,elements:{reference:null,floating:null,...i.elements}}),n=i.rootContext||t,r=n.elements,[s,o]=P.useState(null),[c,h]=P.useState(null),p=r?.domReference||s,y=P.useRef(null),_=nz();km(()=>{p&&(y.current=p)},[p]);const b=zj({...i,elements:{...r,...c&&{reference:c}}}),E=P.useCallback(j=>{const q=Yn(j)?{getBoundingClientRect:()=>j.getBoundingClientRect(),getClientRects:()=>j.getClientRects(),contextElement:j}:j;h(q),b.refs.setReference(q)},[b.refs]),S=P.useCallback(j=>{(Yn(j)||j===null)&&(y.current=j,o(j)),(Yn(b.refs.reference.current)||b.refs.reference.current===null||j!==null&&!Yn(j))&&b.refs.setReference(j)},[b.refs]),T=P.useMemo(()=>({...b.refs,setReference:S,setPositionReference:E,domReference:y}),[b.refs,S,E]),C=P.useMemo(()=>({...b.elements,domReference:p}),[b.elements,p]),N=P.useMemo(()=>({...b,...n,refs:T,elements:C,nodeId:e}),[b,T,C,e,n]);return km(()=>{n.dataRef.current.floatingContext=N;const j=_?.nodesRef.current.find(q=>q.id===e);j&&(j.context=N)}),P.useMemo(()=>({...b,context:N,refs:T,elements:C}),[b,T,C,N])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var ab=function(e,t){return ab=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},ab(e,t)};function mn(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ab(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Ke=function(){return Ke=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ke.apply(this,arguments)};function Er(i,e,t){if(t||arguments.length===2)for(var n=0,r=e.length,s;n<r;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return i.concat(s||Array.prototype.slice.call(e))}var sz=function(i){var e=i.showTimeSelectOnly,t=e===void 0?!1:e,n=i.showTime,r=n===void 0?!1:n,s=i.className,o=i.children,c=t?"Choose Time":"Choose Date".concat(r?" and Time":"");return ie.createElement("div",{className:s,role:"dialog","aria-label":c,"aria-modal":"true"},o)},az=function(i,e){var t=P.useRef(null),n=P.useRef(i);n.current=i;var r=P.useCallback(function(s){var o,c=s.composed&&s.composedPath&&s.composedPath().find(function(h){return h instanceof Node})||s.target;t.current&&!t.current.contains(c)&&(e&&c instanceof HTMLElement&&c.classList.contains(e)||(o=n.current)===null||o===void 0||o.call(n,s))},[e]);return P.useEffect(function(){return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[r]),t},Sg=function(i){var e=i.children,t=i.onClickOutside,n=i.className,r=i.containerRef,s=i.style,o=i.ignoreClass,c=az(t,o);return ie.createElement("div",{className:n,style:s,ref:function(h){c.current=h,r&&(r.current=h)}},e)},me;(function(i){i.ArrowUp="ArrowUp",i.ArrowDown="ArrowDown",i.ArrowLeft="ArrowLeft",i.ArrowRight="ArrowRight",i.PageUp="PageUp",i.PageDown="PageDown",i.Home="Home",i.End="End",i.Enter="Enter",i.Space=" ",i.Tab="Tab",i.Escape="Escape",i.Backspace="Backspace",i.X="x"})(me||(me={}));function Nk(){var i=typeof window<"u"?window:globalThis;return i}var Rd=12;function rt(i){if(i==null)return new Date;var e=typeof i=="string"?S5(i):we(i);return xg(e)?e:new Date}function rv(i,e,t,n,r){r===void 0&&(r=rt());for(var s=zc(t)||zc(I0()),o=Array.isArray(e)?e:[e],c=0,h=o;c<h.length;c++){var d=h[c],p=_5(i,d,r,{locale:s});if(xg(p)&&(!n||i===Dt(p,d,t)))return p}return null}function xg(i,e){return Em(i)&&!rl(i,new Date("1/1/1800"))}function Dt(i,e,t){if(t==="en")return vc(i,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=t?zc(t):void 0;return t&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),n=n||zc(I0()),vc(i,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Ci(i,e){var t=e.dateFormat,n=e.locale,r=Array.isArray(t)&&t.length>0?t[0]:t;return i&&Dt(i,r,n)||""}var Lk=" - ";function oz(i,e,t){if(!i)return"";var n=Ci(i,t),r=e?Ci(e,t):"";return"".concat(n).concat(Lk).concat(r)}function lz(i,e){if(!i?.length)return"";var t=i[0]?Ci(i[0],e):"";if(i.length===1)return t;if(i.length===2&&i[1]){var n=Ci(i[1],e);return"".concat(t,", ").concat(n)}var r=i.length-1;return"".concat(t," (+").concat(r,")")}function sv(i,e){var t=e.hour,n=t===void 0?0:t,r=e.minute,s=r===void 0?0:r,o=e.second,c=o===void 0?0:o;return Wp(Gp($p(i,c),s),n)}function cz(i){return E0(i)}function uz(i,e){return Dt(i,"ddd",e)}function Kp(i){return il(i)}function ka(i,e,t){var n=zc(e||I0());return Ms(i,{locale:n,weekStartsOn:t})}function xs(i){return fk(i)}function Rh(i){return vg(i)}function _1(i){return tb(i)}function v1(){return il(rt())}function b1(i){return hk(i)}function hz(i){return SU(i)}function dz(i){return dk(i)}function vr(i,e){return i&&e?E5(i,e):!i&&!e}function Hn(i,e){return i&&e?b5(i,e):!i&&!e}function Im(i,e){return i&&e?w5(i,e):!i&&!e}function Qe(i,e){return i&&e?EU(i,e):!i&&!e}function Yo(i,e){return i&&e?T9(i,e):!i&&!e}function kh(i,e,t){var n,r=il(e),s=hk(t);try{n=id(i,{start:r,end:s})}catch{n=!1}return n}function I0(){var i=Nk();return i.__localeId__}function zc(i){if(typeof i=="string"){var e=Nk();return e.__localeData__?e.__localeData__[i]:void 0}else return i}function fz(i,e,t){return e(Dt(i,"EEEE",t))}function pz(i,e){return Dt(i,"EEEEEE",e)}function mz(i,e){return Dt(i,"EEE",e)}function O0(i,e){return Dt(Ai(rt(),i),"LLLL",e)}function Vk(i,e){return Dt(Ai(rt(),i),"LLL",e)}function gz(i,e){return Dt(yc(rt(),i),"QQQ",e)}function Ri(i,e){var t=e===void 0?{}:e,n=t.minDate,r=t.maxDate,s=t.excludeDates,o=t.excludeDateIntervals,c=t.includeDates,h=t.includeDateIntervals,d=t.filterDate;return kd(i,{minDate:n,maxDate:r})||s&&s.some(function(p){return p instanceof Date?Qe(i,p):Qe(i,p.date)})||o&&o.some(function(p){var y=p.start,_=p.end;return id(i,{start:y,end:_})})||c&&!c.some(function(p){return Qe(i,p)})||h&&!h.some(function(p){var y=p.start,_=p.end;return id(i,{start:y,end:_})})||d&&!d(rt(i))||!1}function P0(i,e){var t=e===void 0?{}:e,n=t.excludeDates,r=t.excludeDateIntervals;return r&&r.length>0?r.some(function(s){var o=s.start,c=s.end;return id(i,{start:o,end:c})}):n&&n.some(function(s){var o;return s instanceof Date?Qe(i,s):Qe(i,(o=s.date)!==null&&o!==void 0?o:new Date)})||!1}function Bk(i,e){var t=e===void 0?{}:e,n=t.minDate,r=t.maxDate,s=t.excludeDates,o=t.includeDates,c=t.filterDate;return kd(i,{minDate:n?fk(n):void 0,maxDate:r?dk(r):void 0})||s?.some(function(h){return Hn(i,h instanceof Date?h:h.date)})||o&&!o.some(function(h){return Hn(i,h)})||c&&!c(rt(i))||!1}function mp(i,e,t,n){var r=Le(i),s=Nn(i),o=Le(e),c=Nn(e),h=Le(n);return r===o&&r===h?s<=t&&t<=c:r<o?h===r&&s<=t||h===o&&c>=t||h<o&&h>r:!1}function yz(i,e){var t=e===void 0?{}:e,n=t.minDate,r=t.maxDate,s=t.excludeDates,o=t.includeDates;return kd(i,{minDate:n,maxDate:r})||s&&s.some(function(c){return Hn(c instanceof Date?c:c.date,i)})||o&&!o.some(function(c){return Hn(c,i)})||!1}function gp(i,e){var t=e===void 0?{}:e,n=t.minDate,r=t.maxDate,s=t.excludeDates,o=t.includeDates,c=t.filterDate;return kd(i,{minDate:n,maxDate:r})||s?.some(function(h){return Im(i,h instanceof Date?h:h.date)})||o&&!o.some(function(h){return Im(i,h)})||c&&!c(rt(i))||!1}function yp(i,e,t){if(!e||!t||!Em(e)||!Em(t))return!1;var n=Le(e),r=Le(t);return n<=i&&r>=i}function Xp(i,e){var t=e===void 0?{}:e,n=t.minDate,r=t.maxDate,s=t.excludeDates,o=t.includeDates,c=t.filterDate,h=new Date(i,0,1);return kd(h,{minDate:n?vg(n):void 0,maxDate:r?pk(r):void 0})||s?.some(function(d){return vr(h,d instanceof Date?d:d.date)})||o&&!o.some(function(d){return vr(h,d)})||c&&!c(rt(h))||!1}function _p(i,e,t,n){var r=Le(i),s=Wo(i),o=Le(e),c=Wo(e),h=Le(n);return r===o&&r===h?s<=t&&t<=c:r<o?h===r&&s<=t||h===o&&c>=t||h<o&&h>r:!1}function kd(i,e){var t,n=e===void 0?{}:e,r=n.minDate,s=n.maxDate;return(t=r&&Vc(i,r)<0||s&&Vc(i,s)>0)!==null&&t!==void 0?t:!1}function w1(i,e){return e.some(function(t){return Ts(t)===Ts(i)&&Ss(t)===Ss(i)&&Ra(t)===Ra(i)})}function E1(i,e){var t=e===void 0?{}:e,n=t.excludeTimes,r=t.includeTimes,s=t.filterTime;return n&&w1(i,n)||r&&!w1(i,r)||s&&!s(i)||!1}function T1(i,e){var t=e.minTime,n=e.maxTime;if(!t||!n)throw new Error("Both minTime and maxTime props required");var r=rt();r=Wp(r,Ts(i)),r=Gp(r,Ss(i)),r=$p(r,Ra(i));var s=rt();s=Wp(s,Ts(t)),s=Gp(s,Ss(t)),s=$p(s,Ra(t));var o=rt();o=Wp(o,Ts(n)),o=Gp(o,Ss(n)),o=$p(o,Ra(n));var c;try{c=!id(r,{start:s,end:o})}catch{c=!1}return c}function S1(i,e){var t=e===void 0?{}:e,n=t.minDate,r=t.includeDates,s=Go(i,1);return n&&Tm(n,s)>0||r&&r.every(function(o){return Tm(o,s)>0})||!1}function x1(i,e){var t=e===void 0?{}:e,n=t.maxDate,r=t.includeDates,s=$i(i,1);return n&&Tm(s,n)>0||r&&r.every(function(o){return Tm(s,o)>0})||!1}function _z(i,e){var t=e===void 0?{}:e,n=t.minDate,r=t.includeDates,s=vg(i),o=Tk(s);return n&&Sm(n,o)>0||r&&r.every(function(c){return Sm(c,o)>0})||!1}function vz(i,e){var t=e===void 0?{}:e,n=t.maxDate,r=t.includeDates,s=pk(i),o=w0(s,1);return n&&Sm(o,n)>0||r&&r.every(function(c){return Sm(o,c)>0})||!1}function D1(i,e){var t=e===void 0?{}:e,n=t.minDate,r=t.includeDates,s=Bc(i,1);return n&&xm(n,s)>0||r&&r.every(function(o){return xm(o,s)>0})||!1}function bz(i,e){var t=e===void 0?{}:e,n=t.minDate,r=t.yearItemNumber,s=r===void 0?Rd:r,o=Rh(Bc(i,s)),c=ba(o,s).endPeriod,h=n&&Le(n);return h&&h>c||!1}function C1(i,e){var t=e===void 0?{}:e,n=t.maxDate,r=t.includeDates,s=ws(i,1);return n&&xm(s,n)>0||r&&r.every(function(o){return xm(s,o)>0})||!1}function wz(i,e){var t=e===void 0?{}:e,n=t.maxDate,r=t.yearItemNumber,s=r===void 0?Rd:r,o=ws(i,s),c=ba(o,s).startPeriod,h=n&&Le(n);return h&&h<c||!1}function Fk(i){var e=i.minDate,t=i.includeDates;if(t&&e){var n=t.filter(function(r){return Vc(r,e)>=0});return e1(n)}else return t?e1(t):e}function Uk(i){var e=i.maxDate,t=i.includeDates;if(t&&e){var n=t.filter(function(r){return Vc(r,e)<=0});return Jx(n)}else return t?Jx(t):e}function A1(i,e){var t;i===void 0&&(i=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,r=0,s=i.length;r<s;r++){var o=i[r];if(Es(o)){var c=Dt(o,"MM.dd.yyyy"),h=n.get(c)||[];h.includes(e)||(h.push(e),n.set(c,h))}else if(typeof o=="object"){var d=Object.keys(o),p=(t=d[0])!==null&&t!==void 0?t:"",y=o[p];if(typeof p=="string"&&Array.isArray(y))for(var _=0,b=y.length;_<b;_++){var E=y[_];if(E){var c=Dt(E,"MM.dd.yyyy"),h=n.get(c)||[];h.includes(p)||(h.push(p),n.set(c,h))}}}}return n}function Ez(i,e){return i.length!==e.length?!1:i.every(function(t,n){return t===e[n]})}function Tz(i,e){i===void 0&&(i=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return i.forEach(function(n){var r=n.date,s=n.holidayName;if(Es(r)){var o=Dt(r,"MM.dd.yyyy"),c=t.get(o)||{className:"",holidayNames:[]};if(!("className"in c&&c.className===e&&Ez(c.holidayNames,[s]))){c.className=e;var h=c.holidayNames;c.holidayNames=h?Er(Er([],h,!0),[s],!1):[s],t.set(o,c)}}}),t}function Sz(i,e,t,n,r){for(var s=r.length,o=[],c=0;c<s;c++){var h=i,d=r[c];d&&(h=_U(h,Ts(d)),h=eb(h,Ss(d)),h=wU(h,Ra(d)));var p=eb(i,(t+1)*n);Ba(h,e)&&rl(h,p)&&d!=null&&o.push(d)}return o}function R1(i){return i<10?"0".concat(i):"".concat(i)}function ba(i,e){e===void 0&&(e=Rd);var t=Math.ceil(Le(i)/e)*e,n=t-(e-1);return{startPeriod:n,endPeriod:t}}function xz(i){var e=new Date(i.getFullYear(),i.getMonth(),i.getDate()),t=new Date(i.getFullYear(),i.getMonth(),i.getDate(),24);return Math.round((+t-+e)/36e5)}function k1(i){var e=i.getSeconds(),t=i.getMilliseconds();return we(i.getTime()-e*1e3-t)}function Dz(i,e){return k1(i).getTime()===k1(e).getTime()}function M1(i){if(!Es(i))throw new Error("Invalid date");var e=new Date(i);return e.setHours(0,0,0,0),e}function I1(i,e){if(!Es(i)||!Es(e))throw new Error("Invalid date received");var t=M1(i),n=M1(e);return rl(t,n)}function jk(i){return i.key===me.Space}var Cz=(function(i){mn(e,i);function e(t){var n=i.call(this,t)||this;return n.inputRef=ie.createRef(),n.onTimeChange=function(r){var s,o;n.setState({time:r});var c=n.props.date,h=c instanceof Date&&!isNaN(+c),d=h?c:new Date;if(r?.includes(":")){var p=r.split(":"),y=p[0],_=p[1];d.setHours(Number(y)),d.setMinutes(Number(_))}(o=(s=n.props).onChange)===null||o===void 0||o.call(s,d)},n.renderTimeInput=function(){var r=n.state.time,s=n.props,o=s.date,c=s.timeString,h=s.customTimeInput;return h?P.cloneElement(h,{date:o,value:r,onChange:n.onTimeChange}):ie.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var d;(d=n.inputRef.current)===null||d===void 0||d.focus()},required:!0,value:r,onChange:function(d){n.onTimeChange(d.target.value||c)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(t,n){return t.timeString!==n.time?{time:t.timeString}:null},e.prototype.render=function(){return ie.createElement("div",{className:"react-datepicker__input-time-container"},ie.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ie.createElement("div",{className:"react-datepicker-time__input-container"},ie.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e})(P.Component),Az=(function(i){mn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.dayEl=P.createRef(),t.handleClick=function(n){!t.isDisabled()&&t.props.onClick&&t.props.onClick(n)},t.handleMouseEnter=function(n){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(n)},t.handleOnKeyDown=function(n){var r,s,o=n.key;o===me.Space&&(n.preventDefault(),n.key=me.Enter),(s=(r=t.props).handleOnKeyDown)===null||s===void 0||s.call(r,n)},t.isSameDay=function(n){return Qe(t.props.day,n)},t.isKeyboardSelected=function(){var n;if(t.props.disabledKeyboardNavigation)return!1;var r=t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(o){return t.isSameDayOrWeek(o)}):t.isSameDayOrWeek(t.props.selected),s=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!r&&t.isSameDayOrWeek(t.props.preSelection)&&!s},t.isDisabled=function(n){return n===void 0&&(n=t.props.day),Ri(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return P0(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Qe(t.props.day,ka(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(n){return t.props.showWeekPicker&&Qe(n,ka(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(n){return t.isSameDay(n)||t.isSameWeek(n)},t.getHighLightedClass=function(){var n=t.props,r=n.day,s=n.highlightDates;if(!s)return!1;var o=Dt(r,"MM.dd.yyyy");return s.get(o)},t.getHolidaysClass=function(){var n,r=t.props,s=r.day,o=r.holidays;if(!o)return[void 0];var c=Dt(s,"MM.dd.yyyy");return o.has(c)?[(n=o.get(c))===null||n===void 0?void 0:n.className]:[void 0]},t.isInRange=function(){var n=t.props,r=n.day,s=n.startDate,o=n.endDate;return!s||!o?!1:kh(r,s,o)},t.isInSelectingRange=function(){var n,r=t.props,s=r.day,o=r.selectsStart,c=r.selectsEnd,h=r.selectsRange,d=r.selectsDisabledDaysInRange,p=r.startDate,y=r.endDate,_=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return!(o||c||h)||!_||!d&&t.isDisabled()?!1:o&&y&&(rl(_,y)||Yo(_,y))?kh(s,_,y):c&&p&&(Ba(_,p)||Yo(_,p))||h&&p&&!y&&(Ba(_,p)||Yo(_,p))?kh(s,p,_):!1},t.isSelectingRangeStart=function(){var n;if(!t.isInSelectingRange())return!1;var r=t.props,s=r.day,o=r.startDate,c=r.selectsStart,h=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return c?Qe(s,h):Qe(s,o)},t.isSelectingRangeEnd=function(){var n;if(!t.isInSelectingRange())return!1;var r=t.props,s=r.day,o=r.endDate,c=r.selectsEnd,h=r.selectsRange,d=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return c||h?Qe(s,d):Qe(s,o)},t.isRangeStart=function(){var n=t.props,r=n.day,s=n.startDate,o=n.endDate;return!s||!o?!1:Qe(s,r)},t.isRangeEnd=function(){var n=t.props,r=n.day,s=n.startDate,o=n.endDate;return!s||!o?!1:Qe(o,r)},t.isWeekend=function(){var n=v9(t.props.day);return n===0||n===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===Nn(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(Nn(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(rt())},t.isSelected=function(){var n;return t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(r){return t.isSameDayOrWeek(r)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(n){var r=t.props.dayClassName?t.props.dayClassName(n):void 0;return Sn("react-datepicker__day",r,"react-datepicker__day--"+uz(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var n=t.props,r=n.day,s=n.ariaLabelPrefixWhenEnabled,o=s===void 0?"Choose":s,c=n.ariaLabelPrefixWhenDisabled,h=c===void 0?"Not available":c,d=t.isDisabled()||t.isExcluded()?h:o;return"".concat(d," ").concat(Dt(r,"PPPP",t.props.locale))},t.getTitle=function(){var n=t.props,r=n.day,s=n.holidays,o=s===void 0?new Map:s,c=n.excludeDates,h=Dt(r,"MM.dd.yyyy"),d=[];return o.has(h)&&d.push.apply(d,o.get(h).holidayNames),t.isExcluded()&&d.push(c?.filter(function(p){return p instanceof Date?Qe(p,r):Qe(p?.date,r)}).map(function(p){if(!(p instanceof Date))return p?.message})),d.join(", ")},t.getTabIndex=function(){var n=t.props.selected,r=t.props.preSelection,s=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(n)&&Qe(r,n))?0:-1;return s},t.handleFocusDay=function(){var n;t.shouldFocusDay()&&((n=t.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(a1(t.props.day),t.props.day):a1(t.props.day)},t.render=function(){return ie.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&ie.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,n,r;return((n=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((r=document.activeElement)===null||r===void 0?void 0:r.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e})(P.Component),Rz=(function(i){mn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.weekNumberEl=P.createRef(),t.handleClick=function(n){t.props.onClick&&t.props.onClick(n)},t.handleOnKeyDown=function(n){var r,s,o=n.key;o===me.Space&&(n.preventDefault(),n.key=me.Enter),(s=(r=t.props).handleOnKeyDown)===null||s===void 0||s.call(r,n)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Qe(t.props.date,t.props.selected)&&Qe(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Qe(t.props.date,t.props.selected)&&Qe(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(n){var r=!1;t.getTabIndex()===0&&!n?.isInputFocused&&Qe(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(r=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(r=!0)),r&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,n=t.weekNumber,r=t.isWeekDisabled,s=t.ariaLabelPrefix,o=s===void 0?e.defaultProps.ariaLabelPrefix:s,c=t.onClick,h={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!c&&!r,"react-datepicker__week-number--selected":!!c&&Qe(this.props.date,this.props.selected)};return ie.createElement("div",{ref:this.weekNumberEl,className:Sn(h),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},e})(P.Component),kz=(function(i){mn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.isDisabled=function(n){return Ri(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(n,r){t.props.onDayClick&&t.props.onDayClick(n,r)},t.handleDayMouseEnter=function(n){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(n)},t.handleWeekClick=function(n,r,s){for(var o,c,h,d=new Date(n),p=0;p<7;p++){var y=new Date(n);y.setDate(y.getDate()+p);var _=!t.isDisabled(y);if(_){d=y;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(d,r,s),t.props.showWeekPicker&&t.handleDayClick(d,s),((o=t.props.shouldCloseOnSelect)!==null&&o!==void 0?o:e.defaultProps.shouldCloseOnSelect)&&((h=(c=t.props).setOpen)===null||h===void 0||h.call(c,!1))},t.formatWeekNumber=function(n){return t.props.formatWeekNumber?t.props.formatWeekNumber(n):cz(n)},t.isWeekDisabled=function(){for(var n=t.startOfWeek(),r=Yi(n,6),s=new Date(n);s<=r;){if(!t.isDisabled(s))return!1;s=Yi(s,1)}return!0},t.renderDays=function(){var n=t.startOfWeek(),r=[],s=t.formatWeekNumber(n);if(t.props.showWeekNumber){var o=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,n,s):void 0;r.push(ie.createElement(Rz,Ke({key:"W"},e.defaultProps,t.props,{weekNumber:s,isWeekDisabled:t.isWeekDisabled(),date:n,onClick:o})))}return r.concat([0,1,2,3,4,5,6].map(function(c){var h=Yi(n,c);return ie.createElement(Az,Ke({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:h.valueOf(),day:h,onClick:t.handleDayClick.bind(t,h),onMouseEnter:t.handleDayMouseEnter.bind(t,h)}))}))},t.startOfWeek=function(){return ka(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Qe(t.startOfWeek(),t.props.selected)&&Qe(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Qe(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return ie.createElement("div",{className:Sn(t)},this.renderDays())},e})(P.Component),yh,Mz=6,Dc={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},av=(yh={},yh[Dc.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},yh[Dc.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},yh[Dc.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},yh),vp=1;function O1(i,e){return i?Dc.FOUR_COLUMNS:e?Dc.TWO_COLUMNS:Dc.THREE_COLUMNS}var Iz=(function(i){mn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.MONTH_REFS=Er([],Array(12),!0).map(function(){return P.createRef()}),t.QUARTER_REFS=Er([],Array(4),!0).map(function(){return P.createRef()}),t.isDisabled=function(n){return Ri(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(n){return P0(n,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(n,r){var s,o;(o=(s=t.props).onDayClick)===null||o===void 0||o.call(s,n,r,t.props.orderInDisplay)},t.handleDayMouseEnter=function(n){var r,s;(s=(r=t.props).onDayMouseEnter)===null||s===void 0||s.call(r,n)},t.handleMouseLeave=function(){var n,r;(r=(n=t.props).onMouseLeave)===null||r===void 0||r.call(n)},t.isRangeStartMonth=function(n){var r=t.props,s=r.day,o=r.startDate,c=r.endDate;return!o||!c?!1:Hn(Ai(s,n),o)},t.isRangeStartQuarter=function(n){var r=t.props,s=r.day,o=r.startDate,c=r.endDate;return!o||!c?!1:Im(yc(s,n),o)},t.isRangeEndMonth=function(n){var r=t.props,s=r.day,o=r.startDate,c=r.endDate;return!o||!c?!1:Hn(Ai(s,n),c)},t.isRangeEndQuarter=function(n){var r=t.props,s=r.day,o=r.startDate,c=r.endDate;return!o||!c?!1:Im(yc(s,n),c)},t.isInSelectingRangeMonth=function(n){var r,s=t.props,o=s.day,c=s.selectsStart,h=s.selectsEnd,d=s.selectsRange,p=s.startDate,y=s.endDate,_=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return!(c||h||d)||!_?!1:c&&y?mp(_,y,n,o):h&&p||d&&p&&!y?mp(p,_,n,o):!1},t.isSelectingMonthRangeStart=function(n){var r;if(!t.isInSelectingRangeMonth(n))return!1;var s=t.props,o=s.day,c=s.startDate,h=s.selectsStart,d=Ai(o,n),p=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return h?Hn(d,p):Hn(d,c)},t.isSelectingMonthRangeEnd=function(n){var r;if(!t.isInSelectingRangeMonth(n))return!1;var s=t.props,o=s.day,c=s.endDate,h=s.selectsEnd,d=s.selectsRange,p=Ai(o,n),y=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return h||d?Hn(p,y):Hn(p,c)},t.isInSelectingRangeQuarter=function(n){var r,s=t.props,o=s.day,c=s.selectsStart,h=s.selectsEnd,d=s.selectsRange,p=s.startDate,y=s.endDate,_=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return!(c||h||d)||!_?!1:c&&y?_p(_,y,n,o):h&&p||d&&p&&!y?_p(p,_,n,o):!1},t.isWeekInMonth=function(n){var r=t.props.day,s=Yi(n,6);return Hn(n,r)||Hn(s,r)},t.isCurrentMonth=function(n,r){return Le(n)===Le(rt())&&r===Nn(rt())},t.isCurrentQuarter=function(n,r){return Le(n)===Le(rt())&&r===Wo(rt())},t.isSelectedMonth=function(n,r,s){return Nn(s)===r&&Le(n)===Le(s)},t.isSelectMonthInList=function(n,r,s){return s.some(function(o){return t.isSelectedMonth(n,r,o)})},t.isSelectedQuarter=function(n,r,s){return Wo(n)===r&&Le(n)===Le(s)},t.isMonthSelected=function(){var n=t.props,r=n.day,s=n.selected,o=n.selectedDates,c=n.selectsMultiple,h=Nn(r);return c?o?.some(function(d){return t.isSelectedMonth(r,h,d)}):!!s&&t.isSelectedMonth(r,h,s)},t.renderWeeks=function(){for(var n=[],r=t.props.fixedHeight,s=0,o=!1,c=ka(xs(t.props.day),t.props.locale,t.props.calendarStartDay),h=function(E){return t.props.showWeekPicker?ka(E,t.props.locale,t.props.calendarStartDay):t.props.preSelection},d=function(E){return t.props.showWeekPicker?ka(E,t.props.locale,t.props.calendarStartDay):t.props.selected},p=t.props.selected?d(t.props.selected):void 0,y=t.props.preSelection?h(t.props.preSelection):void 0;n.push(ie.createElement(kz,Ke({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:s,day:c,month:Nn(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:p,preSelection:y,showWeekNumber:t.props.showWeekNumbers}))),!o;){s++,c=wm(c,1);var _=r&&s>=Mz,b=!r&&!t.isWeekInMonth(c);if(_||b)if(t.props.peekNextMonth)o=!0;else break}return n},t.onMonthClick=function(n,r){var s=t.isMonthDisabledForLabelDate(r),o=s.isDisabled,c=s.labelDate;o||t.handleDayClick(xs(c),n)},t.onMonthMouseEnter=function(n){var r=t.isMonthDisabledForLabelDate(n),s=r.isDisabled,o=r.labelDate;s||t.handleDayMouseEnter(xs(o))},t.handleMonthNavigation=function(n,r){var s,o,c,h;(o=(s=t.props).setPreSelection)===null||o===void 0||o.call(s,r),(h=(c=t.MONTH_REFS[n])===null||c===void 0?void 0:c.current)===null||h===void 0||h.focus()},t.handleKeyboardNavigation=function(n,r,s){var o,c=t.props,h=c.selected,d=c.preSelection,p=c.setPreSelection,y=c.minDate,_=c.maxDate,b=c.showFourColumnMonthYearPicker,E=c.showTwoColumnMonthYearPicker;if(d){var S=O1(b,E),T=t.getVerticalOffset(S),C=(o=av[S])===null||o===void 0?void 0:o.grid,N=function(M,A,k){var L,B,U=A,V=k;switch(M){case me.ArrowRight:U=$i(A,vp),V=k===11?0:k+vp;break;case me.ArrowLeft:U=Go(A,vp),V=k===0?11:k-vp;break;case me.ArrowUp:U=Go(A,T),V=!((L=C?.[0])===null||L===void 0)&&L.includes(k)?k+12-T:k-T;break;case me.ArrowDown:U=$i(A,T),V=!((B=C?.[C.length-1])===null||B===void 0)&&B.includes(k)?k-12+T:k+T;break}return{newCalculatedDate:U,newCalculatedMonth:V}},j=function(M,A,k){for(var L=40,B=M,U=!1,V=0,_e=N(B,A,k),de=_e.newCalculatedDate,W=_e.newCalculatedMonth;!U;){if(V>=L){de=A,W=k;break}if(y&&de<y){B=me.ArrowRight;var ee=N(B,de,W);de=ee.newCalculatedDate,W=ee.newCalculatedMonth}if(_&&de>_){B=me.ArrowLeft;var ee=N(B,de,W);de=ee.newCalculatedDate,W=ee.newCalculatedMonth}if(yz(de,t.props)){var ee=N(B,de,W);de=ee.newCalculatedDate,W=ee.newCalculatedMonth}else U=!0;V++}return{newCalculatedDate:de,newCalculatedMonth:W}};if(r===me.Enter){t.isMonthDisabled(s)||(t.onMonthClick(n,s),p?.(h));return}var q=j(r,d,s),H=q.newCalculatedDate,K=q.newCalculatedMonth;switch(r){case me.ArrowRight:case me.ArrowLeft:case me.ArrowUp:case me.ArrowDown:t.handleMonthNavigation(K,H);break}}},t.getVerticalOffset=function(n){var r,s;return(s=(r=av[n])===null||r===void 0?void 0:r.verticalNavigationOffset)!==null&&s!==void 0?s:0},t.onMonthKeyDown=function(n,r){var s=t.props,o=s.disabledKeyboardNavigation,c=s.handleOnMonthKeyDown,h=n.key;h!==me.Tab&&n.preventDefault(),o||t.handleKeyboardNavigation(n,h,r),c&&c(n)},t.onQuarterClick=function(n,r){var s=yc(t.props.day,r);gp(s,t.props)||t.handleDayClick(_1(s),n)},t.onQuarterMouseEnter=function(n){var r=yc(t.props.day,n);gp(r,t.props)||t.handleDayMouseEnter(_1(r))},t.handleQuarterNavigation=function(n,r){var s,o,c,h;t.isDisabled(r)||t.isExcluded(r)||((o=(s=t.props).setPreSelection)===null||o===void 0||o.call(s,r),(h=(c=t.QUARTER_REFS[n-1])===null||c===void 0?void 0:c.current)===null||h===void 0||h.focus())},t.onQuarterKeyDown=function(n,r){var s,o,c=n.key;if(!t.props.disabledKeyboardNavigation)switch(c){case me.Enter:t.onQuarterClick(n,r),(o=(s=t.props).setPreSelection)===null||o===void 0||o.call(s,t.props.selected);break;case me.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(r===4?1:r+1,w0(t.props.preSelection,1));break;case me.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(r===1?4:r-1,Tk(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(n){var r,s=t.props,o=s.day,c=s.minDate,h=s.maxDate,d=s.excludeDates,p=s.includeDates,y=Ai(o,n);return{isDisabled:(r=(c||h||d||p)&&Bk(y,t.props))!==null&&r!==void 0?r:!1,labelDate:y}},t.isMonthDisabled=function(n){var r=t.isMonthDisabledForLabelDate(n).isDisabled;return r},t.getMonthClassNames=function(n){var r=t.props,s=r.day,o=r.startDate,c=r.endDate,h=r.preSelection,d=r.monthClassName,p=d?d(Ai(s,n)):void 0,y=t.getSelection();return Sn("react-datepicker__month-text","react-datepicker__month-".concat(n),p,{"react-datepicker__month-text--disabled":t.isMonthDisabled(n),"react-datepicker__month-text--selected":y?t.isSelectMonthInList(s,n,y):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&h&&t.isSelectedMonth(s,n,h)&&!t.isMonthSelected()&&!t.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":o&&c?mp(o,c,n,s):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(n),"react-datepicker__month-text--range-end":t.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":t.isCurrentMonth(s,n)})},t.getTabIndex=function(n){if(t.props.preSelection==null)return"-1";var r=Nn(t.props.preSelection),s=t.isMonthDisabledForLabelDate(r).isDisabled,o=n===r&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return o},t.getQuarterTabIndex=function(n){if(t.props.preSelection==null)return"-1";var r=Wo(t.props.preSelection),s=gp(t.props.day,t.props),o=n===r&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return o},t.getAriaLabel=function(n){var r=t.props,s=r.chooseDayAriaLabelPrefix,o=s===void 0?"Choose":s,c=r.disabledDayAriaLabelPrefix,h=c===void 0?"Not available":c,d=r.day,p=r.locale,y=Ai(d,n),_=t.isDisabled(y)||t.isExcluded(y)?h:o;return"".concat(_," ").concat(Dt(y,"MMMM yyyy",p))},t.getQuarterClassNames=function(n){var r=t.props,s=r.day,o=r.startDate,c=r.endDate,h=r.selected,d=r.minDate,p=r.maxDate,y=r.excludeDates,_=r.includeDates,b=r.filterDate,E=r.preSelection,S=r.disabledKeyboardNavigation,T=(d||p||y||_||b)&&gp(yc(s,n),t.props);return Sn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":T,"react-datepicker__quarter-text--selected":h?t.isSelectedQuarter(s,n,h):void 0,"react-datepicker__quarter-text--keyboard-selected":!S&&E&&t.isSelectedQuarter(s,n,E)&&!T,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":o&&c?_p(o,c,n,s):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":t.isCurrentQuarter(s,n)})},t.getMonthContent=function(n){var r=t.props,s=r.showFullMonthYearPicker,o=r.renderMonthContent,c=r.locale,h=r.day,d=Vk(n,c),p=O0(n,c);return o?o(n,d,p,h):s?p:d},t.getQuarterContent=function(n){var r,s=t.props,o=s.renderQuarterContent,c=s.locale,h=gz(n,c);return(r=o?.(n,h))!==null&&r!==void 0?r:h},t.renderMonths=function(){var n,r=t.props,s=r.showTwoColumnMonthYearPicker,o=r.showFourColumnMonthYearPicker,c=r.day,h=r.selected,d=(n=av[O1(o,s)])===null||n===void 0?void 0:n.grid;return d?.map(function(p,y){return ie.createElement("div",{className:"react-datepicker__month-wrapper",key:y},p.map(function(_,b){return ie.createElement("div",{ref:t.MONTH_REFS[_],key:b,onClick:function(E){t.onMonthClick(E,_)},onKeyDown:function(E){jk(E)&&(E.preventDefault(),E.key=me.Enter),t.onMonthKeyDown(E,_)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(_)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(_)}:void 0,tabIndex:Number(t.getTabIndex(_)),className:t.getMonthClassNames(_),"aria-disabled":t.isMonthDisabled(_),role:"option","aria-label":t.getAriaLabel(_),"aria-current":t.isCurrentMonth(c,_)?"date":void 0,"aria-selected":h?t.isSelectedMonth(c,_,h):void 0},t.getMonthContent(_))}))})},t.renderQuarters=function(){var n=t.props,r=n.day,s=n.selected,o=[1,2,3,4];return ie.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(c,h){return ie.createElement("div",{key:h,ref:t.QUARTER_REFS[h],role:"option",onClick:function(d){t.onQuarterClick(d,c)},onKeyDown:function(d){t.onQuarterKeyDown(d,c)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(c)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(c)}:void 0,className:t.getQuarterClassNames(c),"aria-selected":s?t.isSelectedQuarter(r,c,s):void 0,tabIndex:Number(t.getQuarterTabIndex(c)),"aria-current":t.isCurrentQuarter(r,c)?"date":void 0},t.getQuarterContent(c))}))},t.getClassNames=function(){var n=t.props,r=n.selectingDate,s=n.selectsStart,o=n.selectsEnd,c=n.showMonthYearPicker,h=n.showQuarterYearPicker,d=n.showWeekPicker;return Sn("react-datepicker__month",{"react-datepicker__month--selecting-range":r&&(s||o)},{"react-datepicker__monthPicker":c},{"react-datepicker__quarterPicker":h},{"react-datepicker__weekPicker":d})},t}return e.prototype.getSelection=function(){var t=this.props,n=t.selected,r=t.selectedDates,s=t.selectsMultiple;if(s)return r;if(n)return[n]},e.prototype.render=function(){var t=this.props,n=t.showMonthYearPicker,r=t.showQuarterYearPicker,s=t.day,o=t.ariaLabelPrefix,c=o===void 0?"Month ":o,h=c?c.trim()+" ":"";return ie.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(h).concat(Dt(s,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():r?this.renderQuarters():this.renderWeeks())},e})(P.Component),Oz=(function(i){mn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.isSelectedMonth=function(n){return t.props.month===n},t.renderOptions=function(){return t.props.monthNames.map(function(n,r){return ie.createElement("div",{className:t.isSelectedMonth(r)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:t.onChange.bind(t,r),"aria-selected":t.isSelectedMonth(r)?"true":void 0},t.isSelectedMonth(r)?ie.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},t.onChange=function(n){return t.props.onChange(n)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return ie.createElement(Sg,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e})(P.Component),Pz=(function(i){mn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(n){return n.map(function(r,s){return ie.createElement("option",{key:r,value:s},r)})},t.renderSelectMode=function(n){return ie.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(r){return t.onChange(parseInt(r.target.value))}},t.renderSelectOptions(n))},t.renderReadView=function(n,r){return ie.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},ie.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ie.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},r[t.props.month]))},t.renderDropdown=function(n){return ie.createElement(Oz,Ke({key:"dropdown"},t.props,{monthNames:n,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(n){var r=t.state.dropdownVisible,s=[t.renderReadView(!r,n)];return r&&s.unshift(t.renderDropdown(n)),s},t.onChange=function(n){t.toggleDropdown(),n!==t.props.month&&t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return Vk(s,t.props.locale)}:function(s){return O0(s,t.props.locale)}),r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode(n);break;case"select":r=this.renderSelectMode(n);break}return ie.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},r)},e})(P.Component);function Nz(i,e){for(var t=[],n=xs(i),r=xs(e);!Ba(n,r);)t.push(rt(n)),n=$i(n,1);return t}var Lz=(function(i){mn(e,i);function e(t){var n=i.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(r){var s=ib(r),o=vr(n.props.date,r)&&Hn(n.props.date,r);return ie.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:n.onChange.bind(n,s),"aria-selected":o?"true":void 0},o?ie.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Dt(r,n.props.dateFormat,n.props.locale))})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:Nz(n.props.minDate,n.props.maxDate)},n}return e.prototype.render=function(){var t=Sn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ie.createElement(Sg,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(P.Component),Vz=(function(i){mn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=xs(t.props.minDate),r=xs(t.props.maxDate),s=[];!Ba(n,r);){var o=ib(n);s.push(ie.createElement("option",{key:o,value:o},Dt(n,t.props.dateFormat,t.props.locale))),n=$i(n,1)}return s},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return ie.createElement("select",{value:ib(xs(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){var r=Dt(t.props.date,t.props.dateFormat,t.props.locale);return ie.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},ie.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ie.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},r))},t.renderDropdown=function(){return ie.createElement(Lz,Ke({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,r=[t.renderReadView(!n)];return n&&r.unshift(t.renderDropdown()),r},t.onChange=function(n){t.toggleDropdown();var r=rt(n);vr(t.props.date,r)&&Hn(t.props.date,r)||t.props.onChange(r)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return ie.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e})(P.Component),Bz=(function(i){mn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,r,s;t.list&&(t.list.scrollTop=(s=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((r=(n=t.header)===null||n===void 0?void 0:n.clientHeight)!==null&&r!==void 0?r:0):t.list.clientHeight,t.centerLi))!==null&&s!==void 0?s:0)})},t.handleClick=function(n){var r,s;(t.props.minTime||t.props.maxTime)&&T1(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&E1(n,t.props)||(s=(r=t.props).onChange)===null||s===void 0||s.call(r,n)},t.isSelectedTime=function(n){return t.props.selected&&Dz(t.props.selected,n)},t.isDisabledTime=function(n){return(t.props.minTime||t.props.maxTime)&&T1(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&E1(n,t.props)},t.liClasses=function(n){var r,s=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(n):void 0];return t.isSelectedTime(n)&&s.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(n)&&s.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(Ts(n)*3600+Ss(n)*60+Ra(n))%(((r=t.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},t.handleOnKeyDown=function(n,r){var s,o;n.key===me.Space&&(n.preventDefault(),n.key=me.Enter),(n.key===me.ArrowUp||n.key===me.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===me.ArrowDown||n.key===me.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===me.Enter&&t.handleClick(r),(o=(s=t.props).handleOnKeyDown)===null||o===void 0||o.call(s,n)},t.renderTimes=function(){for(var n,r=[],s=typeof t.props.format=="string"?t.props.format:"p",o=(n=t.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,c=t.props.selected||t.props.openToDate||rt(),h=Kp(c),d=t.props.injectTimes&&t.props.injectTimes.sort(function(T,C){return T.getTime()-C.getTime()}),p=60*xz(c),y=p/o,_=0;_<y;_++){var b=eb(h,_*o);if(r.push(b),d){var E=Sz(h,b,_,o,d);r=r.concat(E)}}var S=r.reduce(function(T,C){return C.getTime()<=c.getTime()?C:T},r[0]);return r.map(function(T){return ie.createElement("li",{key:T.valueOf(),onClick:t.handleClick.bind(t,T),className:t.liClasses(T),ref:function(C){T===S&&(t.centerLi=C)},onKeyDown:function(C){t.handleOnKeyDown(C,T)},tabIndex:T===S?0:-1,role:"option","aria-selected":t.isSelectedTime(T)?"true":void 0,"aria-disabled":t.isDisabledTime(T)?"true":void 0},Dt(T,s,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?ie.createElement(ie.Fragment,null):ie.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){t.header=n}},ie.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var t=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(n))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,n,r=this.state.height;return ie.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ie.createElement("div",{className:"react-datepicker__time"},ie.createElement("div",{className:"react-datepicker__time-box"},ie.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){t.list=s},style:r?{height:r}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,n){return n.offsetTop-(t/2-n.clientHeight/2)},e})(P.Component),P1=3,Fz=(function(i){mn(e,i);function e(t){var n=i.call(this,t)||this;return n.YEAR_REFS=Er([],Array(n.props.yearItemNumber),!0).map(function(){return P.createRef()}),n.isDisabled=function(r){return Ri(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return P0(r,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var r;return(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection},n.updateFocusOnPaginate=function(r){var s=function(){var o,c;(c=(o=n.YEAR_REFS[r])===null||o===void 0?void 0:o.current)===null||c===void 0||c.focus()};window.requestAnimationFrame(s)},n.handleYearClick=function(r,s){n.props.onDayClick&&n.props.onDayClick(r,s)},n.handleYearNavigation=function(r,s){var o,c,h,d,p=n.props,y=p.date,_=p.yearItemNumber;if(!(y===void 0||_===void 0)){var b=ba(y,_).startPeriod;n.isDisabled(s)||n.isExcluded(s)||((c=(o=n.props).setPreSelection)===null||c===void 0||c.call(o,s),r-b<0?n.updateFocusOnPaginate(_-(b-r)):r-b>=_?n.updateFocusOnPaginate(Math.abs(_-(r-b))):(d=(h=n.YEAR_REFS[r-b])===null||h===void 0?void 0:h.current)===null||d===void 0||d.focus())}},n.isSameDay=function(r,s){return Qe(r,s)},n.isCurrentYear=function(r){return r===Le(rt())},n.isRangeStart=function(r){return n.props.startDate&&n.props.endDate&&vr(_r(rt(),r),n.props.startDate)},n.isRangeEnd=function(r){return n.props.startDate&&n.props.endDate&&vr(_r(rt(),r),n.props.endDate)},n.isInRange=function(r){return yp(r,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(r){var s=n.props,o=s.selectsStart,c=s.selectsEnd,h=s.selectsRange,d=s.startDate,p=s.endDate;return!(o||c||h)||!n.selectingDate()?!1:o&&p?yp(r,n.selectingDate(),p):c&&d||h&&d&&!p?yp(r,d,n.selectingDate()):!1},n.isSelectingRangeStart=function(r){var s;if(!n.isInSelectingRange(r))return!1;var o=n.props,c=o.startDate,h=o.selectsStart,d=_r(rt(),r);return h?vr(d,(s=n.selectingDate())!==null&&s!==void 0?s:null):vr(d,c??null)},n.isSelectingRangeEnd=function(r){var s;if(!n.isInSelectingRange(r))return!1;var o=n.props,c=o.endDate,h=o.selectsEnd,d=o.selectsRange,p=_r(rt(),r);return h||d?vr(p,(s=n.selectingDate())!==null&&s!==void 0?s:null):vr(p,c??null)},n.isKeyboardSelected=function(r){if(!(n.props.date===void 0||n.props.selected==null||n.props.preSelection==null)){var s=n.props,o=s.minDate,c=s.maxDate,h=s.excludeDates,d=s.includeDates,p=s.filterDate,y=Rh(_r(n.props.date,r)),_=(o||c||h||d||p)&&Xp(r,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!Qe(y,Rh(n.props.selected))&&Qe(y,Rh(n.props.preSelection))&&!_}},n.isSelectedYear=function(r){var s=n.props,o=s.selectsMultiple,c=s.selected,h=s.selectedDates;return o?h?.some(function(d){return r===Le(d)}):!!c&&r===Le(c)},n.onYearClick=function(r,s){var o=n.props.date;o!==void 0&&n.handleYearClick(Rh(_r(o,s)),r)},n.onYearKeyDown=function(r,s){var o,c,h=r.key,d=n.props,p=d.date,y=d.yearItemNumber,_=d.handleOnKeyDown;if(h!==me.Tab&&r.preventDefault(),!n.props.disabledKeyboardNavigation)switch(h){case me.Enter:if(n.props.selected==null)break;n.onYearClick(r,s),(c=(o=n.props).setPreSelection)===null||c===void 0||c.call(o,n.props.selected);break;case me.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(s+1,ws(n.props.preSelection,1));break;case me.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(s-1,Bc(n.props.preSelection,1));break;case me.ArrowUp:{if(p===void 0||y===void 0||n.props.preSelection==null)break;var b=ba(p,y).startPeriod,E=P1,S=s-E;if(S<b){var T=y%E;s>=b&&s<b+T?E=T:E+=T,S=s-E}n.handleYearNavigation(S,Bc(n.props.preSelection,E));break}case me.ArrowDown:{if(p===void 0||y===void 0||n.props.preSelection==null)break;var C=ba(p,y).endPeriod,E=P1,S=s+E;if(S>C){var T=y%E;s<=C&&s>C-T?E=T:E+=T,S=s+E}n.handleYearNavigation(S,ws(n.props.preSelection,E));break}}_&&_(r)},n.getYearClassNames=function(r){var s=n.props,o=s.date,c=s.minDate,h=s.maxDate,d=s.excludeDates,p=s.includeDates,y=s.filterDate,_=s.yearClassName;return Sn("react-datepicker__year-text","react-datepicker__year-".concat(r),o?_?.(_r(o,r)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(r),"react-datepicker__year-text--disabled":(c||h||d||p||y)&&Xp(r,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(r),"react-datepicker__year-text--range-start":n.isRangeStart(r),"react-datepicker__year-text--range-end":n.isRangeEnd(r),"react-datepicker__year-text--in-range":n.isInRange(r),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(r),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(r),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(r),"react-datepicker__year-text--today":n.isCurrentYear(r)})},n.getYearTabIndex=function(r){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var s=Le(n.props.preSelection),o=Xp(r,n.props);return r===s&&!o?"0":"-1"},n.getYearContent=function(r){return n.props.renderYearContent?n.props.renderYearContent(r):r},n}return e.prototype.render=function(){var t=this,n=[],r=this.props,s=r.date,o=r.yearItemNumber,c=r.onYearMouseEnter,h=r.onYearMouseLeave;if(s===void 0)return null;for(var d=ba(s,o),p=d.startPeriod,y=d.endPeriod,_=function(S){n.push(ie.createElement("div",{ref:b.YEAR_REFS[S-p],onClick:function(T){t.onYearClick(T,S)},onKeyDown:function(T){jk(T)&&(T.preventDefault(),T.key=me.Enter),t.onYearKeyDown(T,S)},tabIndex:Number(b.getYearTabIndex(S)),className:b.getYearClassNames(S),onMouseEnter:b.props.usePointerEvent?void 0:function(T){return c(T,S)},onPointerEnter:b.props.usePointerEvent?function(T){return c(T,S)}:void 0,onMouseLeave:b.props.usePointerEvent?void 0:function(T){return h(T,S)},onPointerLeave:b.props.usePointerEvent?function(T){return h(T,S)}:void 0,key:S,"aria-current":b.isCurrentYear(S)?"date":void 0},b.getYearContent(S)))},b=this,E=p;E<=y;E++)_(E);return ie.createElement("div",{className:"react-datepicker__year"},ie.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e})(P.Component);function Uz(i,e,t,n){for(var r=[],s=0;s<2*e+1;s++){var o=i+e-s,c=!0;t&&(c=Le(t)<=o),n&&c&&(c=Le(n)>=o),c&&r.push(o)}return r}var jz=(function(i){mn(e,i);function e(t){var n=i.call(this,t)||this;n.renderOptions=function(){var c=n.props.year,h=n.state.yearsList.map(function(y){return ie.createElement("div",{className:c===y?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:y,onClick:n.onChange.bind(n,y),"aria-selected":c===y?"true":void 0},c===y?ie.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",y)}),d=n.props.minDate?Le(n.props.minDate):null,p=n.props.maxDate?Le(n.props.maxDate):null;return(!p||!n.state.yearsList.find(function(y){return y===p}))&&h.unshift(ie.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},ie.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!d||!n.state.yearsList.find(function(y){return y===d}))&&h.push(ie.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},ie.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),h},n.onChange=function(c){n.props.onChange(c)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(c){var h=n.state.yearsList.map(function(d){return d+c});n.setState({yearsList:h})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var r=t.yearDropdownItemNumber,s=t.scrollableYearDropdown,o=r||(s?10:5);return n.state={yearsList:Uz(n.props.year,o,n.props.minDate,n.props.maxDate)},n.dropdownRef=P.createRef(),n}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var n=t.children?Array.from(t.children):null,r=n?n.find(function(s){return s.ariaSelected}):null;t.scrollTop=r&&r instanceof HTMLElement?r.offsetTop+(r.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=Sn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ie.createElement(Sg,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(P.Component),zz=(function(i){mn(e,i);function e(){var t=i!==null&&i.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=t.props.minDate?Le(t.props.minDate):1900,r=t.props.maxDate?Le(t.props.maxDate):2100,s=[],o=n;o<=r;o++)s.push(ie.createElement("option",{key:o,value:o},o));return s},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return ie.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){return ie.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(r){return t.toggleDropdown(r)}},ie.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ie.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return ie.createElement(jz,Ke({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,r=[t.renderReadView(!n)];return n&&r.unshift(t.renderDropdown()),r},t.onChange=function(n){t.toggleDropdown(),n!==t.props.year&&t.props.onChange(n)},t.toggleDropdown=function(n){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,n)})},t.handleYearChange=function(n,r){var s;(s=t.onSelect)===null||s===void 0||s.call(t,n,r),t.setOpen()},t.onSelect=function(n,r){var s,o;(o=(s=t.props).onSelect)===null||o===void 0||o.call(s,n,r)},t.setOpen=function(){var n,r;(r=(n=t.props).setOpen)===null||r===void 0||r.call(n,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return ie.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e})(P.Component),Hz=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],Yz=function(i){var e=(i.className||"").split(/\s+/);return Hz.some(function(t){return e.indexOf(t)>=0})},qz=(function(i){mn(e,i);function e(t){var n=i.call(this,t)||this;return n.monthContainer=void 0,n.handleClickOutside=function(r){n.props.onClickOutside(r)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(r){var s,o;Yz(r.target)&&((o=(s=n.props).onDropdownFocus)===null||o===void 0||o.call(s,r))},n.getDateInView=function(){var r=n.props,s=r.preSelection,o=r.selected,c=r.openToDate,h=Fk(n.props),d=Uk(n.props),p=rt(),y=c||o||s;return y||(h&&rl(p,h)?h:d&&Ba(p,d)?d:p)},n.increaseMonth=function(){n.setState(function(r){var s=r.date;return{date:$i(s,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(r){var s=r.date;return{date:Go(s,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(r,s,o){n.props.onSelect(r,s,o),n.props.setPreSelection&&n.props.setPreSelection(r)},n.handleDayMouseEnter=function(r){n.setState({selectingDate:r}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(r,s){n.setState({selectingDate:_r(rt(),s)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(r,s)},n.handleYearMouseLeave=function(r,s){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(r,s)},n.handleYearChange=function(r){var s,o,c,h;(o=(s=n.props).onYearChange)===null||o===void 0||o.call(s,r),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(r),(h=(c=n.props).setOpen)===null||h===void 0||h.call(c,!0)),n.props.setPreSelection&&n.props.setPreSelection(r)},n.getEnabledPreSelectionDateForMonth=function(r){if(!Ri(r,n.props))return r;for(var s=xs(r),o=dz(r),c=TU(o,s),h=null,d=0;d<=c;d++){var p=Yi(s,d);if(!Ri(p,n.props)){h=p;break}}return h},n.handleMonthChange=function(r){var s,o,c,h=(s=n.getEnabledPreSelectionDateForMonth(r))!==null&&s!==void 0?s:r;n.handleCustomMonthChange(h),n.props.adjustDateOnChange&&(n.props.onSelect(h),(c=(o=n.props).setOpen)===null||c===void 0||c.call(o,!0)),n.props.setPreSelection&&n.props.setPreSelection(h)},n.handleCustomMonthChange=function(r){var s,o;(o=(s=n.props).onMonthChange)===null||o===void 0||o.call(s,r),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(r){n.handleYearChange(r),n.handleMonthChange(r)},n.changeYear=function(r){n.setState(function(s){var o=s.date;return{date:_r(o,Number(r))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(r){n.setState(function(s){var o=s.date;return{date:Ai(o,Number(r))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(r){n.setState(function(s){var o=s.date;return{date:_r(Ai(o,Nn(r)),Le(r))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(r){r===void 0&&(r=n.state.date);var s=ka(r,n.props.locale,n.props.calendarStartDay),o=[];return n.props.showWeekNumbers&&o.push(ie.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(c){var h=Yi(s,c),d=n.formatWeekday(h,n.props.locale),p=n.props.weekDayClassName?n.props.weekDayClassName(h):void 0;return ie.createElement("div",{key:c,"aria-label":Dt(h,"EEEE",n.props.locale),className:Sn("react-datepicker__day-name",p)},d)}))},n.formatWeekday=function(r,s){return n.props.formatWeekDay?fz(r,n.props.formatWeekDay,s):n.props.useWeekdaysShort?mz(r,s):pz(r,s)},n.decreaseYear=function(){n.setState(function(r){var s,o=r.date;return{date:Bc(o,n.props.showYearPicker?(s=n.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var r,s,o;if(!n.props.renderCustomHeader){var c=(r=n.props.monthsShown)!==null&&r!==void 0?r:e.defaultProps.monthsShown,h=n.props.showPreviousMonths?c-1:0,d=(s=n.props.monthSelectedIn)!==null&&s!==void 0?s:h,p=Go(n.state.date,d),y;switch(!0){case n.props.showMonthYearPicker:y=D1(n.state.date,n.props);break;case n.props.showYearPicker:y=bz(n.state.date,n.props);break;case n.props.showQuarterYearPicker:y=_z(n.state.date,n.props);break;default:y=S1(p,n.props);break}if(!(!((o=n.props.forceShowMonthNavigation)!==null&&o!==void 0?o:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&y||n.props.showTimeSelectOnly)){var _=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],b=["react-datepicker__navigation","react-datepicker__navigation--previous"],E=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(E=n.decreaseYear),y&&n.props.showDisabledMonthNavigation&&(b.push("react-datepicker__navigation--previous--disabled"),E=void 0);var S=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,T=n.props,C=T.previousMonthButtonLabel,N=C===void 0?e.defaultProps.previousMonthButtonLabel:C,j=T.previousYearButtonLabel,q=j===void 0?e.defaultProps.previousYearButtonLabel:j,H=n.props,K=H.previousMonthAriaLabel,M=K===void 0?typeof N=="string"?N:"Previous Month":K,A=H.previousYearAriaLabel,k=A===void 0?typeof q=="string"?q:"Previous Year":A;return ie.createElement("button",{type:"button",className:b.join(" "),onClick:E,onKeyDown:n.props.handleOnKeyDown,"aria-label":S?k:M},ie.createElement("span",{className:_.join(" ")},S?q:N))}}},n.increaseYear=function(){n.setState(function(r){var s,o=r.date;return{date:ws(o,n.props.showYearPicker?(s=n.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var r;if(!n.props.renderCustomHeader){var s;switch(!0){case n.props.showMonthYearPicker:s=C1(n.state.date,n.props);break;case n.props.showYearPicker:s=wz(n.state.date,n.props);break;case n.props.showQuarterYearPicker:s=vz(n.state.date,n.props);break;default:s=x1(n.state.date,n.props);break}if(!(!((r=n.props.forceShowMonthNavigation)!==null&&r!==void 0?r:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&s||n.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],c=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var h=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(h=n.increaseYear),s&&n.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),h=void 0);var d=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,p=n.props,y=p.nextMonthButtonLabel,_=y===void 0?e.defaultProps.nextMonthButtonLabel:y,b=p.nextYearButtonLabel,E=b===void 0?e.defaultProps.nextYearButtonLabel:b,S=n.props,T=S.nextMonthAriaLabel,C=T===void 0?typeof _=="string"?_:"Next Month":T,N=S.nextYearAriaLabel,j=N===void 0?typeof E=="string"?E:"Next Year":N;return ie.createElement("button",{type:"button",className:o.join(" "),onClick:h,onKeyDown:n.props.handleOnKeyDown,"aria-label":d?j:C},ie.createElement("span",{className:c.join(" ")},d?E:_))}}},n.renderCurrentMonth=function(r){r===void 0&&(r=n.state.date);var s=["react-datepicker__current-month"];return n.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),ie.createElement("h2",{className:s.join(" ")},Dt(r,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(r){if(r===void 0&&(r=!1),!(!n.props.showYearDropdown||r))return ie.createElement(zz,Ke({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:Le(n.state.date)}))},n.renderMonthDropdown=function(r){if(r===void 0&&(r=!1),!(!n.props.showMonthDropdown||r))return ie.createElement(Pz,Ke({},e.defaultProps,n.props,{month:Nn(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(r){if(r===void 0&&(r=!1),!(!n.props.showMonthYearDropdown||r))return ie.createElement(Vz,Ke({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(r){n.props.onSelect(v1(),r),n.props.setPreSelection&&n.props.setPreSelection(v1())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return ie.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDefaultHeader=function(r){var s=r.monthDate,o=r.i;return ie.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(s),ie.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(o!==0),n.renderMonthYearDropdown(o!==0),n.renderYearDropdown(o!==0)),ie.createElement("div",{className:"react-datepicker__day-names"},n.header(s)))},n.renderCustomHeader=function(r){var s,o,c=r.monthDate,h=r.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var d=S1(n.state.date,n.props),p=x1(n.state.date,n.props),y=D1(n.state.date,n.props),_=C1(n.state.date,n.props),b=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return ie.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(o=(s=n.props).renderCustomHeader)===null||o===void 0?void 0:o.call(s,Ke(Ke({},n.state),{customHeaderCount:h,monthDate:c,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:d,nextMonthButtonDisabled:p,prevYearButtonDisabled:y,nextYearButtonDisabled:_})),b&&ie.createElement("div",{className:"react-datepicker__day-names"},n.header(c)))},n.renderYearHeader=function(r){var s=r.monthDate,o=n.props,c=o.showYearPicker,h=o.yearItemNumber,d=h===void 0?e.defaultProps.yearItemNumber:h,p=ba(s,d),y=p.startPeriod,_=p.endPeriod;return ie.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},c?"".concat(y," - ").concat(_):Le(s))},n.renderHeader=function(r){var s=r.monthDate,o=r.i,c=o===void 0?0:o,h={monthDate:s,i:c};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(h);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(h);default:return n.renderDefaultHeader(h)}},n.renderMonths=function(){var r,s;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var o=[],c=(r=n.props.monthsShown)!==null&&r!==void 0?r:e.defaultProps.monthsShown,h=n.props.showPreviousMonths?c-1:0,d=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?ws(n.state.date,h):Go(n.state.date,h),p=(s=n.props.monthSelectedIn)!==null&&s!==void 0?s:h,y=0;y<c;++y){var _=y-p+h,b=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?ws(d,_):$i(d,_),E="month-".concat(y),S=y<c-1,T=y>0;o.push(ie.createElement("div",{key:E,ref:function(C){n.monthContainer=C??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:b,i:y}),ie.createElement(Iz,Ke({},e.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:b,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:y,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:S,monthShowsDuplicateDaysStart:T}))))}return o}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return ie.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),ie.createElement(Fz,Ke({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return ie.createElement(Bz,Ke({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var r=n.props.selected?new Date(n.props.selected):void 0,s=r&&xg(r)&&!!n.props.selected,o=s?"".concat(R1(r.getHours()),":").concat(R1(r.getMinutes())):"";if(n.props.showTimeInput)return ie.createElement(Cz,Ke({},e.defaultProps,n.props,{date:r,timeString:o,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var r,s=ba(n.state.date,(r=n.props.yearItemNumber)!==null&&r!==void 0?r:e.defaultProps.yearItemNumber),o=s.startPeriod,c=s.endPeriod,h;return n.props.showYearPicker?h="".concat(o," - ").concat(c):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?h=Le(n.state.date):h="".concat(O0(Nn(n.state.date),n.props.locale)," ").concat(Le(n.state.date)),ie.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&h)},n.renderChildren=function(){if(n.props.children)return ie.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=P.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Rd}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){t.setState({monthContainer:t.monthContainer})})())},e.prototype.componentDidUpdate=function(t){var n=this;if(this.props.preSelection&&(!Qe(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var r=!Hn(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return r&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!Qe(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||sz;return ie.createElement(Sg,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},ie.createElement("div",{style:{display:"contents"},ref:this.containerRef},ie.createElement(t,{className:Sn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e})(P.Component),Wz=function(i){var e=i.icon,t=i.className,n=t===void 0?"":t,r=i.onClick,s="react-datepicker__calendar-icon";if(typeof e=="string")return ie.createElement("i",{className:"".concat(s," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:r});if(ie.isValidElement(e)){var o=e;return ie.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(s," ").concat(n),onClick:function(c){typeof o.props.onClick=="function"&&o.props.onClick(c),typeof r=="function"&&r(c)}})}return ie.createElement("svg",{className:"".concat(s," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:r},ie.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},zk=(function(i){mn(e,i);function e(t){var n=i.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return t2.createPortal(this.props.children,this.el)},e})(P.Component),Gz="[tabindex], a, button, input, select, textarea",$z=function(i){return(i instanceof HTMLAnchorElement||!i.disabled)&&i.tabIndex!==-1},Hk=(function(i){mn(e,i);function e(t){var n=i.call(this,t)||this;return n.getTabChildren=function(){var r;return Array.prototype.slice.call((r=n.tabLoopRef.current)===null||r===void 0?void 0:r.querySelectorAll(Gz),1,-1).filter($z)},n.handleFocusStart=function(){var r=n.getTabChildren();r&&r.length>1&&r[r.length-1].focus()},n.handleFocusEnd=function(){var r=n.getTabChildren();r&&r.length>1&&r[0].focus()},n.tabLoopRef=P.createRef(),n}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?ie.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ie.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ie.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e})(P.Component);function Qz(i){var e=function(t){var n,r=typeof t.hidePopper=="boolean"?t.hidePopper:!0,s=P.useRef(null),o=rz(Ke({open:!r,whileElementsMounted:Lj,placement:t.popperPlacement,middleware:Er([qj({padding:15}),Yj(10),Wj({element:s})],(n=t.popperModifiers)!==null&&n!==void 0?n:[],!0)},t.popperProps)),c=Ke(Ke({},t),{hidePopper:r,popperProps:Ke(Ke({},o),{arrowRef:s})});return ie.createElement(i,Ke({},c))};return e}var Kz=(function(i){mn(e,i);function e(){return i!==null&&i.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,n=t.className,r=t.wrapperClassName,s=t.hidePopper,o=s===void 0?e.defaultProps.hidePopper:s,c=t.popperComponent,h=t.targetComponent,d=t.enableTabLoop,p=t.popperOnKeyDown,y=t.portalId,_=t.portalHost,b=t.popperProps,E=t.showArrow,S=void 0;if(!o){var T=Sn("react-datepicker-popper",n);S=ie.createElement(Hk,{enableTabLoop:d},ie.createElement("div",{ref:b.refs.setFloating,style:b.floatingStyles,className:T,"data-placement":b.placement,onKeyDown:p},c,E&&ie.createElement(Xj,{ref:b.arrowRef,context:b.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(S=P.createElement(this.props.popperContainer,{},S)),y&&!o&&(S=ie.createElement(zk,{portalId:y,portalHost:_},S));var C=Sn("react-datepicker-wrapper",r);return ie.createElement(ie.Fragment,null,ie.createElement("div",{ref:b.refs.setReference,className:C},h),S)},e})(P.Component),Xz=Qz(Kz),N1="react-datepicker-ignore-onclickoutside";function Zz(i,e){return i&&e?Nn(i)!==Nn(e)||Le(i)!==Le(e):i!==e}var ov="Date input not valid.",Jz=(function(i){mn(e,i);function e(t){var n=i.call(this,t)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:rt()},n.modifyHolidays=function(){var r;return(r=n.props.holidays)===null||r===void 0?void 0:r.reduce(function(s,o){var c=new Date(o.date);return xg(c)?Er(Er([],s,!0),[Ke(Ke({},o),{date:c})],!1):s},[])},n.calcInitialState=function(){var r,s=n.getPreSelection(),o=Fk(n.props),c=Uk(n.props),h=o&&rl(s,Kp(o))?o:c&&Ba(s,b1(c))?c:s;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(r=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&r!==void 0?r:h,highlightDates:A1(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.resetHiddenStatus=function(){n.setState(Ke(Ke({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(Ke(Ke({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var r,s;(s=(r=n.input)===null||r===void 0?void 0:r.focus)===null||s===void 0||s.call(r,{preventScroll:!0})},n.setBlur=function(){var r,s;(s=(r=n.input)===null||r===void 0?void 0:r.blur)===null||s===void 0||s.call(r),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(r,s){s===void 0&&(s=!1),n.setState({open:r,preSelection:r&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:lv},function(){r||n.setState(function(o){return{focused:s?o.focused:!1}},function(){!s&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return Es(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(r){var s,o,c=n.state.wasHidden,h=c?n.state.open:!0;c&&n.resetHiddenStatus(),n.state.preventFocus||((o=(s=n.props).onFocus)===null||o===void 0||o.call(s,r),h&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(r){var s,o;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((o=(s=n.props).onBlur)===null||o===void 0||o.call(s,r)),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(r){var s,o;n.props.inline||n.setOpen(!1),(o=(s=n.props).onClickOutside)===null||o===void 0||o.call(s,r),n.props.withPortal&&r.preventDefault()},n.handleChange=function(){for(var r,s,o,c,h,d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];var y=d[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,d),!y||typeof y.isDefaultPrevented!="function"||y.isDefaultPrevented()))){n.setState({inputValue:y?.target instanceof HTMLInputElement?y.target.value:null,lastPreSelectChange:eH});var _=n.props,b=_.selectsRange,E=_.startDate,S=_.endDate,T=(r=n.props.dateFormat)!==null&&r!==void 0?r:e.defaultProps.dateFormat,C=(s=n.props.strictParsing)!==null&&s!==void 0?s:e.defaultProps.strictParsing,N=y?.target instanceof HTMLInputElement?y.target.value:"";if(b){var j=N.split(T.includes("-")?Lk:"-",2).map(function(B){return B.trim()}),q=j[0],H=j[1],K=rv(q??"",T,n.props.locale,C),M=rv(H??"",T,n.props.locale,C),A=E?.getTime()!==K?.getTime(),k=S?.getTime()!==M?.getTime();if(!A&&!k||K&&Ri(K,n.props)||M&&Ri(M,n.props))return;(c=(o=n.props).onChange)===null||c===void 0||c.call(o,[K,M],y)}else{var L=rv(N,T,n.props.locale,C,(h=n.props.selected)!==null&&h!==void 0?h:void 0);(L||!N)&&n.setSelected(L,y,!0)}}},n.handleSelect=function(r,s,o){if(!n.props.readOnly){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(s),n.setSelected(r,s,!1,o),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(r);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var c=n.props,h=c.startDate,d=c.endDate;h&&!d&&(n.props.swapRange||!I1(r,h))&&n.setOpen(!1)}}},n.setSelected=function(r,s,o,c){var h,d,p=r;if(n.props.showYearPicker){if(p!==null&&Xp(Le(p),n.props))return}else if(n.props.showMonthYearPicker){if(p!==null&&Bk(p,n.props))return}else if(p!==null&&Ri(p,n.props))return;var y=n.props,_=y.onChange,b=y.selectsRange,E=y.startDate,S=y.endDate,T=y.selectsMultiple,C=y.selectedDates,N=y.minTime,j=y.swapRange;if(!Yo(n.props.selected,p)||n.props.allowSameDay||b||T)if(p!==null&&(n.props.selected&&(!o||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(p=sv(p,{hour:Ts(n.props.selected),minute:Ss(n.props.selected),second:Ra(n.props.selected)})),!o&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&N&&(p=sv(p,{hour:N.getHours(),minute:N.getMinutes(),second:N.getSeconds()})),n.props.inline||n.setState({preSelection:p}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:c})),b){var q=!E&&!S,H=E&&!S,K=E&&S;q?_?.([p,null],s):H&&(p===null?_?.([null,null],s):I1(p,E)?_?.(j?[p,E]:[p,null],s):_?.([E,p],s)),K&&_?.([p,null],s)}else if(T){if(p!==null)if(!C?.length)_?.([p],s);else{var M=C.some(function(k){return Qe(k,p)});if(M){var A=C.filter(function(k){return!Qe(k,p)});_?.(A,s)}else _?.(Er(Er([],C,!0),[p],!1),s)}}else _?.(p,s);o||((d=(h=n.props).onSelect)===null||d===void 0||d.call(h,p,s),n.setState({inputValue:null}))},n.setPreSelection=function(r){if(!n.props.readOnly){var s=Es(n.props.minDate),o=Es(n.props.maxDate),c=!0;if(r){var h=Kp(r);if(s&&o)c=kh(r,n.props.minDate,n.props.maxDate);else if(s){var d=Kp(n.props.minDate);c=Ba(r,d)||Yo(h,d)}else if(o){var p=b1(n.props.maxDate);c=rl(r,p)||Yo(h,p)}}c&&n.setState({preSelection:r})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(r){var s,o;if(!(n.props.selectsRange||n.props.selectsMultiple)){var c=n.props.selected?n.props.selected:n.getPreSelection(),h=n.props.selected?r:sv(c,{hour:Ts(r),minute:Ss(r)});n.setState({preSelection:h}),(o=(s=n.props).onChange)===null||o===void 0||o.call(s,h),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var r,s;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(s=(r=n.props).onInputClick)===null||s===void 0||s.call(r)},n.onInputKeyDown=function(r){var s,o,c,h,d,p;(o=(s=n.props).onKeyDown)===null||o===void 0||o.call(s,r);var y=r.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(y===me.ArrowDown||y===me.ArrowUp||y===me.Enter)&&((c=n.onInputClick)===null||c===void 0||c.call(n));return}if(n.state.open){if(y===me.ArrowDown||y===me.ArrowUp){r.preventDefault();var _=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',b=((h=n.calendar)===null||h===void 0?void 0:h.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(_);b instanceof HTMLElement&&b.focus({preventScroll:!0});return}var E=rt(n.state.preSelection);y===me.Enter?(r.preventDefault(),r.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===lv?(n.handleSelect(E,r),!n.props.shouldCloseOnSelect&&n.setPreSelection(E)):n.setOpen(!1)):y===me.Escape?(r.preventDefault(),r.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):y===me.Tab&&n.setOpen(!1),n.inputOk()||(p=(d=n.props).onInputError)===null||p===void 0||p.call(d,{code:1,msg:ov})}},n.onPortalKeyDown=function(r){var s=r.key;s===me.Escape&&(r.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(r){var s,o,c,h,d,p,y=n.props,_=y.minDate,b=y.maxDate,E=y.disabledKeyboardNavigation,S=y.showWeekPicker,T=y.shouldCloseOnSelect,C=y.locale,N=y.calendarStartDay,j=y.adjustDateOnChange,q=y.inline;if((o=(s=n.props).onKeyDown)===null||o===void 0||o.call(s,r),!E){var H=r.key,K=r.shiftKey,M=rt(n.state.preSelection),A=function(de,W){var ee=W;switch(de){case me.ArrowRight:ee=S?wm(W,1):Yi(W,1);break;case me.ArrowLeft:ee=S?o1(W):T5(W);break;case me.ArrowUp:ee=o1(W);break;case me.ArrowDown:ee=wm(W,1);break;case me.PageUp:ee=K?Bc(W,1):Go(W,1);break;case me.PageDown:ee=K?ws(W,1):$i(W,1);break;case me.Home:ee=ka(W,C,N);break;case me.End:ee=hz(W);break}return ee},k=function(de,W){for(var ee=40,ne=de,le=!1,F=0,re=A(de,W);!le;){if(F>=ee){re=W;break}_&&re<_&&(ne=me.ArrowRight,re=Ri(_,n.props)?A(ne,re):_),b&&re>b&&(ne=me.ArrowLeft,re=Ri(b,n.props)?A(ne,re):b),Ri(re,n.props)?((ne===me.PageUp||ne===me.Home)&&(ne=me.ArrowRight),(ne===me.PageDown||ne===me.End)&&(ne=me.ArrowLeft),re=A(ne,re)):le=!0,F++}return re};if(H===me.Enter){r.preventDefault(),n.handleSelect(M,r),!T&&n.setPreSelection(M);return}else if(H===me.Escape){r.preventDefault(),n.setOpen(!1),n.inputOk()||(h=(c=n.props).onInputError)===null||h===void 0||h.call(c,{code:1,msg:ov});return}var L=null;switch(H){case me.ArrowLeft:case me.ArrowRight:case me.ArrowUp:case me.ArrowDown:case me.PageUp:case me.PageDown:case me.Home:case me.End:L=k(H,M);break}if(!L){(p=(d=n.props).onInputError)===null||p===void 0||p.call(d,{code:1,msg:ov});return}if(r.preventDefault(),n.setState({lastPreSelectChange:lv}),j&&n.setSelected(L),n.setPreSelection(L),q){var B=Nn(M),U=Nn(L),V=Le(M),_e=Le(L);B!==U||V!==_e?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(r){var s=r.key;s===me.Escape&&(r.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(r){r&&r.preventDefault&&r.preventDefault(),n.sendFocusBackToInput();var s=n.props,o=s.selectsRange,c=s.onChange;c?.(o?[null,null]:null,r),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(r){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(r.target===document||r.target===document.documentElement||r.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(r)&&n.setOpen(!1)},n.renderCalendar=function(){var r,s;return!n.props.inline&&!n.isCalendarOpen()?null:ie.createElement(qz,Ke({showMonthYearDropdown:void 0,ref:function(o){n.calendar=o}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(r=n.props.dateFormatCalendar)!==null&&r!==void 0?r:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:Tz(n.modifyHolidays()),outsideClickIgnoreClass:N1,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(s=n.props.dropdownMode)!==null&&s!==void 0?s:e.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var r=n.props,s=r.dateFormat,o=s===void 0?e.defaultProps.dateFormat:s,c=r.locale,h=n.props.showTimeInput||n.props.showTimeSelect,d=h?"PPPPp":"PPPP",p;return n.props.selectsRange?p="Selected start date: ".concat(Ci(n.props.startDate,{dateFormat:d,locale:c}),". ").concat(n.props.endDate?"End date: "+Ci(n.props.endDate,{dateFormat:d,locale:c}):""):n.props.showTimeSelectOnly?p="Selected time: ".concat(Ci(n.props.selected,{dateFormat:o,locale:c})):n.props.showYearPicker?p="Selected year: ".concat(Ci(n.props.selected,{dateFormat:"yyyy",locale:c})):n.props.showMonthYearPicker?p="Selected month: ".concat(Ci(n.props.selected,{dateFormat:"MMMM yyyy",locale:c})):n.props.showQuarterYearPicker?p="Selected quarter: ".concat(Ci(n.props.selected,{dateFormat:"yyyy, QQQ",locale:c})):p="Selected date: ".concat(Ci(n.props.selected,{dateFormat:d,locale:c})),ie.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},p)},n.renderDateInput=function(){var r,s,o,c=Sn(n.props.className,(r={},r[N1]=n.state.open,r)),h=n.props.customInput||ie.createElement("input",{type:"text"}),d=n.props.customInputRef||"ref",p=n.props,y=p.dateFormat,_=y===void 0?e.defaultProps.dateFormat:y,b=p.locale,E=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?oz(n.props.startDate,n.props.endDate,{dateFormat:_,locale:b}):n.props.selectsMultiple?lz((o=n.props.selectedDates)!==null&&o!==void 0?o:[],{dateFormat:_,locale:b}):Ci(n.props.selected,{dateFormat:_,locale:b});return P.cloneElement(h,(s={},s[d]=function(S){n.input=S},s.value=E,s.onBlur=n.handleBlur,s.onChange=n.handleChange,s.onClick=n.onInputClick,s.onFocus=n.handleFocus,s.onKeyDown=n.onInputKeyDown,s.id=n.props.id,s.name=n.props.name,s.form=n.props.form,s.autoFocus=n.props.autoFocus,s.placeholder=n.props.placeholderText,s.disabled=n.props.disabled,s.autoComplete=n.props.autoComplete,s.className=Sn(h.props.className,c),s.title=n.props.title,s.readOnly=n.props.readOnly,s.required=n.props.required,s.tabIndex=n.props.tabIndex,s["aria-describedby"]=n.props.ariaDescribedBy,s["aria-invalid"]=n.props.ariaInvalid,s["aria-labelledby"]=n.props.ariaLabelledBy,s["aria-required"]=n.props.ariaRequired,s))},n.renderClearButton=function(){var r=n.props,s=r.isClearable,o=r.disabled,c=r.selected,h=r.startDate,d=r.endDate,p=r.clearButtonTitle,y=r.clearButtonClassName,_=y===void 0?"":y,b=r.ariaLabelClose,E=b===void 0?"Close":b,S=r.selectedDates,T=r.readOnly;return s&&!T&&(c!=null||h!=null||d!=null||S?.length)?ie.createElement("button",{type:"button",className:Sn("react-datepicker__close-icon",_,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":E,onClick:n.onClearClick,title:p,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Rd,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,n){var r,s,o,c;t.inline&&Zz(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:A1(this.props.highlightDates)}),!n.focused&&!Yo(t.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((s=(r=this.props).onCalendarOpen)===null||s===void 0||s.call(r)),n.open===!0&&this.state.open===!1&&((c=(o=this.props).onCalendarClose)===null||c===void 0||c.call(o)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,n=t.showIcon,r=t.icon,s=t.calendarIconClassname,o=t.calendarIconClassName,c=t.toggleCalendarOnIconClick,h=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ie.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&ie.createElement(Wz,Ke({icon:r,className:Sn(o,!o&&s,h&&"react-datepicker-ignore-onclickoutside")},c?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var n=this.state.open?ie.createElement(Hk,{enableTabLoop:this.props.enableTabLoop},ie.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(n=ie.createElement(zk,Ke({portalId:this.props.portalId},this.props),n)),ie.createElement("div",null,this.renderInputContainer(),n)}return ie.createElement(Xz,Ke({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e})(P.Component),eH="input",lv="navigate";const tH="_card_1f314_1",nH="_title_1f314_8",iH="_form_1f314_18",rH="_inputGroup_1f314_24",sH="_submitButton_1f314_51",aH="_dateDisplayButton_1f314_68",pa={card:tH,title:nH,form:iH,inputGroup:rH,submitButton:sH,dateDisplayButton:aH},oH=P.forwardRef(({onClick:i,getRelativeDateString:e,formattedDate:t},n)=>O.jsx("input",{type:"text",className:pa.dateDisplayButton,onClick:i,value:e(t),readOnly:!0,ref:n})),lH=({onSave:i,entries:e=[],getRelativeDateString:t})=>{const[n,r]=P.useState(new Date),[s,o]=P.useState(""),[c,h]=P.useState(!1),{showToast:d}=sk();P.useEffect(()=>{const y=e.find(_=>_.id===vc(n,"yyyy-MM-dd"));y?(o(y.weight_kg.toString()),h(!0)):(o(""),h(!1))},[n,e]);const p=y=>{if(y.preventDefault(),!s||Number(s)<=0){d("Please enter a valid weight.","error");return}i(vc(n,"yyyy-MM-dd"),s),d(`Weight for ${t(vc(n,"yyyy-MM-dd"))} has been saved.`,"success")};return O.jsxs("div",{className:pa.card,children:[O.jsx("h2",{className:pa.title,children:"Weight Entry"}),O.jsxs("form",{onSubmit:p,className:pa.form,children:[O.jsx("div",{className:pa.inputGroup,children:O.jsx(Jz,{selected:n,onChange:y=>r(y||new Date),dateFormat:"yyyy-MM-dd",maxDate:new Date,customInput:O.jsx(oH,{getRelativeDateString:t,formattedDate:vc(n,"yyyy-MM-dd")})})}),O.jsxs("div",{className:pa.inputGroup,children:[O.jsx("label",{htmlFor:"weight-kg",children:"Weight (kg)"}),O.jsx("input",{type:"number",id:"weight-kg",step:"0.1",placeholder:"e.g., 75.5",value:s,onChange:y=>o(y.target.value),className:pa.weightInput})]}),O.jsx("button",{type:"submit",className:pa.submitButton,children:c?"Update Weight":"Record Weight"})]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Md(i){return i+.5|0}const wa=(i,e,t)=>Math.max(Math.min(i,t),e);function Mh(i){return wa(Md(i*2.55),0,255)}function Ma(i){return wa(Md(i*255),0,255)}function ds(i){return wa(Md(i/2.55)/100,0,1)}function L1(i){return wa(Md(i*100),0,100)}const xi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ob=[..."0123456789ABCDEF"],cH=i=>ob[i&15],uH=i=>ob[(i&240)>>4]+ob[i&15],bp=i=>(i&240)>>4===(i&15),hH=i=>bp(i.r)&&bp(i.g)&&bp(i.b)&&bp(i.a);function dH(i){var e=i.length,t;return i[0]==="#"&&(e===4||e===5?t={r:255&xi[i[1]]*17,g:255&xi[i[2]]*17,b:255&xi[i[3]]*17,a:e===5?xi[i[4]]*17:255}:(e===7||e===9)&&(t={r:xi[i[1]]<<4|xi[i[2]],g:xi[i[3]]<<4|xi[i[4]],b:xi[i[5]]<<4|xi[i[6]],a:e===9?xi[i[7]]<<4|xi[i[8]]:255})),t}const fH=(i,e)=>i<255?e(i):"";function pH(i){var e=hH(i)?cH:uH;return i?"#"+e(i.r)+e(i.g)+e(i.b)+fH(i.a,e):void 0}const mH=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Yk(i,e,t){const n=e*Math.min(t,1-t),r=(s,o=(s+i/30)%12)=>t-n*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function gH(i,e,t){const n=(r,s=(r+i/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function yH(i,e,t){const n=Yk(i,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)n[r]*=1-e-t,n[r]+=e;return n}function _H(i,e,t,n,r){return i===r?(e-t)/n+(e<t?6:0):e===r?(t-i)/n+2:(i-e)/n+4}function N0(i){const t=i.r/255,n=i.g/255,r=i.b/255,s=Math.max(t,n,r),o=Math.min(t,n,r),c=(s+o)/2;let h,d,p;return s!==o&&(p=s-o,d=c>.5?p/(2-s-o):p/(s+o),h=_H(t,n,r,p,s),h=h*60+.5),[h|0,d||0,c]}function L0(i,e,t,n){return(Array.isArray(e)?i(e[0],e[1],e[2]):i(e,t,n)).map(Ma)}function V0(i,e,t){return L0(Yk,i,e,t)}function vH(i,e,t){return L0(yH,i,e,t)}function bH(i,e,t){return L0(gH,i,e,t)}function qk(i){return(i%360+360)%360}function wH(i){const e=mH.exec(i);let t=255,n;if(!e)return;e[5]!==n&&(t=e[6]?Mh(+e[5]):Ma(+e[5]));const r=qk(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?n=vH(r,s,o):e[1]==="hsv"?n=bH(r,s,o):n=V0(r,s,o),{r:n[0],g:n[1],b:n[2],a:t}}function EH(i,e){var t=N0(i);t[0]=qk(t[0]+e),t=V0(t),i.r=t[0],i.g=t[1],i.b=t[2]}function TH(i){if(!i)return;const e=N0(i),t=e[0],n=L1(e[1]),r=L1(e[2]);return i.a<255?`hsla(${t}, ${n}%, ${r}%, ${ds(i.a)})`:`hsl(${t}, ${n}%, ${r}%)`}const V1={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},B1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function SH(){const i={},e=Object.keys(B1),t=Object.keys(V1);let n,r,s,o,c;for(n=0;n<e.length;n++){for(o=c=e[n],r=0;r<t.length;r++)s=t[r],c=c.replace(s,V1[s]);s=parseInt(B1[o],16),i[c]=[s>>16&255,s>>8&255,s&255]}return i}let wp;function xH(i){wp||(wp=SH(),wp.transparent=[0,0,0,0]);const e=wp[i.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const DH=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function CH(i){const e=DH.exec(i);let t=255,n,r,s;if(e){if(e[7]!==n){const o=+e[7];t=e[8]?Mh(o):wa(o*255,0,255)}return n=+e[1],r=+e[3],s=+e[5],n=255&(e[2]?Mh(n):wa(n,0,255)),r=255&(e[4]?Mh(r):wa(r,0,255)),s=255&(e[6]?Mh(s):wa(s,0,255)),{r:n,g:r,b:s,a:t}}}function AH(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${ds(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}const cv=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,hc=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function RH(i,e,t){const n=hc(ds(i.r)),r=hc(ds(i.g)),s=hc(ds(i.b));return{r:Ma(cv(n+t*(hc(ds(e.r))-n))),g:Ma(cv(r+t*(hc(ds(e.g))-r))),b:Ma(cv(s+t*(hc(ds(e.b))-s))),a:i.a+t*(e.a-i.a)}}function Ep(i,e,t){if(i){let n=N0(i);n[e]=Math.max(0,Math.min(n[e]+n[e]*t,e===0?360:1)),n=V0(n),i.r=n[0],i.g=n[1],i.b=n[2]}}function Wk(i,e){return i&&Object.assign(e||{},i)}function F1(i){var e={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(e={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(e.a=Ma(i[3]))):(e=Wk(i,{r:0,g:0,b:0,a:1}),e.a=Ma(e.a)),e}function kH(i){return i.charAt(0)==="r"?CH(i):wH(i)}class sd{constructor(e){if(e instanceof sd)return e;const t=typeof e;let n;t==="object"?n=F1(e):t==="string"&&(n=dH(e)||xH(e)||kH(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=Wk(this._rgb);return e&&(e.a=ds(e.a)),e}set rgb(e){this._rgb=F1(e)}rgbString(){return this._valid?AH(this._rgb):void 0}hexString(){return this._valid?pH(this._rgb):void 0}hslString(){return this._valid?TH(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,r=e.rgb;let s;const o=t===s?.5:t,c=2*o-1,h=n.a-r.a,d=((c*h===-1?c:(c+h)/(1+c*h))+1)/2;s=1-d,n.r=255&d*n.r+s*r.r+.5,n.g=255&d*n.g+s*r.g+.5,n.b=255&d*n.b+s*r.b+.5,n.a=o*n.a+(1-o)*r.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=RH(this._rgb,e._rgb,t)),this}clone(){return new sd(this.rgb)}alpha(e){return this._rgb.a=Ma(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Md(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ep(this._rgb,2,e),this}darken(e){return Ep(this._rgb,2,-e),this}saturate(e){return Ep(this._rgb,1,e),this}desaturate(e){return Ep(this._rgb,1,-e),this}rotate(e){return EH(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ls(){}const MH=(()=>{let i=0;return()=>i++})();function Ue(i){return i==null}function xt(i){if(Array.isArray&&Array.isArray(i))return!0;const e=Object.prototype.toString.call(i);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ye(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function Nt(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function li(i,e){return Nt(i)?i:e}function Ie(i,e){return typeof i>"u"?e:i}const IH=(i,e)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/e,Gk=(i,e)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*e:+i;function vt(i,e,t){if(i&&typeof i.call=="function")return i.apply(t,e)}function ut(i,e,t,n){let r,s,o;if(xt(i))for(s=i.length,r=0;r<s;r++)e.call(t,i[r],r);else if(Ye(i))for(o=Object.keys(i),s=o.length,r=0;r<s;r++)e.call(t,i[o[r]],o[r])}function Om(i,e){let t,n,r,s;if(!i||!e||i.length!==e.length)return!1;for(t=0,n=i.length;t<n;++t)if(r=i[t],s=e[t],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Pm(i){if(xt(i))return i.map(Pm);if(Ye(i)){const e=Object.create(null),t=Object.keys(i),n=t.length;let r=0;for(;r<n;++r)e[t[r]]=Pm(i[t[r]]);return e}return i}function $k(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function OH(i,e,t,n){if(!$k(i))return;const r=e[i],s=t[i];Ye(r)&&Ye(s)?ad(r,s,n):e[i]=Pm(s)}function ad(i,e,t){const n=xt(e)?e:[e],r=n.length;if(!Ye(i))return i;t=t||{};const s=t.merger||OH;let o;for(let c=0;c<r;++c){if(o=n[c],!Ye(o))continue;const h=Object.keys(o);for(let d=0,p=h.length;d<p;++d)s(h[d],i,o,t)}return i}function zh(i,e){return ad(i,e,{merger:PH})}function PH(i,e,t){if(!$k(i))return;const n=e[i],r=t[i];Ye(n)&&Ye(r)?zh(n,r):Object.prototype.hasOwnProperty.call(e,i)||(e[i]=Pm(r))}const U1={"":i=>i,x:i=>i.x,y:i=>i.y};function NH(i){const e=i.split("."),t=[];let n="";for(const r of e)n+=r,n.endsWith("\\")?n=n.slice(0,-1)+".":(t.push(n),n="");return t}function LH(i){const e=NH(i);return t=>{for(const n of e){if(n==="")break;t=t&&t[n]}return t}}function Ua(i,e){return(U1[e]||(U1[e]=LH(e)))(i)}function B0(i){return i.charAt(0).toUpperCase()+i.slice(1)}const od=i=>typeof i<"u",ja=i=>typeof i=="function",j1=(i,e)=>{if(i.size!==e.size)return!1;for(const t of i)if(!e.has(t))return!1;return!0};function VH(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}const Je=Math.PI,Et=2*Je,BH=Et+Je,Nm=Number.POSITIVE_INFINITY,FH=Je/180,Yt=Je/2,Mo=Je/4,z1=Je*2/3,Ea=Math.log10,kr=Math.sign;function Hh(i,e,t){return Math.abs(i-e)<t}function H1(i){const e=Math.round(i);i=Hh(i,e,i/1e3)?e:i;const t=Math.pow(10,Math.floor(Ea(i))),n=i/t;return(n<=1?1:n<=2?2:n<=5?5:10)*t}function UH(i){const e=[],t=Math.sqrt(i);let n;for(n=1;n<t;n++)i%n===0&&(e.push(n),e.push(i/n));return t===(t|0)&&e.push(t),e.sort((r,s)=>r-s).pop(),e}function jH(i){return typeof i=="symbol"||typeof i=="object"&&i!==null&&!(Symbol.toPrimitive in i||"toString"in i||"valueOf"in i)}function Hc(i){return!jH(i)&&!isNaN(parseFloat(i))&&isFinite(i)}function zH(i,e){const t=Math.round(i);return t-e<=i&&t+e>=i}function Qk(i,e,t){let n,r,s;for(n=0,r=i.length;n<r;n++)s=i[n][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Hi(i){return i*(Je/180)}function F0(i){return i*(180/Je)}function Y1(i){if(!Nt(i))return;let e=1,t=0;for(;Math.round(i*e)/e!==i;)e*=10,t++;return t}function Kk(i,e){const t=e.x-i.x,n=e.y-i.y,r=Math.sqrt(t*t+n*n);let s=Math.atan2(n,t);return s<-.5*Je&&(s+=Et),{angle:s,distance:r}}function lb(i,e){return Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2))}function HH(i,e){return(i-e+BH)%Et-Je}function On(i){return(i%Et+Et)%Et}function ld(i,e,t,n){const r=On(i),s=On(e),o=On(t),c=On(s-r),h=On(o-r),d=On(r-s),p=On(r-o);return r===s||r===o||n&&s===o||c>h&&d<p}function pn(i,e,t){return Math.max(e,Math.min(t,i))}function YH(i){return pn(i,-32768,32767)}function ms(i,e,t,n=1e-6){return i>=Math.min(e,t)-n&&i<=Math.max(e,t)+n}function U0(i,e,t){t=t||(o=>i[o]<e);let n=i.length-1,r=0,s;for(;n-r>1;)s=r+n>>1,t(s)?r=s:n=s;return{lo:r,hi:n}}const gs=(i,e,t,n)=>U0(i,t,n?r=>{const s=i[r][e];return s<t||s===t&&i[r+1][e]===t}:r=>i[r][e]<t),qH=(i,e,t)=>U0(i,t,n=>i[n][e]>=t);function WH(i,e,t){let n=0,r=i.length;for(;n<r&&i[n]<e;)n++;for(;r>n&&i[r-1]>t;)r--;return n>0||r<i.length?i.slice(n,r):i}const Xk=["push","pop","shift","splice","unshift"];function GH(i,e){if(i._chartjs){i._chartjs.listeners.push(e);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Xk.forEach(t=>{const n="_onData"+B0(t),r=i[t];Object.defineProperty(i,t,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return i._chartjs.listeners.forEach(c=>{typeof c[n]=="function"&&c[n](...s)}),o}})})}function q1(i,e){const t=i._chartjs;if(!t)return;const n=t.listeners,r=n.indexOf(e);r!==-1&&n.splice(r,1),!(n.length>0)&&(Xk.forEach(s=>{delete i[s]}),delete i._chartjs)}function Zk(i){const e=new Set(i);return e.size===i.length?i:Array.from(e)}const Jk=(function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame})();function eM(i,e){let t=[],n=!1;return function(...r){t=r,n||(n=!0,Jk.call(window,()=>{n=!1,i.apply(e,t)}))}}function $H(i,e){let t;return function(...n){return e?(clearTimeout(t),t=setTimeout(i,e,n)):i.apply(this,n),e}}const j0=i=>i==="start"?"left":i==="end"?"right":"center",Mn=(i,e,t)=>i==="start"?e:i==="end"?t:(e+t)/2,QH=(i,e,t,n)=>i===(n?"left":"right")?t:i==="center"?(e+t)/2:e;function tM(i,e,t){const n=e.length;let r=0,s=n;if(i._sorted){const{iScale:o,vScale:c,_parsed:h}=i,d=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null,p=o.axis,{min:y,max:_,minDefined:b,maxDefined:E}=o.getUserBounds();if(b){if(r=Math.min(gs(h,p,y).lo,t?n:gs(e,p,o.getPixelForValue(y)).lo),d){const S=h.slice(0,r+1).reverse().findIndex(T=>!Ue(T[c.axis]));r-=Math.max(0,S)}r=pn(r,0,n-1)}if(E){let S=Math.max(gs(h,o.axis,_,!0).hi+1,t?0:gs(e,p,o.getPixelForValue(_),!0).hi+1);if(d){const T=h.slice(S-1).findIndex(C=>!Ue(C[c.axis]));S+=Math.max(0,T)}s=pn(S,r,n)-r}else s=n-r}return{start:r,count:s}}function nM(i){const{xScale:e,yScale:t,_scaleRanges:n}=i,r={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!n)return i._scaleRanges=r,!0;const s=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==t.min||n.ymax!==t.max;return Object.assign(n,r),s}const Tp=i=>i===0||i===1,W1=(i,e,t)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-e)*Et/t)),G1=(i,e,t)=>Math.pow(2,-10*i)*Math.sin((i-e)*Et/t)+1,Yh={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*Yt)+1,easeOutSine:i=>Math.sin(i*Yt),easeInOutSine:i=>-.5*(Math.cos(Je*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>Tp(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>Tp(i)?i:W1(i,.075,.3),easeOutElastic:i=>Tp(i)?i:G1(i,.075,.3),easeInOutElastic(i){return Tp(i)?i:i<.5?.5*W1(i*2,.1125,.45):.5+.5*G1(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let e=1.70158;return(i/=.5)<1?.5*(i*i*(((e*=1.525)+1)*i-e)):.5*((i-=2)*i*(((e*=1.525)+1)*i+e)+2)},easeInBounce:i=>1-Yh.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?Yh.easeInBounce(i*2)*.5:Yh.easeOutBounce(i*2-1)*.5+.5};function z0(i){if(i&&typeof i=="object"){const e=i.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function $1(i){return z0(i)?i:new sd(i)}function uv(i){return z0(i)?i:new sd(i).saturate(.5).darken(.1).hexString()}const KH=["x","y","borderWidth","radius","tension"],XH=["color","borderColor","backgroundColor"];function ZH(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),i.set("animations",{colors:{type:"color",properties:XH},numbers:{type:"number",properties:KH}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function JH(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Q1=new Map;function e7(i,e){e=e||{};const t=i+JSON.stringify(e);let n=Q1.get(t);return n||(n=new Intl.NumberFormat(i,e),Q1.set(t,n)),n}function Id(i,e,t){return e7(e,t).format(i)}const iM={values(i){return xt(i)?i:""+i},numeric(i,e,t){if(i===0)return"0";const n=this.chart.options.locale;let r,s=i;if(t.length>1){const d=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),s=t7(i,t)}const o=Ea(Math.abs(s)),c=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),h={notation:r,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(h,this.options.ticks.format),Id(i,n,h)},logarithmic(i,e,t){if(i===0)return"0";const n=t[e].significand||i/Math.pow(10,Math.floor(Ea(i)));return[1,2,3,5,10,15].includes(n)||e>.8*t.length?iM.numeric.call(this,i,e,t):""}};function t7(i,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&i!==Math.floor(i)&&(t=i-Math.floor(i)),t}var Dg={formatters:iM};function n7(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Dg.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const al=Object.create(null),cb=Object.create(null);function qh(i,e){if(!e)return i;const t=e.split(".");for(let n=0,r=t.length;n<r;++n){const s=t[n];i=i[s]||(i[s]=Object.create(null))}return i}function hv(i,e,t){return typeof e=="string"?ad(qh(i,e),t):ad(qh(i,""),e)}class i7{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,r)=>uv(r.backgroundColor),this.hoverBorderColor=(n,r)=>uv(r.borderColor),this.hoverColor=(n,r)=>uv(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return hv(this,e,t)}get(e){return qh(this,e)}describe(e,t){return hv(cb,e,t)}override(e,t){return hv(al,e,t)}route(e,t,n,r){const s=qh(this,e),o=qh(this,n),c="_"+t;Object.defineProperties(s,{[c]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const h=this[c],d=o[r];return Ye(h)?Object.assign({},d,h):Ie(h,d)},set(h){this[c]=h}}})}apply(e){e.forEach(t=>t(this))}}var Ct=new i7({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[ZH,JH,n7]);function r7(i){return!i||Ue(i.size)||Ue(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function Lm(i,e,t,n,r){let s=e[r];return s||(s=e[r]=i.measureText(r).width,t.push(r)),s>n&&(n=s),n}function s7(i,e,t,n){n=n||{};let r=n.data=n.data||{},s=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(r=n.data={},s=n.garbageCollect=[],n.font=e),i.save(),i.font=e;let o=0;const c=t.length;let h,d,p,y,_;for(h=0;h<c;h++)if(y=t[h],y!=null&&!xt(y))o=Lm(i,r,s,o,y);else if(xt(y))for(d=0,p=y.length;d<p;d++)_=y[d],_!=null&&!xt(_)&&(o=Lm(i,r,s,o,_));i.restore();const b=s.length/2;if(b>t.length){for(h=0;h<b;h++)delete r[s[h]];s.splice(0,b)}return o}function Io(i,e,t){const n=i.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*n)/n+r}function K1(i,e){!e&&!i||(e=e||i.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,i.width,i.height),e.restore())}function ub(i,e,t,n){rM(i,e,t,n,null)}function rM(i,e,t,n,r){let s,o,c,h,d,p,y,_;const b=e.pointStyle,E=e.rotation,S=e.radius;let T=(E||0)*FH;if(b&&typeof b=="object"&&(s=b.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){i.save(),i.translate(t,n),i.rotate(T),i.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),i.restore();return}if(!(isNaN(S)||S<=0)){switch(i.beginPath(),b){default:r?i.ellipse(t,n,r/2,S,0,0,Et):i.arc(t,n,S,0,Et),i.closePath();break;case"triangle":p=r?r/2:S,i.moveTo(t+Math.sin(T)*p,n-Math.cos(T)*S),T+=z1,i.lineTo(t+Math.sin(T)*p,n-Math.cos(T)*S),T+=z1,i.lineTo(t+Math.sin(T)*p,n-Math.cos(T)*S),i.closePath();break;case"rectRounded":d=S*.516,h=S-d,o=Math.cos(T+Mo)*h,y=Math.cos(T+Mo)*(r?r/2-d:h),c=Math.sin(T+Mo)*h,_=Math.sin(T+Mo)*(r?r/2-d:h),i.arc(t-y,n-c,d,T-Je,T-Yt),i.arc(t+_,n-o,d,T-Yt,T),i.arc(t+y,n+c,d,T,T+Yt),i.arc(t-_,n+o,d,T+Yt,T+Je),i.closePath();break;case"rect":if(!E){h=Math.SQRT1_2*S,p=r?r/2:h,i.rect(t-p,n-h,2*p,2*h);break}T+=Mo;case"rectRot":y=Math.cos(T)*(r?r/2:S),o=Math.cos(T)*S,c=Math.sin(T)*S,_=Math.sin(T)*(r?r/2:S),i.moveTo(t-y,n-c),i.lineTo(t+_,n-o),i.lineTo(t+y,n+c),i.lineTo(t-_,n+o),i.closePath();break;case"crossRot":T+=Mo;case"cross":y=Math.cos(T)*(r?r/2:S),o=Math.cos(T)*S,c=Math.sin(T)*S,_=Math.sin(T)*(r?r/2:S),i.moveTo(t-y,n-c),i.lineTo(t+y,n+c),i.moveTo(t+_,n-o),i.lineTo(t-_,n+o);break;case"star":y=Math.cos(T)*(r?r/2:S),o=Math.cos(T)*S,c=Math.sin(T)*S,_=Math.sin(T)*(r?r/2:S),i.moveTo(t-y,n-c),i.lineTo(t+y,n+c),i.moveTo(t+_,n-o),i.lineTo(t-_,n+o),T+=Mo,y=Math.cos(T)*(r?r/2:S),o=Math.cos(T)*S,c=Math.sin(T)*S,_=Math.sin(T)*(r?r/2:S),i.moveTo(t-y,n-c),i.lineTo(t+y,n+c),i.moveTo(t+_,n-o),i.lineTo(t-_,n+o);break;case"line":o=r?r/2:Math.cos(T)*S,c=Math.sin(T)*S,i.moveTo(t-o,n-c),i.lineTo(t+o,n+c);break;case"dash":i.moveTo(t,n),i.lineTo(t+Math.cos(T)*(r?r/2:S),n+Math.sin(T)*S);break;case!1:i.closePath();break}i.fill(),e.borderWidth>0&&i.stroke()}}function ys(i,e,t){return t=t||.5,!e||i&&i.x>e.left-t&&i.x<e.right+t&&i.y>e.top-t&&i.y<e.bottom+t}function Cg(i,e){i.save(),i.beginPath(),i.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),i.clip()}function Ag(i){i.restore()}function a7(i,e,t,n,r){if(!e)return i.lineTo(t.x,t.y);if(r==="middle"){const s=(e.x+t.x)/2;i.lineTo(s,e.y),i.lineTo(s,t.y)}else r==="after"!=!!n?i.lineTo(e.x,t.y):i.lineTo(t.x,e.y);i.lineTo(t.x,t.y)}function o7(i,e,t,n){if(!e)return i.lineTo(t.x,t.y);i.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?t.cp2x:t.cp1x,n?t.cp2y:t.cp1y,t.x,t.y)}function l7(i,e){e.translation&&i.translate(e.translation[0],e.translation[1]),Ue(e.rotation)||i.rotate(e.rotation),e.color&&(i.fillStyle=e.color),e.textAlign&&(i.textAlign=e.textAlign),e.textBaseline&&(i.textBaseline=e.textBaseline)}function c7(i,e,t,n,r){if(r.strikethrough||r.underline){const s=i.measureText(n),o=e-s.actualBoundingBoxLeft,c=e+s.actualBoundingBoxRight,h=t-s.actualBoundingBoxAscent,d=t+s.actualBoundingBoxDescent,p=r.strikethrough?(h+d)/2:d;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=r.decorationWidth||2,i.moveTo(o,p),i.lineTo(c,p),i.stroke()}}function u7(i,e){const t=i.fillStyle;i.fillStyle=e.color,i.fillRect(e.left,e.top,e.width,e.height),i.fillStyle=t}function ol(i,e,t,n,r,s={}){const o=xt(e)?e:[e],c=s.strokeWidth>0&&s.strokeColor!=="";let h,d;for(i.save(),i.font=r.string,l7(i,s),h=0;h<o.length;++h)d=o[h],s.backdrop&&u7(i,s.backdrop),c&&(s.strokeColor&&(i.strokeStyle=s.strokeColor),Ue(s.strokeWidth)||(i.lineWidth=s.strokeWidth),i.strokeText(d,t,n,s.maxWidth)),i.fillText(d,t,n,s.maxWidth),c7(i,t,n,d,s),n+=Number(r.lineHeight);i.restore()}function cd(i,e){const{x:t,y:n,w:r,h:s,radius:o}=e;i.arc(t+o.topLeft,n+o.topLeft,o.topLeft,1.5*Je,Je,!0),i.lineTo(t,n+s-o.bottomLeft),i.arc(t+o.bottomLeft,n+s-o.bottomLeft,o.bottomLeft,Je,Yt,!0),i.lineTo(t+r-o.bottomRight,n+s),i.arc(t+r-o.bottomRight,n+s-o.bottomRight,o.bottomRight,Yt,0,!0),i.lineTo(t+r,n+o.topRight),i.arc(t+r-o.topRight,n+o.topRight,o.topRight,0,-Yt,!0),i.lineTo(t+o.topLeft,n)}const h7=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,d7=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function f7(i,e){const t=(""+i).match(h7);if(!t||t[1]==="normal")return e*1.2;switch(i=+t[2],t[3]){case"px":return i;case"%":i/=100;break}return e*i}const p7=i=>+i||0;function H0(i,e){const t={},n=Ye(e),r=n?Object.keys(e):e,s=Ye(i)?n?o=>Ie(i[o],i[e[o]]):o=>i[o]:()=>i;for(const o of r)t[o]=p7(s(o));return t}function sM(i){return H0(i,{top:"y",right:"x",bottom:"y",left:"x"})}function Qo(i){return H0(i,["topLeft","topRight","bottomLeft","bottomRight"])}function Bn(i){const e=sM(i);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function sn(i,e){i=i||{},e=e||Ct.font;let t=Ie(i.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let n=Ie(i.style,e.style);n&&!(""+n).match(d7)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const r={family:Ie(i.family,e.family),lineHeight:f7(Ie(i.lineHeight,e.lineHeight),t),size:t,style:n,weight:Ie(i.weight,e.weight),string:""};return r.string=r7(r),r}function Ih(i,e,t,n){let r,s,o;for(r=0,s=i.length;r<s;++r)if(o=i[r],o!==void 0&&o!==void 0)return o}function m7(i,e,t){const{min:n,max:r}=i,s=Gk(e,(r-n)/2),o=(c,h)=>t&&c===0?0:c+h;return{min:o(n,-Math.abs(s)),max:o(r,s)}}function qa(i,e){return Object.assign(Object.create(i),e)}function Y0(i,e=[""],t,n,r=()=>i[0]){const s=t||i;typeof n>"u"&&(n=cM("_fallback",i));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:s,_fallback:n,_getTarget:r,override:c=>Y0([c,...i],e,s,n)};return new Proxy(o,{deleteProperty(c,h){return delete c[h],delete c._keys,delete i[0][h],!0},get(c,h){return oM(c,h,()=>T7(h,e,i,c))},getOwnPropertyDescriptor(c,h){return Reflect.getOwnPropertyDescriptor(c._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(c,h){return Z1(c).includes(h)},ownKeys(c){return Z1(c)},set(c,h,d){const p=c._storage||(c._storage=r());return c[h]=p[h]=d,delete c._keys,!0}})}function Yc(i,e,t,n){const r={_cacheable:!1,_proxy:i,_context:e,_subProxy:t,_stack:new Set,_descriptors:aM(i,n),setContext:s=>Yc(i,s,t,n),override:s=>Yc(i.override(s),e,t,n)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete i[o],!0},get(s,o,c){return oM(s,o,()=>y7(s,o,c))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(i,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,o)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(s,o){return Reflect.has(i,o)},ownKeys(){return Reflect.ownKeys(i)},set(s,o,c){return i[o]=c,delete s[o],!0}})}function aM(i,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:n=e.indexable,_allKeys:r=e.allKeys}=i;return{allKeys:r,scriptable:t,indexable:n,isScriptable:ja(t)?t:()=>t,isIndexable:ja(n)?n:()=>n}}const g7=(i,e)=>i?i+B0(e):e,q0=(i,e)=>Ye(e)&&i!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function oM(i,e,t){if(Object.prototype.hasOwnProperty.call(i,e)||e==="constructor")return i[e];const n=t();return i[e]=n,n}function y7(i,e,t){const{_proxy:n,_context:r,_subProxy:s,_descriptors:o}=i;let c=n[e];return ja(c)&&o.isScriptable(e)&&(c=_7(e,c,i,t)),xt(c)&&c.length&&(c=v7(e,c,i,o.isIndexable)),q0(e,c)&&(c=Yc(c,r,s&&s[e],o)),c}function _7(i,e,t,n){const{_proxy:r,_context:s,_subProxy:o,_stack:c}=t;if(c.has(i))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+i);c.add(i);let h=e(s,o||n);return c.delete(i),q0(i,h)&&(h=W0(r._scopes,r,i,h)),h}function v7(i,e,t,n){const{_proxy:r,_context:s,_subProxy:o,_descriptors:c}=t;if(typeof s.index<"u"&&n(i))return e[s.index%e.length];if(Ye(e[0])){const h=e,d=r._scopes.filter(p=>p!==h);e=[];for(const p of h){const y=W0(d,r,i,p);e.push(Yc(y,s,o&&o[i],c))}}return e}function lM(i,e,t){return ja(i)?i(e,t):i}const b7=(i,e)=>i===!0?e:typeof i=="string"?Ua(e,i):void 0;function w7(i,e,t,n,r){for(const s of e){const o=b7(t,s);if(o){i.add(o);const c=lM(o._fallback,t,r);if(typeof c<"u"&&c!==t&&c!==n)return c}else if(o===!1&&typeof n<"u"&&t!==n)return null}return!1}function W0(i,e,t,n){const r=e._rootScopes,s=lM(e._fallback,t,n),o=[...i,...r],c=new Set;c.add(n);let h=X1(c,o,t,s||t,n);return h===null||typeof s<"u"&&s!==t&&(h=X1(c,o,s,h,n),h===null)?!1:Y0(Array.from(c),[""],r,s,()=>E7(e,t,n))}function X1(i,e,t,n,r){for(;t;)t=w7(i,e,t,n,r);return t}function E7(i,e,t){const n=i._getTarget();e in n||(n[e]={});const r=n[e];return xt(r)&&Ye(t)?t:r||{}}function T7(i,e,t,n){let r;for(const s of e)if(r=cM(g7(s,i),t),typeof r<"u")return q0(i,r)?W0(t,n,i,r):r}function cM(i,e){for(const t of e){if(!t)continue;const n=t[i];if(typeof n<"u")return n}}function Z1(i){let e=i._keys;return e||(e=i._keys=S7(i._scopes)),e}function S7(i){const e=new Set;for(const t of i)for(const n of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(n);return Array.from(e)}function uM(i,e,t,n){const{iScale:r}=i,{key:s="r"}=this._parsing,o=new Array(n);let c,h,d,p;for(c=0,h=n;c<h;++c)d=c+t,p=e[d],o[c]={r:r.parse(Ua(p,s),d)};return o}const x7=Number.EPSILON||1e-14,qc=(i,e)=>e<i.length&&!i[e].skip&&i[e],hM=i=>i==="x"?"y":"x";function D7(i,e,t,n){const r=i.skip?e:i,s=e,o=t.skip?e:t,c=lb(s,r),h=lb(o,s);let d=c/(c+h),p=h/(c+h);d=isNaN(d)?0:d,p=isNaN(p)?0:p;const y=n*d,_=n*p;return{previous:{x:s.x-y*(o.x-r.x),y:s.y-y*(o.y-r.y)},next:{x:s.x+_*(o.x-r.x),y:s.y+_*(o.y-r.y)}}}function C7(i,e,t){const n=i.length;let r,s,o,c,h,d=qc(i,0);for(let p=0;p<n-1;++p)if(h=d,d=qc(i,p+1),!(!h||!d)){if(Hh(e[p],0,x7)){t[p]=t[p+1]=0;continue}r=t[p]/e[p],s=t[p+1]/e[p],c=Math.pow(r,2)+Math.pow(s,2),!(c<=9)&&(o=3/Math.sqrt(c),t[p]=r*o*e[p],t[p+1]=s*o*e[p])}}function A7(i,e,t="x"){const n=hM(t),r=i.length;let s,o,c,h=qc(i,0);for(let d=0;d<r;++d){if(o=c,c=h,h=qc(i,d+1),!c)continue;const p=c[t],y=c[n];o&&(s=(p-o[t])/3,c[`cp1${t}`]=p-s,c[`cp1${n}`]=y-s*e[d]),h&&(s=(h[t]-p)/3,c[`cp2${t}`]=p+s,c[`cp2${n}`]=y+s*e[d])}}function R7(i,e="x"){const t=hM(e),n=i.length,r=Array(n).fill(0),s=Array(n);let o,c,h,d=qc(i,0);for(o=0;o<n;++o)if(c=h,h=d,d=qc(i,o+1),!!h){if(d){const p=d[e]-h[e];r[o]=p!==0?(d[t]-h[t])/p:0}s[o]=c?d?kr(r[o-1])!==kr(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}C7(i,r,s),A7(i,s,e)}function Sp(i,e,t){return Math.max(Math.min(i,t),e)}function k7(i,e){let t,n,r,s,o,c=ys(i[0],e);for(t=0,n=i.length;t<n;++t)o=s,s=c,c=t<n-1&&ys(i[t+1],e),s&&(r=i[t],o&&(r.cp1x=Sp(r.cp1x,e.left,e.right),r.cp1y=Sp(r.cp1y,e.top,e.bottom)),c&&(r.cp2x=Sp(r.cp2x,e.left,e.right),r.cp2y=Sp(r.cp2y,e.top,e.bottom)))}function M7(i,e,t,n,r){let s,o,c,h;if(e.spanGaps&&(i=i.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")R7(i,r);else{let d=n?i[i.length-1]:i[0];for(s=0,o=i.length;s<o;++s)c=i[s],h=D7(d,c,i[Math.min(s+1,o-(n?0:1))%o],e.tension),c.cp1x=h.previous.x,c.cp1y=h.previous.y,c.cp2x=h.next.x,c.cp2y=h.next.y,d=c}e.capBezierPoints&&k7(i,t)}function G0(){return typeof window<"u"&&typeof document<"u"}function $0(i){let e=i.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Vm(i,e,t){let n;return typeof i=="string"?(n=parseInt(i,10),i.indexOf("%")!==-1&&(n=n/100*e.parentNode[t])):n=i,n}const Rg=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function I7(i,e){return Rg(i).getPropertyValue(e)}const O7=["top","right","bottom","left"];function Ko(i,e,t){const n={};t=t?"-"+t:"";for(let r=0;r<4;r++){const s=O7[r];n[s]=parseFloat(i[e+"-"+s+t])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const P7=(i,e,t)=>(i>0||e>0)&&(!t||!t.shadowRoot);function N7(i,e){const t=i.touches,n=t&&t.length?t[0]:i,{offsetX:r,offsetY:s}=n;let o=!1,c,h;if(P7(r,s,i.target))c=r,h=s;else{const d=e.getBoundingClientRect();c=n.clientX-d.left,h=n.clientY-d.top,o=!0}return{x:c,y:h,box:o}}function Fo(i,e){if("native"in i)return i;const{canvas:t,currentDevicePixelRatio:n}=e,r=Rg(t),s=r.boxSizing==="border-box",o=Ko(r,"padding"),c=Ko(r,"border","width"),{x:h,y:d,box:p}=N7(i,t),y=o.left+(p&&c.left),_=o.top+(p&&c.top);let{width:b,height:E}=e;return s&&(b-=o.width+c.width,E-=o.height+c.height),{x:Math.round((h-y)/b*t.width/n),y:Math.round((d-_)/E*t.height/n)}}function L7(i,e,t){let n,r;if(e===void 0||t===void 0){const s=i&&$0(i);if(!s)e=i.clientWidth,t=i.clientHeight;else{const o=s.getBoundingClientRect(),c=Rg(s),h=Ko(c,"border","width"),d=Ko(c,"padding");e=o.width-d.width-h.width,t=o.height-d.height-h.height,n=Vm(c.maxWidth,s,"clientWidth"),r=Vm(c.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:n||Nm,maxHeight:r||Nm}}const xp=i=>Math.round(i*10)/10;function V7(i,e,t,n){const r=Rg(i),s=Ko(r,"margin"),o=Vm(r.maxWidth,i,"clientWidth")||Nm,c=Vm(r.maxHeight,i,"clientHeight")||Nm,h=L7(i,e,t);let{width:d,height:p}=h;if(r.boxSizing==="content-box"){const _=Ko(r,"border","width"),b=Ko(r,"padding");d-=b.width+_.width,p-=b.height+_.height}return d=Math.max(0,d-s.width),p=Math.max(0,n?d/n:p-s.height),d=xp(Math.min(d,o,h.maxWidth)),p=xp(Math.min(p,c,h.maxHeight)),d&&!p&&(p=xp(d/2)),(e!==void 0||t!==void 0)&&n&&h.height&&p>h.height&&(p=h.height,d=xp(Math.floor(p*n))),{width:d,height:p}}function J1(i,e,t){const n=e||1,r=Math.floor(i.height*n),s=Math.floor(i.width*n);i.height=Math.floor(i.height),i.width=Math.floor(i.width);const o=i.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${i.height}px`,o.style.width=`${i.width}px`),i.currentDevicePixelRatio!==n||o.height!==r||o.width!==s?(i.currentDevicePixelRatio=n,o.height=r,o.width=s,i.ctx.setTransform(n,0,0,n,0,0),!0):!1}const B7=(function(){let i=!1;try{const e={get passive(){return i=!0,!1}};G0()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return i})();function eD(i,e){const t=I7(i,e),n=t&&t.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Uo(i,e,t,n){return{x:i.x+t*(e.x-i.x),y:i.y+t*(e.y-i.y)}}function F7(i,e,t,n){return{x:i.x+t*(e.x-i.x),y:n==="middle"?t<.5?i.y:e.y:n==="after"?t<1?i.y:e.y:t>0?e.y:i.y}}function U7(i,e,t,n){const r={x:i.cp2x,y:i.cp2y},s={x:e.cp1x,y:e.cp1y},o=Uo(i,r,t),c=Uo(r,s,t),h=Uo(s,e,t),d=Uo(o,c,t),p=Uo(c,h,t);return Uo(d,p,t)}const j7=function(i,e){return{x(t){return i+i+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,n){return t-n},leftForLtr(t,n){return t-n}}},z7=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,e){return i+e},leftForLtr(i,e){return i}}};function Cc(i,e,t){return i?j7(e,t):z7()}function dM(i,e){let t,n;(e==="ltr"||e==="rtl")&&(t=i.canvas.style,n=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),i.prevTextDirection=n)}function fM(i,e){e!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",e[0],e[1]))}function pM(i){return i==="angle"?{between:ld,compare:HH,normalize:On}:{between:ms,compare:(e,t)=>e-t,normalize:e=>e}}function tD({start:i,end:e,count:t,loop:n,style:r}){return{start:i%t,end:e%t,loop:n&&(e-i+1)%t===0,style:r}}function H7(i,e,t){const{property:n,start:r,end:s}=t,{between:o,normalize:c}=pM(n),h=e.length;let{start:d,end:p,loop:y}=i,_,b;if(y){for(d+=h,p+=h,_=0,b=h;_<b&&o(c(e[d%h][n]),r,s);++_)d--,p--;d%=h,p%=h}return p<d&&(p+=h),{start:d,end:p,loop:y,style:i.style}}function mM(i,e,t){if(!t)return[i];const{property:n,start:r,end:s}=t,o=e.length,{compare:c,between:h,normalize:d}=pM(n),{start:p,end:y,loop:_,style:b}=H7(i,e,t),E=[];let S=!1,T=null,C,N,j;const q=()=>h(r,j,C)&&c(r,j)!==0,H=()=>c(s,C)===0||h(s,j,C),K=()=>S||q(),M=()=>!S||H();for(let A=p,k=p;A<=y;++A)N=e[A%o],!N.skip&&(C=d(N[n]),C!==j&&(S=h(C,r,s),T===null&&K()&&(T=c(C,r)===0?A:k),T!==null&&M()&&(E.push(tD({start:T,end:A,loop:_,count:o,style:b})),T=null),k=A,j=C));return T!==null&&E.push(tD({start:T,end:y,loop:_,count:o,style:b})),E}function gM(i,e){const t=[],n=i.segments;for(let r=0;r<n.length;r++){const s=mM(n[r],i.points,e);s.length&&t.push(...s)}return t}function Y7(i,e,t,n){let r=0,s=e-1;if(t&&!n)for(;r<e&&!i[r].skip;)r++;for(;r<e&&i[r].skip;)r++;for(r%=e,t&&(s+=r);s>r&&i[s%e].skip;)s--;return s%=e,{start:r,end:s}}function q7(i,e,t,n){const r=i.length,s=[];let o=e,c=i[e],h;for(h=e+1;h<=t;++h){const d=i[h%r];d.skip||d.stop?c.skip||(n=!1,s.push({start:e%r,end:(h-1)%r,loop:n}),e=o=d.stop?h:null):(o=h,c.skip&&(e=h)),c=d}return o!==null&&s.push({start:e%r,end:o%r,loop:n}),s}function W7(i,e){const t=i.points,n=i.options.spanGaps,r=t.length;if(!r)return[];const s=!!i._loop,{start:o,end:c}=Y7(t,r,s,n);if(n===!0)return nD(i,[{start:o,end:c,loop:s}],t,e);const h=c<o?c+r:c,d=!!i._fullLoop&&o===0&&c===r-1;return nD(i,q7(t,o,h,d),t,e)}function nD(i,e,t,n){return!n||!n.setContext||!t?e:G7(i,e,t,n)}function G7(i,e,t,n){const r=i._chart.getContext(),s=iD(i.options),{_datasetIndex:o,options:{spanGaps:c}}=i,h=t.length,d=[];let p=s,y=e[0].start,_=y;function b(E,S,T,C){const N=c?-1:1;if(E!==S){for(E+=h;t[E%h].skip;)E-=N;for(;t[S%h].skip;)S+=N;E%h!==S%h&&(d.push({start:E%h,end:S%h,loop:T,style:C}),p=C,y=S%h)}}for(const E of e){y=c?y:E.start;let S=t[y%h],T;for(_=y+1;_<=E.end;_++){const C=t[_%h];T=iD(n.setContext(qa(r,{type:"segment",p0:S,p1:C,p0DataIndex:(_-1)%h,p1DataIndex:_%h,datasetIndex:o}))),$7(T,p)&&b(y,_-1,E.loop,p),S=C,p=T}y<_-1&&b(y,_-1,E.loop,p)}return d}function iD(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function $7(i,e){if(!e)return!1;const t=[],n=function(r,s){return z0(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(i,n)!==JSON.stringify(e,n)}function Dp(i,e,t){return i.options.clip?i[t]:e[t]}function Q7(i,e){const{xScale:t,yScale:n}=i;return t&&n?{left:Dp(t,e,"left"),right:Dp(t,e,"right"),top:Dp(n,e,"top"),bottom:Dp(n,e,"bottom")}:e}function yM(i,e){const t=e._clip;if(t.disabled)return!1;const n=Q7(e,i.chartArea);return{left:t.left===!1?0:n.left-(t.left===!0?0:t.left),right:t.right===!1?i.width:n.right+(t.right===!0?0:t.right),top:t.top===!1?0:n.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?i.height:n.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class K7{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,r){const s=t.listeners[r],o=t.duration;s.forEach(c=>c({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(n-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Jk.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;const s=n.items;let o=s.length-1,c=!1,h;for(;o>=0;--o)h=s[o],h._active?(h._total>n.duration&&(n.duration=h._total),h.tick(e),c=!0):(s[o]=s[s.length-1],s.pop());c&&(r.draw(),this._notify(r,n,e,"progress")),s.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((n,r)=>Math.max(n,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var us=new K7;const rD="transparent",X7={boolean(i,e,t){return t>.5?e:i},color(i,e,t){const n=$1(i||rD),r=n.valid&&$1(e||rD);return r&&r.valid?r.mix(n,t).hexString():e},number(i,e,t){return i+(e-i)*t}};class Z7{constructor(e,t,n,r){const s=t[n];r=Ih([e.to,r,s,e.from]);const o=Ih([e.from,s,r]);this._active=!0,this._fn=e.fn||X7[e.type||typeof o],this._easing=Yh[e.easing]||Yh.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const r=this._target[this._prop],s=n-this._start,o=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Ih([e.to,t,r,e.from]),this._from=Ih([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,r=this._prop,s=this._from,o=this._loop,c=this._to;let h;if(this._active=s!==c&&(o||t<n),!this._active){this._target[r]=c,this._notify(!0);return}if(t<0){this._target[r]=s;return}h=t/n%2,h=o&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[r]=this._fn(s,c,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][t]()}}class _M{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Ye(e))return;const t=Object.keys(Ct.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!Ye(s))return;const o={};for(const c of t)o[c]=s[c];(xt(s.properties)&&s.properties||[r]).forEach(c=>{(c===r||!n.has(c))&&n.set(c,o)})})}_animateOptions(e,t){const n=t.options,r=eY(e,n);if(!r)return[];const s=this._createAnimations(r,n);return n.$shared&&J7(e.options.$animations,n).then(()=>{e.options=n},()=>{}),s}_createAnimations(e,t){const n=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(t),c=Date.now();let h;for(h=o.length-1;h>=0;--h){const d=o[h];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(e,t));continue}const p=t[d];let y=s[d];const _=n.get(d);if(y)if(_&&y.active()){y.update(_,p,c);continue}else y.cancel();if(!_||!_.duration){e[d]=p;continue}s[d]=y=new Z7(_,e,d,p),r.push(y)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const n=this._createAnimations(e,t);if(n.length)return us.add(this._chart,n),!0}}function J7(i,e){const t=[],n=Object.keys(e);for(let r=0;r<n.length;r++){const s=i[n[r]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function eY(i,e){if(!e)return;let t=i.options;if(!t){i.options=e;return}return t.$shared&&(i.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function sD(i,e){const t=i&&i.options||{},n=t.reverse,r=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:n?s:r,end:n?r:s}}function tY(i,e,t){if(t===!1)return!1;const n=sD(i,t),r=sD(e,t);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}function nY(i){let e,t,n,r;return Ye(i)?(e=i.top,t=i.right,n=i.bottom,r=i.left):e=t=n=r=i,{top:e,right:t,bottom:n,left:r,disabled:i===!1}}function vM(i,e){const t=[],n=i._getSortedDatasetMetas(e);let r,s;for(r=0,s=n.length;r<s;++r)t.push(n[r].index);return t}function aD(i,e,t,n={}){const r=i.keys,s=n.mode==="single";let o,c,h,d;if(e===null)return;let p=!1;for(o=0,c=r.length;o<c;++o){if(h=+r[o],h===t){if(p=!0,n.all)continue;break}d=i.values[h],Nt(d)&&(s||e===0||kr(e)===kr(d))&&(e+=d)}return!p&&!n.all?0:e}function iY(i,e){const{iScale:t,vScale:n}=e,r=t.axis==="x"?"x":"y",s=n.axis==="x"?"x":"y",o=Object.keys(i),c=new Array(o.length);let h,d,p;for(h=0,d=o.length;h<d;++h)p=o[h],c[h]={[r]:p,[s]:i[p]};return c}function dv(i,e){const t=i&&i.options.stacked;return t||t===void 0&&e.stack!==void 0}function rY(i,e,t){return`${i.id}.${e.id}.${t.stack||t.type}`}function sY(i){const{min:e,max:t,minDefined:n,maxDefined:r}=i.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function aY(i,e,t){const n=i[e]||(i[e]={});return n[t]||(n[t]={})}function oD(i,e,t,n){for(const r of e.getMatchingVisibleMetas(n).reverse()){const s=i[r.index];if(t&&s>0||!t&&s<0)return r.index}return null}function lD(i,e){const{chart:t,_cachedMeta:n}=i,r=t._stacks||(t._stacks={}),{iScale:s,vScale:o,index:c}=n,h=s.axis,d=o.axis,p=rY(s,o,n),y=e.length;let _;for(let b=0;b<y;++b){const E=e[b],{[h]:S,[d]:T}=E,C=E._stacks||(E._stacks={});_=C[d]=aY(r,p,S),_[c]=T,_._top=oD(_,o,!0,n.type),_._bottom=oD(_,o,!1,n.type);const N=_._visualValues||(_._visualValues={});N[c]=T}}function fv(i,e){const t=i.scales;return Object.keys(t).filter(n=>t[n].axis===e).shift()}function oY(i,e){return qa(i,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function lY(i,e,t){return qa(i,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function _h(i,e){const t=i.controller.index,n=i.vScale&&i.vScale.axis;if(n){e=e||i._parsed;for(const r of e){const s=r._stacks;if(!s||s[n]===void 0||s[n][t]===void 0)return;delete s[n][t],s[n]._visualValues!==void 0&&s[n]._visualValues[t]!==void 0&&delete s[n]._visualValues[t]}}}const pv=i=>i==="reset"||i==="none",cD=(i,e)=>e?i:Object.assign({},i),cY=(i,e,t)=>i&&!e.hidden&&e._stacked&&{keys:vM(t,!0),values:null};class Wa{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=dv(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&_h(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),r=(y,_,b,E)=>y==="x"?_:y==="r"?E:b,s=t.xAxisID=Ie(n.xAxisID,fv(e,"x")),o=t.yAxisID=Ie(n.yAxisID,fv(e,"y")),c=t.rAxisID=Ie(n.rAxisID,fv(e,"r")),h=t.indexAxis,d=t.iAxisID=r(h,s,o,c),p=t.vAxisID=r(h,o,s,c);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(c),t.iScale=this.getScaleForId(d),t.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&q1(this._data,this),e._stacked&&_h(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(Ye(t)){const r=this._cachedMeta;this._data=iY(t,r)}else if(n!==t){if(n){q1(n,this);const r=this._cachedMeta;_h(r),r._parsed=[]}t&&Object.isExtensible(t)&&GH(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const s=t._stacked;t._stacked=dv(t.vScale,t),t.stack!==n.stack&&(r=!0,_h(t),t.stack=n.stack),this._resyncElements(e),(r||s!==t._stacked)&&(lD(this,t._parsed),t._stacked=dv(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:r}=this,{iScale:s,_stacked:o}=n,c=s.axis;let h=e===0&&t===r.length?!0:n._sorted,d=e>0&&n._parsed[e-1],p,y,_;if(this._parsing===!1)n._parsed=r,n._sorted=!0,_=r;else{xt(r[e])?_=this.parseArrayData(n,r,e,t):Ye(r[e])?_=this.parseObjectData(n,r,e,t):_=this.parsePrimitiveData(n,r,e,t);const b=()=>y[c]===null||d&&y[c]<d[c];for(p=0;p<t;++p)n._parsed[p+e]=y=_[p],h&&(b()&&(h=!1),d=y);n._sorted=h}o&&lD(this,_)}parsePrimitiveData(e,t,n,r){const{iScale:s,vScale:o}=e,c=s.axis,h=o.axis,d=s.getLabels(),p=s===o,y=new Array(r);let _,b,E;for(_=0,b=r;_<b;++_)E=_+n,y[_]={[c]:p||s.parse(d[E],E),[h]:o.parse(t[E],E)};return y}parseArrayData(e,t,n,r){const{xScale:s,yScale:o}=e,c=new Array(r);let h,d,p,y;for(h=0,d=r;h<d;++h)p=h+n,y=t[p],c[h]={x:s.parse(y[0],p),y:o.parse(y[1],p)};return c}parseObjectData(e,t,n,r){const{xScale:s,yScale:o}=e,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,d=new Array(r);let p,y,_,b;for(p=0,y=r;p<y;++p)_=p+n,b=t[_],d[p]={x:s.parse(Ua(b,c),_),y:o.parse(Ua(b,h),_)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const r=this.chart,s=this._cachedMeta,o=t[e.axis],c={keys:vM(r,!0),values:t._stacks[e.axis]._visualValues};return aD(c,o,s.index,{mode:n})}updateRangeFromParsed(e,t,n,r){const s=n[t.axis];let o=s===null?NaN:s;const c=r&&n._stacks[t.axis];r&&c&&(r.values=c,o=aD(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const n=this._cachedMeta,r=n._parsed,s=n._sorted&&e===n.iScale,o=r.length,c=this._getOtherScale(e),h=cY(t,n,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:y}=sY(c);let _,b;function E(){b=r[_];const S=b[c.axis];return!Nt(b[e.axis])||p>S||y<S}for(_=0;_<o&&!(!E()&&(this.updateRangeFromParsed(d,e,b,h),s));++_);if(s){for(_=o-1;_>=0;--_)if(!E()){this.updateRangeFromParsed(d,e,b,h);break}}return d}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let r,s,o;for(r=0,s=t.length;r<s;++r)o=t[r][e.axis],Nt(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,r=t.vScale,s=this.getParsed(e);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=nY(Ie(this.options.clip,tY(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,r=n.data||[],s=t.chartArea,o=[],c=this._drawStart||0,h=this._drawCount||r.length-c,d=this.options.drawActiveElementsOnTop;let p;for(n.dataset&&n.dataset.draw(e,s,c,h),p=c;p<c+h;++p){const y=r[p];y.hidden||(y.active&&d?o.push(y):y.draw(e,s))}for(p=0;p<o.length;++p)o[p].draw(e,s)}getStyle(e,t){const n=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=lY(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=oY(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){const r=t==="active",s=this._cachedDataOpts,o=e+"-"+t,c=s[o],h=this.enableOptionSharing&&od(n);if(c)return cD(c,h);const d=this.chart.config,p=d.datasetElementScopeKeys(this._type,e),y=r?[`${e}Hover`,"hover",e,""]:[e,""],_=d.getOptionScopes(this.getDataset(),p),b=Object.keys(Ct.elements[e]),E=()=>this.getContext(n,r,t),S=d.resolveNamedOptions(_,b,E,y);return S.$shared&&(S.$shared=h,s[o]=Object.freeze(cD(S,h))),S}_resolveAnimations(e,t,n){const r=this.chart,s=this._cachedDataOpts,o=`animation-${t}`,c=s[o];if(c)return c;let h;if(r.options.animation!==!1){const p=this.chart.config,y=p.datasetAnimationScopeKeys(this._type,t),_=p.getOptionScopes(this.getDataset(),y);h=p.createResolver(_,this.getContext(e,n,t))}const d=new _M(r,h&&h.animations);return h&&h._cacheable&&(s[o]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||pv(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,s=this.getSharedOptions(n),o=this.includeOptions(t,s)||s!==r;return this.updateSharedOptions(s,t,n),{sharedOptions:s,includeOptions:o}}updateElement(e,t,n,r){pv(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}updateSharedOptions(e,t,n){e&&!pv(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,r){e.active=r;const s=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[c,h,d]of this._syncList)this[c](h,d);this._syncList=[];const r=n.length,s=t.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,t,n=!0){const r=this._cachedMeta,s=r.data,o=e+t;let c;const h=d=>{for(d.length+=t,c=d.length-1;c>=o;c--)d[c]=d[c-t]};for(h(s),c=e;c<o;++c)s[c]=new this.dataElementType;this._parsing&&h(r._parsed),this.parse(e,t),n&&this.updateElements(s,e,t,"reset")}updateElements(e,t,n,r){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(e,t);n._stacked&&_h(n,r)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,r]=e;this[t](n,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function uY(i,e){if(!i._cache.$bar){const t=i.getMatchingVisibleMetas(e);let n=[];for(let r=0,s=t.length;r<s;r++)n=n.concat(t[r].controller.getAllParsedValues(i));i._cache.$bar=Zk(n.sort((r,s)=>r-s))}return i._cache.$bar}function hY(i){const e=i.iScale,t=uY(e,i.type);let n=e._length,r,s,o,c;const h=()=>{o===32767||o===-32768||(od(c)&&(n=Math.min(n,Math.abs(o-c)||n)),c=o)};for(r=0,s=t.length;r<s;++r)o=e.getPixelForValue(t[r]),h();for(c=void 0,r=0,s=e.ticks.length;r<s;++r)o=e.getPixelForTick(r),h();return n}function dY(i,e,t,n){const r=t.barThickness;let s,o;return Ue(r)?(s=e.min*t.categoryPercentage,o=t.barPercentage):(s=r*n,o=1),{chunk:s/n,ratio:o,start:e.pixels[i]-s/2}}function fY(i,e,t,n){const r=e.pixels,s=r[i];let o=i>0?r[i-1]:null,c=i<r.length-1?r[i+1]:null;const h=t.categoryPercentage;o===null&&(o=s-(c===null?e.end-e.start:c-s)),c===null&&(c=s+s-o);const d=s-(s-Math.min(o,c))/2*h;return{chunk:Math.abs(c-o)/2*h/n,ratio:t.barPercentage,start:d}}function pY(i,e,t,n){const r=t.parse(i[0],n),s=t.parse(i[1],n),o=Math.min(r,s),c=Math.max(r,s);let h=o,d=c;Math.abs(o)>Math.abs(c)&&(h=c,d=o),e[t.axis]=d,e._custom={barStart:h,barEnd:d,start:r,end:s,min:o,max:c}}function bM(i,e,t,n){return xt(i)?pY(i,e,t,n):e[t.axis]=t.parse(i,n),e}function uD(i,e,t,n){const r=i.iScale,s=i.vScale,o=r.getLabels(),c=r===s,h=[];let d,p,y,_;for(d=t,p=t+n;d<p;++d)_=e[d],y={},y[r.axis]=c||r.parse(o[d],d),h.push(bM(_,y,s,d));return h}function mv(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function mY(i,e,t){return i!==0?kr(i):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function gY(i){let e,t,n,r,s;return i.horizontal?(e=i.base>i.x,t="left",n="right"):(e=i.base<i.y,t="bottom",n="top"),e?(r="end",s="start"):(r="start",s="end"),{start:t,end:n,reverse:e,top:r,bottom:s}}function yY(i,e,t,n){let r=e.borderSkipped;const s={};if(!r){i.borderSkipped=s;return}if(r===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:c,reverse:h,top:d,bottom:p}=gY(i);r==="middle"&&t&&(i.enableBorderRadius=!0,(t._top||0)===n?r=d:(t._bottom||0)===n?r=p:(s[hD(p,o,c,h)]=!0,r=d)),s[hD(r,o,c,h)]=!0,i.borderSkipped=s}function hD(i,e,t,n){return n?(i=_Y(i,e,t),i=dD(i,t,e)):i=dD(i,e,t),i}function _Y(i,e,t){return i===e?t:i===t?e:i}function dD(i,e,t){return i==="start"?e:i==="end"?t:i}function vY(i,{inflateAmount:e},t){i.inflateAmount=e==="auto"?t===1?.33:0:e}class bY extends Wa{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,n,r){return uD(e,t,n,r)}parseArrayData(e,t,n,r){return uD(e,t,n,r)}parseObjectData(e,t,n,r){const{iScale:s,vScale:o}=e,{xAxisKey:c="x",yAxisKey:h="y"}=this._parsing,d=s.axis==="x"?c:h,p=o.axis==="x"?c:h,y=[];let _,b,E,S;for(_=n,b=n+r;_<b;++_)S=t[_],E={},E[s.axis]=s.parse(Ua(S,d),_),y.push(bM(Ua(S,p),E,o,_));return y}updateRangeFromParsed(e,t,n,r){super.updateRangeFromParsed(e,t,n,r);const s=n._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:r}=t,s=this.getParsed(e),o=s._custom,c=mv(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:c}}=this,h=c.getBasePixel(),d=c.isHorizontal(),p=this._getRuler(),{sharedOptions:y,includeOptions:_}=this._getSharedOptions(t,r);for(let b=t;b<t+n;b++){const E=this.getParsed(b),S=s||Ue(E[c.axis])?{base:h,head:h}:this._calculateBarValuePixels(b),T=this._calculateBarIndexPixels(b,p),C=(E._stacks||{})[c.axis],N={horizontal:d,base:S.base,enableBorderRadius:!C||mv(E._custom)||o===C._top||o===C._bottom,x:d?S.head:T.center,y:d?T.center:S.head,height:d?T.size:Math.abs(S.size),width:d?Math.abs(S.size):T.size};_&&(N.options=y||this.resolveDataElementOptions(b,e[b].active?"active":r));const j=N.options||e[b].options;yY(N,j,C,o),vY(N,j,p.ratio),this.updateElement(e[b],b,N,r)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),s=n.options.stacked,o=[],c=this._cachedMeta.controller.getParsed(t),h=c&&c[n.axis],d=p=>{const y=p._parsed.find(b=>b[n.axis]===h),_=y&&y[p.vScale.axis];if(Ue(_)||isNaN(_))return!0};for(const p of r)if(!(t!==void 0&&d(p))&&((s===!1||o.indexOf(p.stack)===-1||s===void 0&&p.stack===void 0)&&o.push(p.stack),p.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[Ie(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,n){const r=this._getStacks(e,n),s=t!==void 0?r.indexOf(t):-1;return s===-1?r.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,r=[];let s,o;for(s=0,o=t.data.length;s<o;++s)r.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const c=e.barThickness;return{min:c||hY(t),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:r},options:{base:s,minBarLength:o}}=this,c=s||0,h=this.getParsed(e),d=h._custom,p=mv(d);let y=h[t.axis],_=0,b=n?this.applyStack(t,h,n):y,E,S;b!==y&&(_=b-y,b=y),p&&(y=d.barStart,b=d.barEnd-d.barStart,y!==0&&kr(y)!==kr(d.barEnd)&&(_=0),_+=y);const T=!Ue(s)&&!p?s:_;let C=t.getPixelForValue(T);if(this.chart.getDataVisibility(e)?E=t.getPixelForValue(_+b):E=C,S=E-C,Math.abs(S)<o){S=mY(S,t,c)*o,y===c&&(C-=S/2);const N=t.getPixelForDecimal(0),j=t.getPixelForDecimal(1),q=Math.min(N,j),H=Math.max(N,j);C=Math.max(Math.min(C,H),q),E=C+S,n&&!p&&(h._stacks[t.axis]._visualValues[r]=t.getValueForPixel(E)-t.getValueForPixel(C))}if(C===t.getPixelForValue(c)){const N=kr(S)*t.getLineWidthForValue(c)/2;C+=N,S-=N}return{size:S,base:C,head:E,center:E+S/2}}_calculateBarIndexPixels(e,t){const n=t.scale,r=this.options,s=r.skipNull,o=Ie(r.maxBarThickness,1/0);let c,h;const d=this._getAxisCount();if(t.grouped){const p=s?this._getStackCount(e):t.stackCount,y=r.barThickness==="flex"?fY(e,t,r,p*d):dY(e,t,r,p*d),_=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,b=this._getAxis().indexOf(Ie(_,this.getFirstScaleIdForIndexAxis())),E=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+b;c=y.start+y.chunk*E+y.chunk/2,h=Math.min(o,y.chunk*y.ratio)}else c=n.getPixelForValue(this.getParsed(e)[n.axis],e),h=Math.min(o,t.min*t.ratio);return{base:c-h/2,head:c+h/2,center:c,size:h}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,r=n.length;let s=0;for(;s<r;++s)this.getParsed(s)[t.axis]!==null&&!n[s].hidden&&n[s].draw(this._ctx)}}class wY extends Wa{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,r){const s=super.parsePrimitiveData(e,t,n,r);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+n).radius;return s}parseArrayData(e,t,n,r){const s=super.parseArrayData(e,t,n,r);for(let o=0;o<s.length;o++){const c=t[n+o];s[o]._custom=Ie(c[2],this.resolveDataElementOptions(o+n).radius)}return s}parseObjectData(e,t,n,r){const s=super.parseObjectData(e,t,n,r);for(let o=0;o<s.length;o++){const c=t[n+o];s[o]._custom=Ie(c&&c.r&&+c.r,this.resolveDataElementOptions(o+n).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:s}=t,o=this.getParsed(e),c=r.getLabelForValue(o.x),h=s.getLabelForValue(o.y),d=o._custom;return{label:n[e]||"",value:"("+c+", "+h+(d?", "+d:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,r){const s=r==="reset",{iScale:o,vScale:c}=this._cachedMeta,{sharedOptions:h,includeOptions:d}=this._getSharedOptions(t,r),p=o.axis,y=c.axis;for(let _=t;_<t+n;_++){const b=e[_],E=!s&&this.getParsed(_),S={},T=S[p]=s?o.getPixelForDecimal(.5):o.getPixelForValue(E[p]),C=S[y]=s?c.getBasePixel():c.getPixelForValue(E[y]);S.skip=isNaN(T)||isNaN(C),d&&(S.options=h||this.resolveDataElementOptions(_,b.active?"active":r),s&&(S.options.radius=0)),this.updateElement(b,_,S,r)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let r=super.resolveDataElementOptions(e,t);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const s=r.radius;return t!=="active"&&(r.radius=0),r.radius+=Ie(n&&n._custom,s),r}}function EY(i,e,t){let n=1,r=1,s=0,o=0;if(e<Et){const c=i,h=c+e,d=Math.cos(c),p=Math.sin(c),y=Math.cos(h),_=Math.sin(h),b=(j,q,H)=>ld(j,c,h,!0)?1:Math.max(q,q*t,H,H*t),E=(j,q,H)=>ld(j,c,h,!0)?-1:Math.min(q,q*t,H,H*t),S=b(0,d,y),T=b(Yt,p,_),C=E(Je,d,y),N=E(Je+Yt,p,_);n=(S-C)/2,r=(T-N)/2,s=-(S+C)/2,o=-(T+N)/2}return{ratioX:n,ratioY:r,offsetX:s,offsetY:o}}class Q0 extends Wa{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map((s,o)=>{const h=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:r,lineWidth:h.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=n;else{let s=h=>+n[h];if(Ye(n[e])){const{key:h="value"}=this._parsing;s=d=>+Ua(n[d],h)}let o,c;for(o=e,c=e+t;o<c;++o)r._parsed[o]=s(o)}}_getRotation(){return Hi(this.options.rotation-90)}_getCircumference(){return Hi(this.options.circumference)}_getRotationExtents(){let e=Et,t=-Et;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,s=r._getRotation(),o=r._getCircumference();e=Math.min(e,s),t=Math.max(t,s+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,c=Math.max((Math.min(n.width,n.height)-o)/2,0),h=Math.min(IH(this.options.cutout,c),1),d=this._getRingWeight(this.index),{circumference:p,rotation:y}=this._getRotationExtents(),{ratioX:_,ratioY:b,offsetX:E,offsetY:S}=EY(y,p,h),T=(n.width-o)/_,C=(n.height-o)/b,N=Math.max(Math.min(T,C)/2,0),j=Gk(this.options.radius,N),q=Math.max(j*h,0),H=(j-q)/this._getVisibleDatasetWeightTotal();this.offsetX=E*j,this.offsetY=S*j,r.total=this.calculateTotal(),this.outerRadius=j-H*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-H*d,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const n=this.options,r=this._cachedMeta,s=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/Et)}updateElements(e,t,n,r){const s=r==="reset",o=this.chart,c=o.chartArea,d=o.options.animation,p=(c.left+c.right)/2,y=(c.top+c.bottom)/2,_=s&&d.animateScale,b=_?0:this.innerRadius,E=_?0:this.outerRadius,{sharedOptions:S,includeOptions:T}=this._getSharedOptions(t,r);let C=this._getRotation(),N;for(N=0;N<t;++N)C+=this._circumference(N,s);for(N=t;N<t+n;++N){const j=this._circumference(N,s),q=e[N],H={x:p+this.offsetX,y:y+this.offsetY,startAngle:C,endAngle:C+j,circumference:j,outerRadius:E,innerRadius:b};T&&(H.options=S||this.resolveDataElementOptions(N,q.active?"active":r)),C+=j,this.updateElement(q,N,H,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n=0,r;for(r=0;r<t.length;r++){const s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!t[r].hidden&&(n+=Math.abs(s))}return n}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Et*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],s=Id(t._parsed[e],n.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const n=this.chart;let r,s,o,c,h;if(!e){for(r=0,s=n.data.datasets.length;r<s;++r)if(n.isDatasetVisible(r)){o=n.getDatasetMeta(r),e=o.data,c=o.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)h=c.resolveDataElementOptions(r),h.borderAlign!=="inner"&&(t=Math.max(t,h.borderWidth||0,h.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,r=e.length;n<r;++n){const s=this.resolveDataElementOptions(n);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(Ie(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class wM extends Wa{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:r=[],_dataset:s}=t,o=this.chart._animationsDisabled;let{start:c,count:h}=tM(t,r,o);this._drawStart=c,this._drawCount=h,nM(t)&&(c=0,h=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=r;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:d},e),this.updateElements(r,c,h,e)}updateElements(e,t,n,r){const s=r==="reset",{iScale:o,vScale:c,_stacked:h,_dataset:d}=this._cachedMeta,{sharedOptions:p,includeOptions:y}=this._getSharedOptions(t,r),_=o.axis,b=c.axis,{spanGaps:E,segment:S}=this.options,T=Hc(E)?E:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||s||r==="none",N=t+n,j=e.length;let q=t>0&&this.getParsed(t-1);for(let H=0;H<j;++H){const K=e[H],M=C?K:{};if(H<t||H>=N){M.skip=!0;continue}const A=this.getParsed(H),k=Ue(A[b]),L=M[_]=o.getPixelForValue(A[_],H),B=M[b]=s||k?c.getBasePixel():c.getPixelForValue(h?this.applyStack(c,A,h):A[b],H);M.skip=isNaN(L)||isNaN(B)||k,M.stop=H>0&&Math.abs(A[_]-q[_])>T,S&&(M.parsed=A,M.raw=d.data[H]),y&&(M.options=p||this.resolveDataElementOptions(H,K.active?"active":r)),C||this.updateElement(K,H,M,r),q=A}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return n;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class EM extends Wa{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map((s,o)=>{const h=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:r,lineWidth:h.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],s=Id(t._parsed[e].r,n.options.locale);return{label:r[e]||"",value:s}}parseObjectData(e,t,n,r){return uM.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,r)=>{const s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<t.min&&(t.min=s),s>t.max&&(t.max=s))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),s=Math.max(r/2,0),o=Math.max(n.cutoutPercentage?s/100*n.cutoutPercentage:1,0),c=(s-o)/e.getVisibleDatasetCount();this.outerRadius=s-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(e,t,n,r){const s=r==="reset",o=this.chart,h=o.options.animation,d=this._cachedMeta.rScale,p=d.xCenter,y=d.yCenter,_=d.getIndexAngle(0)-.5*Je;let b=_,E;const S=360/this.countVisibleElements();for(E=0;E<t;++E)b+=this._computeAngle(E,r,S);for(E=t;E<t+n;E++){const T=e[E];let C=b,N=b+this._computeAngle(E,r,S),j=o.getDataVisibility(E)?d.getDistanceFromCenterForValue(this.getParsed(E).r):0;b=N,s&&(h.animateScale&&(j=0),h.animateRotate&&(C=N=_));const q={x:p,y,innerRadius:0,outerRadius:j,startAngle:C,endAngle:N,options:this.resolveDataElementOptions(E,T.active?"active":r)};this.updateElement(T,E,q,r)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((n,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&t++}),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?Hi(this.resolveDataElementOptions(e,t).angle||n):0}}class TY extends Q0{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class SY extends Wa{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,r){return uM.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta,n=t.dataset,r=t.data||[],s=t.iScale.getLabels();if(n.points=r,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const c={_loop:!0,_fullLoop:s.length===r.length,options:o};this.updateElement(n,void 0,c,e)}this.updateElements(r,0,r.length,e)}updateElements(e,t,n,r){const s=this._cachedMeta.rScale,o=r==="reset";for(let c=t;c<t+n;c++){const h=e[c],d=this.resolveDataElementOptions(c,h.active?"active":r),p=s.getPointPositionForValue(c,this.getParsed(c).r),y=o?s.xCenter:p.x,_=o?s.yCenter:p.y,b={x:y,y:_,angle:p.angle,skip:isNaN(y)||isNaN(_),options:d};this.updateElement(h,c,b,r)}}}class xY extends Wa{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:s}=t,o=this.getParsed(e),c=r.getLabelForValue(o.x),h=s.getLabelForValue(o.y);return{label:n[e]||"",value:"("+c+", "+h+")"}}update(e){const t=this._cachedMeta,{data:n=[]}=t,r=this.chart._animationsDisabled;let{start:s,count:o}=tM(t,n,r);if(this._drawStart=s,this._drawCount=o,nM(t)&&(s=0,o=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:c,_dataset:h}=t;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!h._decimated,c.points=n;const d=this.resolveDatasetElementOptions(e);d.segment=this.options.segment,this.updateElement(c,void 0,{animated:!r,options:d},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(n,s,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,n,r){const s=r==="reset",{iScale:o,vScale:c,_stacked:h,_dataset:d}=this._cachedMeta,p=this.resolveDataElementOptions(t,r),y=this.getSharedOptions(p),_=this.includeOptions(r,y),b=o.axis,E=c.axis,{spanGaps:S,segment:T}=this.options,C=Hc(S)?S:Number.POSITIVE_INFINITY,N=this.chart._animationsDisabled||s||r==="none";let j=t>0&&this.getParsed(t-1);for(let q=t;q<t+n;++q){const H=e[q],K=this.getParsed(q),M=N?H:{},A=Ue(K[E]),k=M[b]=o.getPixelForValue(K[b],q),L=M[E]=s||A?c.getBasePixel():c.getPixelForValue(h?this.applyStack(c,K,h):K[E],q);M.skip=isNaN(k)||isNaN(L)||A,M.stop=q>0&&Math.abs(K[b]-j[b])>C,T&&(M.parsed=K,M.raw=d.data[q]),_&&(M.options=y||this.resolveDataElementOptions(q,H.active?"active":r)),N||this.updateElement(H,q,M,r),j=K}this.updateSharedOptions(y,r,p)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let c=0;for(let h=t.length-1;h>=0;--h)c=Math.max(c,t[h].size(this.resolveDataElementOptions(h))/2);return c>0&&c}const n=e.dataset,r=n.options&&n.options.borderWidth||0;if(!t.length)return r;const s=t[0].size(this.resolveDataElementOptions(0)),o=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(r,s,o)/2}}var DY=Object.freeze({__proto__:null,BarController:bY,BubbleController:wY,DoughnutController:Q0,LineController:wM,PieController:TY,PolarAreaController:EM,RadarController:SY,ScatterController:xY});function Oo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class K0{static override(e){Object.assign(K0.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Oo()}parse(){return Oo()}format(){return Oo()}add(){return Oo()}diff(){return Oo()}startOf(){return Oo()}endOf(){return Oo()}}var CY={_date:K0};function AY(i,e,t,n){const{controller:r,data:s,_sorted:o}=i,c=r._cachedMeta.iScale,h=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&o&&s.length){const d=c._reversePixels?qH:gs;if(n){if(r._sharedOptions){const p=s[0],y=typeof p.getRange=="function"&&p.getRange(e);if(y){const _=d(s,e,t-y),b=d(s,e,t+y);return{lo:_.lo,hi:b.hi}}}}else{const p=d(s,e,t);if(h){const{vScale:y}=r._cachedMeta,{_parsed:_}=i,b=_.slice(0,p.lo+1).reverse().findIndex(S=>!Ue(S[y.axis]));p.lo-=Math.max(0,b);const E=_.slice(p.hi).findIndex(S=>!Ue(S[y.axis]));p.hi+=Math.max(0,E)}return p}}return{lo:0,hi:s.length-1}}function kg(i,e,t,n,r){const s=i.getSortedVisibleDatasetMetas(),o=t[e];for(let c=0,h=s.length;c<h;++c){const{index:d,data:p}=s[c],{lo:y,hi:_}=AY(s[c],e,o,r);for(let b=y;b<=_;++b){const E=p[b];E.skip||n(E,d,b)}}}function RY(i){const e=i.indexOf("x")!==-1,t=i.indexOf("y")!==-1;return function(n,r){const s=e?Math.abs(n.x-r.x):0,o=t?Math.abs(n.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function gv(i,e,t,n,r){const s=[];return!r&&!i.isPointInArea(e)||kg(i,t,e,function(c,h,d){!r&&!ys(c,i.chartArea,0)||c.inRange(e.x,e.y,n)&&s.push({element:c,datasetIndex:h,index:d})},!0),s}function kY(i,e,t,n){let r=[];function s(o,c,h){const{startAngle:d,endAngle:p}=o.getProps(["startAngle","endAngle"],n),{angle:y}=Kk(o,{x:e.x,y:e.y});ld(y,d,p)&&r.push({element:o,datasetIndex:c,index:h})}return kg(i,t,e,s),r}function MY(i,e,t,n,r,s){let o=[];const c=RY(t);let h=Number.POSITIVE_INFINITY;function d(p,y,_){const b=p.inRange(e.x,e.y,r);if(n&&!b)return;const E=p.getCenterPoint(r);if(!(!!s||i.isPointInArea(E))&&!b)return;const T=c(e,E);T<h?(o=[{element:p,datasetIndex:y,index:_}],h=T):T===h&&o.push({element:p,datasetIndex:y,index:_})}return kg(i,t,e,d),o}function yv(i,e,t,n,r,s){return!s&&!i.isPointInArea(e)?[]:t==="r"&&!n?kY(i,e,t,r):MY(i,e,t,n,r,s)}function fD(i,e,t,n,r){const s=[],o=t==="x"?"inXRange":"inYRange";let c=!1;return kg(i,t,e,(h,d,p)=>{h[o]&&h[o](e[t],r)&&(s.push({element:h,datasetIndex:d,index:p}),c=c||h.inRange(e.x,e.y,r))}),n&&!c?[]:s}var IY={modes:{index(i,e,t,n){const r=Fo(e,i),s=t.axis||"x",o=t.includeInvisible||!1,c=t.intersect?gv(i,r,s,n,o):yv(i,r,s,!1,n,o),h=[];return c.length?(i.getSortedVisibleDatasetMetas().forEach(d=>{const p=c[0].index,y=d.data[p];y&&!y.skip&&h.push({element:y,datasetIndex:d.index,index:p})}),h):[]},dataset(i,e,t,n){const r=Fo(e,i),s=t.axis||"xy",o=t.includeInvisible||!1;let c=t.intersect?gv(i,r,s,n,o):yv(i,r,s,!1,n,o);if(c.length>0){const h=c[0].datasetIndex,d=i.getDatasetMeta(h).data;c=[];for(let p=0;p<d.length;++p)c.push({element:d[p],datasetIndex:h,index:p})}return c},point(i,e,t,n){const r=Fo(e,i),s=t.axis||"xy",o=t.includeInvisible||!1;return gv(i,r,s,n,o)},nearest(i,e,t,n){const r=Fo(e,i),s=t.axis||"xy",o=t.includeInvisible||!1;return yv(i,r,s,t.intersect,n,o)},x(i,e,t,n){const r=Fo(e,i);return fD(i,r,"x",t.intersect,n)},y(i,e,t,n){const r=Fo(e,i);return fD(i,r,"y",t.intersect,n)}}};const TM=["left","top","right","bottom"];function vh(i,e){return i.filter(t=>t.pos===e)}function pD(i,e){return i.filter(t=>TM.indexOf(t.pos)===-1&&t.box.axis===e)}function bh(i,e){return i.sort((t,n)=>{const r=e?n:t,s=e?t:n;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function OY(i){const e=[];let t,n,r,s,o,c;for(t=0,n=(i||[]).length;t<n;++t)r=i[t],{position:s,options:{stack:o,stackWeight:c=1}}=r,e.push({index:t,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:c});return e}function PY(i){const e={};for(const t of i){const{stack:n,pos:r,stackWeight:s}=t;if(!n||!TM.includes(r))continue;const o=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function NY(i,e){const t=PY(i),{vBoxMaxWidth:n,hBoxMaxHeight:r}=e;let s,o,c;for(s=0,o=i.length;s<o;++s){c=i[s];const{fullSize:h}=c.box,d=t[c.stack],p=d&&c.stackWeight/d.weight;c.horizontal?(c.width=p?p*n:h&&e.availableWidth,c.height=r):(c.width=n,c.height=p?p*r:h&&e.availableHeight)}return t}function LY(i){const e=OY(i),t=bh(e.filter(d=>d.box.fullSize),!0),n=bh(vh(e,"left"),!0),r=bh(vh(e,"right")),s=bh(vh(e,"top"),!0),o=bh(vh(e,"bottom")),c=pD(e,"x"),h=pD(e,"y");return{fullSize:t,leftAndTop:n.concat(s),rightAndBottom:r.concat(h).concat(o).concat(c),chartArea:vh(e,"chartArea"),vertical:n.concat(r).concat(h),horizontal:s.concat(o).concat(c)}}function mD(i,e,t,n){return Math.max(i[t],e[t])+Math.max(i[n],e[n])}function SM(i,e){i.top=Math.max(i.top,e.top),i.left=Math.max(i.left,e.left),i.bottom=Math.max(i.bottom,e.bottom),i.right=Math.max(i.right,e.right)}function VY(i,e,t,n){const{pos:r,box:s}=t,o=i.maxPadding;if(!Ye(r)){t.size&&(i[r]-=t.size);const y=n[t.stack]||{size:0,count:1};y.size=Math.max(y.size,t.horizontal?s.height:s.width),t.size=y.size/y.count,i[r]+=t.size}s.getPadding&&SM(o,s.getPadding());const c=Math.max(0,e.outerWidth-mD(o,i,"left","right")),h=Math.max(0,e.outerHeight-mD(o,i,"top","bottom")),d=c!==i.w,p=h!==i.h;return i.w=c,i.h=h,t.horizontal?{same:d,other:p}:{same:p,other:d}}function BY(i){const e=i.maxPadding;function t(n){const r=Math.max(e[n]-i[n],0);return i[n]+=r,r}i.y+=t("top"),i.x+=t("left"),t("right"),t("bottom")}function FY(i,e){const t=e.maxPadding;function n(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],t[o])}),s}return n(i?["left","right"]:["top","bottom"])}function Oh(i,e,t,n){const r=[];let s,o,c,h,d,p;for(s=0,o=i.length,d=0;s<o;++s){c=i[s],h=c.box,h.update(c.width||e.w,c.height||e.h,FY(c.horizontal,e));const{same:y,other:_}=VY(e,t,c,n);d|=y&&r.length,p=p||_,h.fullSize||r.push(c)}return d&&Oh(r,e,t,n)||p}function Cp(i,e,t,n,r){i.top=t,i.left=e,i.right=e+n,i.bottom=t+r,i.width=n,i.height=r}function gD(i,e,t,n){const r=t.padding;let{x:s,y:o}=e;for(const c of i){const h=c.box,d=n[c.stack]||{placed:0,weight:1},p=c.stackWeight/d.weight||1;if(c.horizontal){const y=e.w*p,_=d.size||h.height;od(d.start)&&(o=d.start),h.fullSize?Cp(h,r.left,o,t.outerWidth-r.right-r.left,_):Cp(h,e.left+d.placed,o,y,_),d.start=o,d.placed+=y,o=h.bottom}else{const y=e.h*p,_=d.size||h.width;od(d.start)&&(s=d.start),h.fullSize?Cp(h,s,r.top,_,t.outerHeight-r.bottom-r.top):Cp(h,s,e.top+d.placed,_,y),d.start=s,d.placed+=y,s=h.right}}e.x=s,e.y=o}var Ln={addBox(i,e){i.boxes||(i.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},i.boxes.push(e)},removeBox(i,e){const t=i.boxes?i.boxes.indexOf(e):-1;t!==-1&&i.boxes.splice(t,1)},configure(i,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(i,e,t,n){if(!i)return;const r=Bn(i.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(t-r.height,0),c=LY(i.boxes),h=c.vertical,d=c.horizontal;ut(i.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const p=h.reduce((S,T)=>T.box.options&&T.box.options.display===!1?S:S+1,0)||1,y=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/p,hBoxMaxHeight:o/2}),_=Object.assign({},r);SM(_,Bn(n));const b=Object.assign({maxPadding:_,w:s,h:o,x:r.left,y:r.top},r),E=NY(h.concat(d),y);Oh(c.fullSize,b,y,E),Oh(h,b,y,E),Oh(d,b,y,E)&&Oh(h,b,y,E),BY(b),gD(c.leftAndTop,b,y,E),b.x+=b.w,b.y+=b.h,gD(c.rightAndBottom,b,y,E),i.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},ut(c.chartArea,S=>{const T=S.box;Object.assign(T,i.chartArea),T.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class xM{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}isAttached(e){return!0}updateConfig(e){}}class UY extends xM{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Zp="$chartjs",jY={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},yD=i=>i===null||i==="";function zY(i,e){const t=i.style,n=i.getAttribute("height"),r=i.getAttribute("width");if(i[Zp]={initial:{height:n,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",yD(r)){const s=eD(i,"width");s!==void 0&&(i.width=s)}if(yD(n))if(i.style.height==="")i.height=i.width/(e||2);else{const s=eD(i,"height");s!==void 0&&(i.height=s)}return i}const DM=B7?{passive:!0}:!1;function HY(i,e,t){i&&i.addEventListener(e,t,DM)}function YY(i,e,t){i&&i.canvas&&i.canvas.removeEventListener(e,t,DM)}function qY(i,e){const t=jY[i.type]||i.type,{x:n,y:r}=Fo(i,e);return{type:t,chart:e,native:i,x:n!==void 0?n:null,y:r!==void 0?r:null}}function Bm(i,e){for(const t of i)if(t===e||t.contains(e))return!0}function WY(i,e,t){const n=i.canvas,r=new MutationObserver(s=>{let o=!1;for(const c of s)o=o||Bm(c.addedNodes,n),o=o&&!Bm(c.removedNodes,n);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function GY(i,e,t){const n=i.canvas,r=new MutationObserver(s=>{let o=!1;for(const c of s)o=o||Bm(c.removedNodes,n),o=o&&!Bm(c.addedNodes,n);o&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const ud=new Map;let _D=0;function CM(){const i=window.devicePixelRatio;i!==_D&&(_D=i,ud.forEach((e,t)=>{t.currentDevicePixelRatio!==i&&e()}))}function $Y(i,e){ud.size||window.addEventListener("resize",CM),ud.set(i,e)}function QY(i){ud.delete(i),ud.size||window.removeEventListener("resize",CM)}function KY(i,e,t){const n=i.canvas,r=n&&$0(n);if(!r)return;const s=eM((c,h)=>{const d=r.clientWidth;t(c,h),d<r.clientWidth&&t()},window),o=new ResizeObserver(c=>{const h=c[0],d=h.contentRect.width,p=h.contentRect.height;d===0&&p===0||s(d,p)});return o.observe(r),$Y(i,s),o}function _v(i,e,t){t&&t.disconnect(),e==="resize"&&QY(i)}function XY(i,e,t){const n=i.canvas,r=eM(s=>{i.ctx!==null&&t(qY(s,i))},i);return HY(n,e,r),r}class ZY extends xM{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(zY(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[Zp])return!1;const n=t[Zp].initial;["height","width"].forEach(s=>{const o=n[s];Ue(o)?t.removeAttribute(s):t.setAttribute(s,o)});const r=n.style||{};return Object.keys(r).forEach(s=>{t.style[s]=r[s]}),t.width=t.width,delete t[Zp],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),o={attach:WY,detach:GY,resize:KY}[t]||XY;r[t]=o(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),r=n[t];if(!r)return;({attach:_v,detach:_v,resize:_v}[t]||YY)(e,t,r),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,r){return V7(e,t,n,r)}isAttached(e){const t=e&&$0(e);return!!(t&&t.isConnected)}}function JY(i){return!G0()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?UY:ZY}let Ls=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return Hc(this.x)&&Hc(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const r={};return e.forEach(s=>{r[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),r}};function e8(i,e){const t=i.options.ticks,n=t8(i),r=Math.min(t.maxTicksLimit||n,n),s=t.major.enabled?i8(e):[],o=s.length,c=s[0],h=s[o-1],d=[];if(o>r)return r8(e,d,s,o/r),d;const p=n8(s,e,r);if(o>0){let y,_;const b=o>1?Math.round((h-c)/(o-1)):null;for(Ap(e,d,p,Ue(b)?0:c-b,c),y=0,_=o-1;y<_;y++)Ap(e,d,p,s[y],s[y+1]);return Ap(e,d,p,h,Ue(b)?e.length:h+b),d}return Ap(e,d,p),d}function t8(i){const e=i.options.offset,t=i._tickSize(),n=i._length/t+(e?0:1),r=i._maxLength/t;return Math.floor(Math.min(n,r))}function n8(i,e,t){const n=s8(i),r=e.length/t;if(!n)return Math.max(r,1);const s=UH(n);for(let o=0,c=s.length-1;o<c;o++){const h=s[o];if(h>r)return h}return Math.max(r,1)}function i8(i){const e=[];let t,n;for(t=0,n=i.length;t<n;t++)i[t].major&&e.push(t);return e}function r8(i,e,t,n){let r=0,s=t[0],o;for(n=Math.ceil(n),o=0;o<i.length;o++)o===s&&(e.push(i[o]),r++,s=t[r*n])}function Ap(i,e,t,n,r){const s=Ie(n,0),o=Math.min(Ie(r,i.length),i.length);let c=0,h,d,p;for(t=Math.ceil(t),r&&(h=r-n,t=h/Math.floor(h/t)),p=s;p<0;)c++,p=Math.round(s+c*t);for(d=Math.max(s,0);d<o;d++)d===p&&(e.push(i[d]),c++,p=Math.round(s+c*t))}function s8(i){const e=i.length;let t,n;if(e<2)return!1;for(n=i[0],t=1;t<e;++t)if(i[t]-i[t-1]!==n)return!1;return n}const a8=i=>i==="left"?"right":i==="right"?"left":i,vD=(i,e,t)=>e==="top"||e==="left"?i[e]+t:i[e]-t,bD=(i,e)=>Math.min(e||i,i);function wD(i,e){const t=[],n=i.length/e,r=i.length;let s=0;for(;s<r;s+=n)t.push(i[Math.floor(s)]);return t}function o8(i,e,t){const n=i.ticks.length,r=Math.min(e,n-1),s=i._startPixel,o=i._endPixel,c=1e-6;let h=i.getPixelForTick(r),d;if(!(t&&(n===1?d=Math.max(h-s,o-h):e===0?d=(i.getPixelForTick(1)-h)/2:d=(h-i.getPixelForTick(r-1))/2,h+=r<e?d:-d,h<s-c||h>o+c)))return h}function l8(i,e){ut(i,t=>{const n=t.gc,r=n.length/2;let s;if(r>e){for(s=0;s<r;++s)delete t.data[n[s]];n.splice(0,r)}})}function wh(i){return i.drawTicks?i.tickLength:0}function ED(i,e){if(!i.display)return 0;const t=sn(i.font,e),n=Bn(i.padding);return(xt(i.text)?i.text.length:1)*t.lineHeight+n.height}function c8(i,e){return qa(i,{scale:e,type:"scale"})}function u8(i,e,t){return qa(i,{tick:t,index:e,type:"tick"})}function h8(i,e,t){let n=j0(i);return(t&&e!=="right"||!t&&e==="right")&&(n=a8(n)),n}function d8(i,e,t,n){const{top:r,left:s,bottom:o,right:c,chart:h}=i,{chartArea:d,scales:p}=h;let y=0,_,b,E;const S=o-r,T=c-s;if(i.isHorizontal()){if(b=Mn(n,s,c),Ye(t)){const C=Object.keys(t)[0],N=t[C];E=p[C].getPixelForValue(N)+S-e}else t==="center"?E=(d.bottom+d.top)/2+S-e:E=vD(i,t,e);_=c-s}else{if(Ye(t)){const C=Object.keys(t)[0],N=t[C];b=p[C].getPixelForValue(N)-T+e}else t==="center"?b=(d.left+d.right)/2-T+e:b=vD(i,t,e);E=Mn(n,o,r),y=t==="left"?-Yt:Yt}return{titleX:b,titleY:E,maxWidth:_,rotation:y}}class yl extends Ls{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:r}=this;return e=li(e,Number.POSITIVE_INFINITY),t=li(t,Number.NEGATIVE_INFINITY),n=li(n,Number.POSITIVE_INFINITY),r=li(r,Number.NEGATIVE_INFINITY),{min:li(e,n),max:li(t,r),minDefined:Nt(e),maxDefined:Nt(t)}}getMinMax(e){let{min:t,max:n,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:t,max:n};const c=this.getMatchingVisibleMetas();for(let h=0,d=c.length;h<d;++h)o=c[h].controller.getMinMax(this,e),r||(t=Math.min(t,o.min)),s||(n=Math.max(n,o.max));return t=s&&t>n?n:t,n=r&&t>n?t:n,{min:li(t,li(n,t)),max:li(n,li(t,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){vt(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:r,grace:s,ticks:o}=this.options,c=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=m7(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=c<this.ticks.length;this._convertTicksToLabels(h?wD(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=e8(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,n;this.isHorizontal()?(t=this.left,n=this.right):(t=this.top,n=this.bottom,e=!e),this._startPixel=t,this._endPixel=n,this._reversePixels=e,this._length=n-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){vt(this.options.afterUpdate,[this])}beforeSetDimensions(){vt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){vt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),vt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){vt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,r,s;for(n=0,r=e.length;n<r;n++)s=e[n],s.label=vt(t.callback,[s.value,n,e],this)}afterTickToLabelConversion(){vt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){vt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=bD(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,s=t.maxRotation;let o=r,c,h,d;if(!this._isVisible()||!t.display||r>=s||n<=1||!this.isHorizontal()){this.labelRotation=r;return}const p=this._getLabelSizes(),y=p.widest.width,_=p.highest.height,b=pn(this.chart.width-y,0,this.maxWidth);c=e.offset?this.maxWidth/n:b/(n-1),y+6>c&&(c=b/(n-(e.offset?.5:1)),h=this.maxHeight-wh(e.grid)-t.padding-ED(e.title,this.chart.options.font),d=Math.sqrt(y*y+_*_),o=F0(Math.min(Math.asin(pn((p.highest.height+6)/c,-1,1)),Math.asin(pn(h/d,-1,1))-Math.asin(pn(_/d,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){vt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){vt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:r,grid:s}}=this,o=this._isVisible(),c=this.isHorizontal();if(o){const h=ED(r,t.options.font);if(c?(e.width=this.maxWidth,e.height=wh(s)+h):(e.height=this.maxHeight,e.width=wh(s)+h),n.display&&this.ticks.length){const{first:d,last:p,widest:y,highest:_}=this._getLabelSizes(),b=n.padding*2,E=Hi(this.labelRotation),S=Math.cos(E),T=Math.sin(E);if(c){const C=n.mirror?0:T*y.width+S*_.height;e.height=Math.min(this.maxHeight,e.height+C+b)}else{const C=n.mirror?0:S*y.width+T*_.height;e.width=Math.min(this.maxWidth,e.width+C+b)}this._calculatePadding(d,p,T,S)}}this._handleMargins(),c?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,r){const{ticks:{align:s,padding:o},position:c}=this.options,h=this.labelRotation!==0,d=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,b=0;h?d?(_=r*e.width,b=n*t.height):(_=n*e.height,b=r*t.width):s==="start"?b=t.width:s==="end"?_=e.width:s!=="inner"&&(_=e.width/2,b=t.width/2),this.paddingLeft=Math.max((_-p+o)*this.width/(this.width-p),0),this.paddingRight=Math.max((b-y+o)*this.width/(this.width-y),0)}else{let p=t.height/2,y=e.height/2;s==="start"?(p=0,y=e.height):s==="end"&&(p=t.height,y=0),this.paddingTop=p+o,this.paddingBottom=y+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){vt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,n;for(t=0,n=e.length;t<n;t++)Ue(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=wD(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:r,_longestTextCache:s}=this,o=[],c=[],h=Math.floor(t/bD(t,n));let d=0,p=0,y,_,b,E,S,T,C,N,j,q,H;for(y=0;y<t;y+=h){if(E=e[y].label,S=this._resolveTickFontOptions(y),r.font=T=S.string,C=s[T]=s[T]||{data:{},gc:[]},N=S.lineHeight,j=q=0,!Ue(E)&&!xt(E))j=Lm(r,C.data,C.gc,j,E),q=N;else if(xt(E))for(_=0,b=E.length;_<b;++_)H=E[_],!Ue(H)&&!xt(H)&&(j=Lm(r,C.data,C.gc,j,H),q+=N);o.push(j),c.push(q),d=Math.max(j,d),p=Math.max(q,p)}l8(s,t);const K=o.indexOf(d),M=c.indexOf(p),A=k=>({width:o[k]||0,height:c[k]||0});return{first:A(0),last:A(t-1),widest:A(K),highest:A(M),widths:o,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return YH(this._alignToPixels?Io(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=u8(this.getContext(),e,n))}return this.$context||(this.$context=c8(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Hi(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,c=s?s.widest.width+o:0,h=s?s.highest.height+o:0;return this.isHorizontal()?h*n>c*r?c/n:h/r:h*r<c*n?h/n:c/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,r=this.options,{grid:s,position:o,border:c}=r,h=s.offset,d=this.isHorizontal(),y=this.ticks.length+(h?1:0),_=wh(s),b=[],E=c.setContext(this.getContext()),S=E.display?E.width:0,T=S/2,C=function(W){return Io(n,W,S)};let N,j,q,H,K,M,A,k,L,B,U,V;if(o==="top")N=C(this.bottom),M=this.bottom-_,k=N-T,B=C(e.top)+T,V=e.bottom;else if(o==="bottom")N=C(this.top),B=e.top,V=C(e.bottom)-T,M=N+T,k=this.top+_;else if(o==="left")N=C(this.right),K=this.right-_,A=N-T,L=C(e.left)+T,U=e.right;else if(o==="right")N=C(this.left),L=e.left,U=C(e.right)-T,K=N+T,A=this.left+_;else if(t==="x"){if(o==="center")N=C((e.top+e.bottom)/2+.5);else if(Ye(o)){const W=Object.keys(o)[0],ee=o[W];N=C(this.chart.scales[W].getPixelForValue(ee))}B=e.top,V=e.bottom,M=N+T,k=M+_}else if(t==="y"){if(o==="center")N=C((e.left+e.right)/2);else if(Ye(o)){const W=Object.keys(o)[0],ee=o[W];N=C(this.chart.scales[W].getPixelForValue(ee))}K=N-T,A=K-_,L=e.left,U=e.right}const _e=Ie(r.ticks.maxTicksLimit,y),de=Math.max(1,Math.ceil(y/_e));for(j=0;j<y;j+=de){const W=this.getContext(j),ee=s.setContext(W),ne=c.setContext(W),le=ee.lineWidth,F=ee.color,re=ne.dash||[],fe=ne.dashOffset,he=ee.tickWidth,be=ee.tickColor,Me=ee.tickBorderDash||[],Se=ee.tickBorderDashOffset;q=o8(this,j,h),q!==void 0&&(H=Io(n,q,le),d?K=A=L=U=H:M=k=B=V=H,b.push({tx1:K,ty1:M,tx2:A,ty2:k,x1:L,y1:B,x2:U,y2:V,width:le,color:F,borderDash:re,borderDashOffset:fe,tickWidth:he,tickColor:be,tickBorderDash:Me,tickBorderDashOffset:Se}))}return this._ticksLength=y,this._borderValue=N,b}_computeLabelItems(e){const t=this.axis,n=this.options,{position:r,ticks:s}=n,o=this.isHorizontal(),c=this.ticks,{align:h,crossAlign:d,padding:p,mirror:y}=s,_=wh(n.grid),b=_+p,E=y?-p:b,S=-Hi(this.labelRotation),T=[];let C,N,j,q,H,K,M,A,k,L,B,U,V="middle";if(r==="top")K=this.bottom-E,M=this._getXAxisLabelAlignment();else if(r==="bottom")K=this.top+E,M=this._getXAxisLabelAlignment();else if(r==="left"){const de=this._getYAxisLabelAlignment(_);M=de.textAlign,H=de.x}else if(r==="right"){const de=this._getYAxisLabelAlignment(_);M=de.textAlign,H=de.x}else if(t==="x"){if(r==="center")K=(e.top+e.bottom)/2+b;else if(Ye(r)){const de=Object.keys(r)[0],W=r[de];K=this.chart.scales[de].getPixelForValue(W)+b}M=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")H=(e.left+e.right)/2-b;else if(Ye(r)){const de=Object.keys(r)[0],W=r[de];H=this.chart.scales[de].getPixelForValue(W)}M=this._getYAxisLabelAlignment(_).textAlign}t==="y"&&(h==="start"?V="top":h==="end"&&(V="bottom"));const _e=this._getLabelSizes();for(C=0,N=c.length;C<N;++C){j=c[C],q=j.label;const de=s.setContext(this.getContext(C));A=this.getPixelForTick(C)+s.labelOffset,k=this._resolveTickFontOptions(C),L=k.lineHeight,B=xt(q)?q.length:1;const W=B/2,ee=de.color,ne=de.textStrokeColor,le=de.textStrokeWidth;let F=M;o?(H=A,M==="inner"&&(C===N-1?F=this.options.reverse?"left":"right":C===0?F=this.options.reverse?"right":"left":F="center"),r==="top"?d==="near"||S!==0?U=-B*L+L/2:d==="center"?U=-_e.highest.height/2-W*L+L:U=-_e.highest.height+L/2:d==="near"||S!==0?U=L/2:d==="center"?U=_e.highest.height/2-W*L:U=_e.highest.height-B*L,y&&(U*=-1),S!==0&&!de.showLabelBackdrop&&(H+=L/2*Math.sin(S))):(K=A,U=(1-B)*L/2);let re;if(de.showLabelBackdrop){const fe=Bn(de.backdropPadding),he=_e.heights[C],be=_e.widths[C];let Me=U-fe.top,Se=0-fe.left;switch(V){case"middle":Me-=he/2;break;case"bottom":Me-=he;break}switch(M){case"center":Se-=be/2;break;case"right":Se-=be;break;case"inner":C===N-1?Se-=be:C>0&&(Se-=be/2);break}re={left:Se,top:Me,width:be+fe.width,height:he+fe.height,color:de.backdropColor}}T.push({label:q,font:k,textOffset:U,options:{rotation:S,color:ee,strokeColor:ne,strokeWidth:le,textAlign:F,textBaseline:V,translation:[H,K],backdrop:re}})}return T}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Hi(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),c=e+s,h=o.widest.width;let d,p;return t==="left"?r?(p=this.right+s,n==="near"?d="left":n==="center"?(d="center",p+=h/2):(d="right",p+=h)):(p=this.right-c,n==="near"?d="right":n==="center"?(d="center",p-=h/2):(d="left",p=this.left)):t==="right"?r?(p=this.left+s,n==="near"?d="right":n==="center"?(d="center",p-=h/2):(d="left",p-=h)):(p=this.left+c,n==="near"?d="left":n==="center"?(d="center",p+=h/2):(d="right",p=this.right)):d="right",{textAlign:d,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:r,width:s,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,s,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const c=(h,d,p)=>{!p.width||!p.color||(n.save(),n.lineWidth=p.width,n.strokeStyle=p.color,n.setLineDash(p.borderDash||[]),n.lineDashOffset=p.borderDashOffset,n.beginPath(),n.moveTo(h.x,h.y),n.lineTo(d.x,d.y),n.stroke(),n.restore())};if(t.display)for(s=0,o=r.length;s<o;++s){const h=r[s];t.drawOnChartArea&&c({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),t.drawTicks&&c({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:r}}=this,s=n.setContext(this.getContext()),o=n.display?s.width:0;if(!o)return;const c=r.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let d,p,y,_;this.isHorizontal()?(d=Io(e,this.left,o)-o/2,p=Io(e,this.right,c)+c/2,y=_=h):(y=Io(e,this.top,o)-o/2,_=Io(e,this.bottom,c)+c/2,d=p=h),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(d,y),t.lineTo(p,_),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,r=this._computeLabelArea();r&&Cg(n,r);const s=this.getLabelItems(e);for(const o of s){const c=o.options,h=o.font,d=o.label,p=o.textOffset;ol(n,d,0,p,h,c)}r&&Ag(n)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:r}}=this;if(!n.display)return;const s=sn(n.font),o=Bn(n.padding),c=n.align;let h=s.lineHeight/2;t==="bottom"||t==="center"||Ye(t)?(h+=o.bottom,xt(n.text)&&(h+=s.lineHeight*(n.text.length-1))):h+=o.top;const{titleX:d,titleY:p,maxWidth:y,rotation:_}=d8(this,h,t,c);ol(e,n.text,0,0,s,{color:n.color,maxWidth:y,rotation:_,textAlign:h8(c,t,r),textBaseline:"middle",translation:[d,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=Ie(e.grid&&e.grid.z,-1),r=Ie(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==yl.prototype.draw?[{z:t,draw:s=>{this.draw(s)}}]:[{z:n,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let s,o;for(s=0,o=t.length;s<o;++s){const c=t[s];c[n]===this.id&&(!e||c.type===e)&&r.push(c)}return r}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return sn(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Rp{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;m8(t)&&(n=this.register(t));const r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,f8(e,o,n),this.override&&Ct.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in Ct[r]&&(delete Ct[r][n],this.override&&delete al[n])}}function f8(i,e,t){const n=ad(Object.create(null),[t?Ct.get(t):{},Ct.get(e),i.defaults]);Ct.set(e,n),i.defaultRoutes&&p8(e,i.defaultRoutes),i.descriptors&&Ct.describe(e,i.descriptors)}function p8(i,e){Object.keys(e).forEach(t=>{const n=t.split("."),r=n.pop(),s=[i].concat(n).join("."),o=e[t].split("."),c=o.pop(),h=o.join(".");Ct.route(s,r,h,c)})}function m8(i){return"id"in i&&"defaults"in i}class g8{constructor(){this.controllers=new Rp(Wa,"datasets",!0),this.elements=new Rp(Ls,"elements"),this.plugins=new Rp(Object,"plugins"),this.scales=new Rp(yl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach(r=>{const s=n||this._getRegistryForType(r);n||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):ut(r,o=>{const c=n||this._getRegistryForType(o);this._exec(e,c,o)})})}_exec(e,t,n){const r=B0(e);vt(n["before"+r],[],n),t[e](n),vt(n["after"+r],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return r}}var gr=new g8;class y8{constructor(){this._init=[]}notify(e,t,n,r){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,t,n);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,n,r){r=r||{};for(const s of e){const o=s.plugin,c=o[n],h=[t,r,s.options];if(vt(c,h,o)===!1&&r.cancelable)return!1}return!0}invalidate(){Ue(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,r=Ie(n.options&&n.options.plugins,{}),s=_8(n);return r===!1&&!t?[]:b8(e,s,r,t)}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,r=(s,o)=>s.filter(c=>!o.some(h=>c.plugin.id===h.plugin.id));this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}function _8(i){const e={},t=[],n=Object.keys(gr.plugins.items);for(let s=0;s<n.length;s++)t.push(gr.getPlugin(n[s]));const r=i.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function v8(i,e){return!e&&i===!1?null:i===!0?{}:i}function b8(i,{plugins:e,localIds:t},n,r){const s=[],o=i.getContext();for(const c of e){const h=c.id,d=v8(n[h],r);d!==null&&s.push({plugin:c,options:w8(i.config,{plugin:c,local:t[h]},d,o)})}return s}function w8(i,{plugin:e,local:t},n,r){const s=i.pluginScopeKeys(e),o=i.getOptionScopes(n,s);return t&&e.defaults&&o.push(e.defaults),i.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function hb(i,e){const t=Ct.datasets[i]||{};return((e.datasets||{})[i]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function E8(i,e){let t=i;return i==="_index_"?t=e:i==="_value_"&&(t=e==="x"?"y":"x"),t}function T8(i,e){return i===e?"_index_":"_value_"}function TD(i){if(i==="x"||i==="y"||i==="r")return i}function S8(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function db(i,...e){if(TD(i))return i;for(const t of e){const n=t.axis||S8(t.position)||i.length>1&&TD(i[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function SD(i,e,t){if(t[e+"AxisID"]===i)return{axis:e}}function x8(i,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(n=>n.xAxisID===i||n.yAxisID===i);if(t.length)return SD(i,"x",t[0])||SD(i,"y",t[0])}return{}}function D8(i,e){const t=al[i.type]||{scales:{}},n=e.scales||{},r=hb(i.type,e),s=Object.create(null);return Object.keys(n).forEach(o=>{const c=n[o];if(!Ye(c))return console.error(`Invalid scale configuration for scale: ${o}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const h=db(o,c,x8(o,i),Ct.scales[c.type]),d=T8(h,r),p=t.scales||{};s[o]=zh(Object.create(null),[{axis:h},c,p[h],p[d]])}),i.data.datasets.forEach(o=>{const c=o.type||i.type,h=o.indexAxis||hb(c,e),p=(al[c]||{}).scales||{};Object.keys(p).forEach(y=>{const _=E8(y,h),b=o[_+"AxisID"]||_;s[b]=s[b]||Object.create(null),zh(s[b],[{axis:_},n[b],p[y]])})}),Object.keys(s).forEach(o=>{const c=s[o];zh(c,[Ct.scales[c.type],Ct.scale])}),s}function AM(i){const e=i.options||(i.options={});e.plugins=Ie(e.plugins,{}),e.scales=D8(i,e)}function RM(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function C8(i){return i=i||{},i.data=RM(i.data),AM(i),i}const xD=new Map,kM=new Set;function kp(i,e){let t=xD.get(i);return t||(t=e(),xD.set(i,t),kM.add(t)),t}const Eh=(i,e,t)=>{const n=Ua(e,t);n!==void 0&&i.add(n)};class A8{constructor(e){this._config=C8(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=RM(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),AM(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return kp(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return kp(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return kp(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,n=this.type;return kp(`${n}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let r=n.get(e);return(!r||t)&&(r=new Map,n.set(e,r)),r}getOptionScopes(e,t,n){const{options:r,type:s}=this,o=this._cachedScopes(e,n),c=o.get(t);if(c)return c;const h=new Set;t.forEach(p=>{e&&(h.add(e),p.forEach(y=>Eh(h,e,y))),p.forEach(y=>Eh(h,r,y)),p.forEach(y=>Eh(h,al[s]||{},y)),p.forEach(y=>Eh(h,Ct,y)),p.forEach(y=>Eh(h,cb,y))});const d=Array.from(h);return d.length===0&&d.push(Object.create(null)),kM.has(t)&&o.set(t,d),d}chartOptionScopes(){const{options:e,type:t}=this;return[e,al[t]||{},Ct.datasets[t]||{},{type:t},Ct,cb]}resolveNamedOptions(e,t,n,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:c}=DD(this._resolverCache,e,r);let h=o;if(k8(o,t)){s.$shared=!1,n=ja(n)?n():n;const d=this.createResolver(e,n,c);h=Yc(o,n,d)}for(const d of t)s[d]=h[d];return s}createResolver(e,t,n=[""],r){const{resolver:s}=DD(this._resolverCache,e,n);return Ye(t)?Yc(s,t,void 0,r):s}}function DD(i,e,t){let n=i.get(e);n||(n=new Map,i.set(e,n));const r=t.join();let s=n.get(r);return s||(s={resolver:Y0(e,t),subPrefixes:t.filter(c=>!c.toLowerCase().includes("hover"))},n.set(r,s)),s}const R8=i=>Ye(i)&&Object.getOwnPropertyNames(i).some(e=>ja(i[e]));function k8(i,e){const{isScriptable:t,isIndexable:n}=aM(i);for(const r of e){const s=t(r),o=n(r),c=(o||s)&&i[r];if(s&&(ja(c)||R8(c))||o&&xt(c))return!0}return!1}var M8="4.5.0";const I8=["top","bottom","left","right","chartArea"];function CD(i,e){return i==="top"||i==="bottom"||I8.indexOf(i)===-1&&e==="x"}function AD(i,e){return function(t,n){return t[i]===n[i]?t[e]-n[e]:t[i]-n[i]}}function RD(i){const e=i.chart,t=e.options.animation;e.notifyPlugins("afterRender"),vt(t&&t.onComplete,[i],e)}function O8(i){const e=i.chart,t=e.options.animation;vt(t&&t.onProgress,[i],e)}function MM(i){return G0()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}const Jp={},kD=i=>{const e=MM(i);return Object.values(Jp).filter(t=>t.canvas===e).pop()};function P8(i,e,t){const n=Object.keys(i);for(const r of n){const s=+r;if(s>=e){const o=i[r];delete i[r],(t>0||s>e)&&(i[s+t]=o)}}}function N8(i,e,t,n){return!t||i.type==="mouseout"?null:n?e:i}let Od=class{static defaults=Ct;static instances=Jp;static overrides=al;static registry=gr;static version=M8;static getChart=kD;static register(...e){gr.add(...e),MD()}static unregister(...e){gr.remove(...e),MD()}constructor(e,t){const n=this.config=new A8(t),r=MM(e),s=kD(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||JY(r)),this.platform.updateConfig(n);const c=this.platform.acquireContext(r,o.aspectRatio),h=c&&c.canvas,d=h&&h.height,p=h&&h.width;if(this.id=MH(),this.ctx=c,this.canvas=h,this.width=p,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new y8,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=$H(y=>this.update(y),o.resizeDelay||0),this._dataChanges=[],Jp[this.id]=this,!c||!h){console.error("Failed to create chart: can't acquire context from the given item");return}us.listen(this,"complete",RD),us.listen(this,"progress",O8),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:r,_aspectRatio:s}=this;return Ue(e)?t&&s?s:r?n/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return gr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():J1(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return K1(this.canvas,this.ctx),this}stop(){return us.stop(this),this}resize(e,t){us.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,r=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,t,s),c=n.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,J1(this,c,!0)&&(this.notifyPlugins("resize",{size:o}),vt(n.onResize,[this,o],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};ut(t,(n,r)=>{n.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,r=Object.keys(n).reduce((o,c)=>(o[c]=!1,o),{});let s=[];t&&(s=s.concat(Object.keys(t).map(o=>{const c=t[o],h=db(o,c),d=h==="r",p=h==="x";return{options:c,dposition:d?"chartArea":p?"bottom":"left",dtype:d?"radialLinear":p?"category":"linear"}}))),ut(s,o=>{const c=o.options,h=c.id,d=db(h,c),p=Ie(c.type,o.dtype);(c.position===void 0||CD(c.position,d)!==CD(o.dposition))&&(c.position=o.dposition),r[h]=!0;let y=null;if(h in n&&n[h].type===p)y=n[h];else{const _=gr.getScale(p);y=new _({id:h,type:p,ctx:this.ctx,chart:this}),n[y.id]=y}y.init(c,e)}),ut(r,(o,c)=>{o||delete n[c]}),ut(n,o=>{Ln.configure(this,o,o.options),Ln.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((r,s)=>r.index-s.index),n>t){for(let r=t;r<n;++r)this._destroyDatasetMeta(r);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(AD("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((n,r)=>{t.filter(s=>s===n._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=t.length;n<r;n++){const s=t[n];let o=this.getDatasetMeta(n);const c=s.type||this.config.type;if(o.type&&o.type!==c&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=c,o.indexAxis=s.indexAxis||hb(c,this.options),o.order=s.order||0,o.index=n,o.label=""+s.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const h=gr.getController(c),{datasetElementType:d,dataElementType:p}=Ct.datasets[c];Object.assign(h,{dataElementType:gr.getElement(p),datasetElementType:d&&gr.getElement(d)}),o.controller=new h(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){ut(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,p=this.data.datasets.length;d<p;d++){const{controller:y}=this.getDatasetMeta(d),_=!r&&s.indexOf(y)===-1;y.buildOrUpdateElements(_),o=Math.max(+y.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),r||ut(s,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(AD("z","_idx"));const{_active:c,_lastEvent:h}=this;h?this._eventHandler(h,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){ut(this.scales,e=>{Ln.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!j1(t,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:s}of t){const o=n==="_removeElements"?-s:s;P8(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=s=>new Set(e.filter(o=>o[0]===s).map((o,c)=>c+","+o.splice(1).join(","))),r=n(0);for(let s=1;s<t;s++)if(!j1(r,n(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ln.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],ut(this.boxes,r=>{n&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,n=this.data.datasets.length;t<n;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,ja(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(us.has(this)?this.attached&&!us.running(this)&&us.start(this):(this.draw(),RD({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let r,s;for(r=0,s=t.length;r<s;++r){const o=t[r];(!e||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n={meta:e,index:e.index,cancelable:!0},r=yM(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(r&&Cg(t,r),e.controller.draw(),r&&Ag(t),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return ys(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,r){const s=IY.modes[t];return typeof s=="function"?s(this,e,n,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let r=n.filter(s=>s&&s._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=qa(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!t.hidden}setDatasetVisibility(e,t){const n=this.getDatasetMeta(e);n.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const r=n?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,r);od(t)?(s.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(s,{visible:n}),this.update(c=>c.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),us.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),K1(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Jp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(s,o)=>{t.addEventListener(this,s,o),e[s]=o},r=(s,o,c)=>{s.offsetX=o,s.offsetY=c,this._eventHandler(s)};ut(this.options.events,s=>n(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(h,d)=>{t.addEventListener(this,h,d),e[h]=d},r=(h,d)=>{e[h]&&(t.removeEventListener(this,h,d),delete e[h])},s=(h,d)=>{this.canvas&&this.resize(h,d)};let o;const c=()=>{r("attach",c),this.attached=!0,this.resize(),n("resize",s),n("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),n("attach",c)},t.isAttached(this.canvas)?c():o()}unbindEvents(){ut(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},ut(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const r=n?"set":"remove";let s,o,c,h;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),c=0,h=e.length;c<h;++c){o=e[c];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(({datasetIndex:s,index:o})=>{const c=this.getDatasetMeta(s);if(!c)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:c.data[o],index:o}});!Om(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,n){const r=this.options.hover,s=(h,d)=>h.filter(p=>!d.some(y=>p.datasetIndex===y.datasetIndex&&p.index===y.index)),o=s(t,e),c=n?e:s(e,t);o.length&&this.updateHoverStyle(o,r.mode,!1),c.length&&r.mode&&this.updateHoverStyle(c,r.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,r)===!1)return;const s=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(s||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:r=[],options:s}=this,o=t,c=this._getActiveElements(e,r,n,o),h=VH(e),d=N8(e,this._lastEvent,n,h);n&&(this._lastEvent=null,vt(s.onHover,[e,c,this],this),h&&vt(s.onClick,[e,c,this],this));const p=!Om(c,r);return(p||t)&&(this._active=c,this._updateHoverStyles(c,r,t)),this._lastEvent=d,p}_getActiveElements(e,t,n,r){if(e.type==="mouseout")return[];if(!n)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}};function MD(){return ut(Od.instances,i=>i._plugins.invalidate())}function L8(i,e,t){const{startAngle:n,x:r,y:s,outerRadius:o,innerRadius:c,options:h}=e,{borderWidth:d,borderJoinStyle:p}=h,y=Math.min(d/o,On(n-t));if(i.beginPath(),i.arc(r,s,o-d/2,n+y/2,t-y/2),c>0){const _=Math.min(d/c,On(n-t));i.arc(r,s,c+d/2,t-_/2,n+_/2,!0)}else{const _=Math.min(d/2,o*On(n-t));if(p==="round")i.arc(r,s,_,t-Je/2,n+Je/2,!0);else if(p==="bevel"){const b=2*_*_,E=-b*Math.cos(t+Je/2)+r,S=-b*Math.sin(t+Je/2)+s,T=b*Math.cos(n+Je/2)+r,C=b*Math.sin(n+Je/2)+s;i.lineTo(E,S),i.lineTo(T,C)}}i.closePath(),i.moveTo(0,0),i.rect(0,0,i.canvas.width,i.canvas.height),i.clip("evenodd")}function V8(i,e,t){const{startAngle:n,pixelMargin:r,x:s,y:o,outerRadius:c,innerRadius:h}=e;let d=r/c;i.beginPath(),i.arc(s,o,c,n-d,t+d),h>r?(d=r/h,i.arc(s,o,h,t+d,n-d,!0)):i.arc(s,o,r,t+Yt,n-Yt),i.closePath(),i.clip()}function B8(i){return H0(i,["outerStart","outerEnd","innerStart","innerEnd"])}function F8(i,e,t,n){const r=B8(i.options.borderRadius),s=(t-e)/2,o=Math.min(s,n*e/2),c=h=>{const d=(t-Math.min(s,h))*n/2;return pn(h,0,Math.min(s,d))};return{outerStart:c(r.outerStart),outerEnd:c(r.outerEnd),innerStart:pn(r.innerStart,0,o),innerEnd:pn(r.innerEnd,0,o)}}function dc(i,e,t,n){return{x:t+i*Math.cos(e),y:n+i*Math.sin(e)}}function Fm(i,e,t,n,r,s){const{x:o,y:c,startAngle:h,pixelMargin:d,innerRadius:p}=e,y=Math.max(e.outerRadius+n+t-d,0),_=p>0?p+n+t+d:0;let b=0;const E=r-h;if(n){const de=p>0?p-n:0,W=y>0?y-n:0,ee=(de+W)/2,ne=ee!==0?E*ee/(ee+n):E;b=(E-ne)/2}const S=Math.max(.001,E*y-t/Je)/y,T=(E-S)/2,C=h+T+b,N=r-T-b,{outerStart:j,outerEnd:q,innerStart:H,innerEnd:K}=F8(e,_,y,N-C),M=y-j,A=y-q,k=C+j/M,L=N-q/A,B=_+H,U=_+K,V=C+H/B,_e=N-K/U;if(i.beginPath(),s){const de=(k+L)/2;if(i.arc(o,c,y,k,de),i.arc(o,c,y,de,L),q>0){const le=dc(A,L,o,c);i.arc(le.x,le.y,q,L,N+Yt)}const W=dc(U,N,o,c);if(i.lineTo(W.x,W.y),K>0){const le=dc(U,_e,o,c);i.arc(le.x,le.y,K,N+Yt,_e+Math.PI)}const ee=(N-K/_+(C+H/_))/2;if(i.arc(o,c,_,N-K/_,ee,!0),i.arc(o,c,_,ee,C+H/_,!0),H>0){const le=dc(B,V,o,c);i.arc(le.x,le.y,H,V+Math.PI,C-Yt)}const ne=dc(M,C,o,c);if(i.lineTo(ne.x,ne.y),j>0){const le=dc(M,k,o,c);i.arc(le.x,le.y,j,C-Yt,k)}}else{i.moveTo(o,c);const de=Math.cos(k)*y+o,W=Math.sin(k)*y+c;i.lineTo(de,W);const ee=Math.cos(L)*y+o,ne=Math.sin(L)*y+c;i.lineTo(ee,ne)}i.closePath()}function U8(i,e,t,n,r){const{fullCircles:s,startAngle:o,circumference:c}=e;let h=e.endAngle;if(s){Fm(i,e,t,n,h,r);for(let d=0;d<s;++d)i.fill();isNaN(c)||(h=o+(c%Et||Et))}return Fm(i,e,t,n,h,r),i.fill(),h}function j8(i,e,t,n,r){const{fullCircles:s,startAngle:o,circumference:c,options:h}=e,{borderWidth:d,borderJoinStyle:p,borderDash:y,borderDashOffset:_,borderRadius:b}=h,E=h.borderAlign==="inner";if(!d)return;i.setLineDash(y||[]),i.lineDashOffset=_,E?(i.lineWidth=d*2,i.lineJoin=p||"round"):(i.lineWidth=d,i.lineJoin=p||"bevel");let S=e.endAngle;if(s){Fm(i,e,t,n,S,r);for(let T=0;T<s;++T)i.stroke();isNaN(c)||(S=o+(c%Et||Et))}E&&V8(i,e,S),h.selfJoin&&S-o>=Je&&b===0&&p!=="miter"&&L8(i,e,S),s||(Fm(i,e,t,n,S,r),i.stroke())}class z8 extends Ls{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.getProps(["x","y"],n),{angle:s,distance:o}=Kk(r,{x:e,y:t}),{startAngle:c,endAngle:h,innerRadius:d,outerRadius:p,circumference:y}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),_=(this.options.spacing+this.options.borderWidth)/2,b=Ie(y,h-c),E=ld(s,c,h)&&c!==h,S=b>=Et||E,T=ms(o,d+_,p+_);return S&&T}getCenterPoint(e){const{x:t,y:n,startAngle:r,endAngle:s,innerRadius:o,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:h,spacing:d}=this.options,p=(r+s)/2,y=(o+c+d+h)/2;return{x:t+Math.cos(p)*y,y:n+Math.sin(p)*y}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,r=(t.offset||0)/4,s=(t.spacing||0)/2,o=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=n>Et?Math.floor(n/Et):0,n===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const c=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(c)*r,Math.sin(c)*r);const h=1-Math.sin(Math.min(Je,n||0)),d=r*h;e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,U8(e,this,d,s,o),j8(e,this,d,s,o),e.restore()}}function IM(i,e,t=e){i.lineCap=Ie(t.borderCapStyle,e.borderCapStyle),i.setLineDash(Ie(t.borderDash,e.borderDash)),i.lineDashOffset=Ie(t.borderDashOffset,e.borderDashOffset),i.lineJoin=Ie(t.borderJoinStyle,e.borderJoinStyle),i.lineWidth=Ie(t.borderWidth,e.borderWidth),i.strokeStyle=Ie(t.borderColor,e.borderColor)}function H8(i,e,t){i.lineTo(t.x,t.y)}function Y8(i){return i.stepped?a7:i.tension||i.cubicInterpolationMode==="monotone"?o7:H8}function OM(i,e,t={}){const n=i.length,{start:r=0,end:s=n-1}=t,{start:o,end:c}=e,h=Math.max(r,o),d=Math.min(s,c),p=r<o&&s<o||r>c&&s>c;return{count:n,start:h,loop:e.loop,ilen:d<h&&!p?n+d-h:d-h}}function q8(i,e,t,n){const{points:r,options:s}=e,{count:o,start:c,loop:h,ilen:d}=OM(r,t,n),p=Y8(s);let{move:y=!0,reverse:_}=n||{},b,E,S;for(b=0;b<=d;++b)E=r[(c+(_?d-b:b))%o],!E.skip&&(y?(i.moveTo(E.x,E.y),y=!1):p(i,S,E,_,s.stepped),S=E);return h&&(E=r[(c+(_?d:0))%o],p(i,S,E,_,s.stepped)),!!h}function W8(i,e,t,n){const r=e.points,{count:s,start:o,ilen:c}=OM(r,t,n),{move:h=!0,reverse:d}=n||{};let p=0,y=0,_,b,E,S,T,C;const N=q=>(o+(d?c-q:q))%s,j=()=>{S!==T&&(i.lineTo(p,T),i.lineTo(p,S),i.lineTo(p,C))};for(h&&(b=r[N(0)],i.moveTo(b.x,b.y)),_=0;_<=c;++_){if(b=r[N(_)],b.skip)continue;const q=b.x,H=b.y,K=q|0;K===E?(H<S?S=H:H>T&&(T=H),p=(y*p+q)/++y):(j(),i.lineTo(q,H),E=K,y=0,S=T=H),C=H}j()}function fb(i){const e=i.options,t=e.borderDash&&e.borderDash.length;return!i._decimated&&!i._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?W8:q8}function G8(i){return i.stepped?F7:i.tension||i.cubicInterpolationMode==="monotone"?U7:Uo}function $8(i,e,t,n){let r=e._path;r||(r=e._path=new Path2D,e.path(r,t,n)&&r.closePath()),IM(i,e.options),i.stroke(r)}function Q8(i,e,t,n){const{segments:r,options:s}=e,o=fb(e);for(const c of r)IM(i,s,c.style),i.beginPath(),o(i,e,c,{start:t,end:t+n-1})&&i.closePath(),i.stroke()}const K8=typeof Path2D=="function";function X8(i,e,t,n){K8&&!e.options.segment?$8(i,e,t,n):Q8(i,e,t,n)}class Pd extends Ls{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;M7(this._points,n,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=W7(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,r=e[t],s=this.points,o=gM(this,{property:t,start:r,end:r});if(!o.length)return;const c=[],h=G8(n);let d,p;for(d=0,p=o.length;d<p;++d){const{start:y,end:_}=o[d],b=s[y],E=s[_];if(b===E){c.push(b);continue}const S=Math.abs((r-b[t])/(E[t]-b[t])),T=h(b,E,S,n.stepped);T[t]=e[t],c.push(T)}return c.length===1?c[0]:c}pathSegment(e,t,n){return fb(this)(e,this,t,n)}path(e,t,n){const r=this.segments,s=fb(this);let o=this._loop;t=t||0,n=n||this.points.length-t;for(const c of r)o&=s(e,this,c,{start:t,end:t+n-1});return!!o}draw(e,t,n,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),X8(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function ID(i,e,t,n){const r=i.options,{[t]:s}=i.getProps([t],n);return Math.abs(e-s)<r.radius+r.hitRadius}class PM extends Ls{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.options,{x:s,y:o}=this.getProps(["x","y"],n);return Math.pow(e-s,2)+Math.pow(t-o,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return ID(this,e,"x",t)}inYRange(e,t){return ID(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const n=t&&e.borderWidth||0;return(t+n)*2}draw(e,t){const n=this.options;this.skip||n.radius<.1||!ys(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,ub(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function NM(i,e){const{x:t,y:n,base:r,width:s,height:o}=i.getProps(["x","y","base","width","height"],e);let c,h,d,p,y;return i.horizontal?(y=o/2,c=Math.min(t,r),h=Math.max(t,r),d=n-y,p=n+y):(y=s/2,c=t-y,h=t+y,d=Math.min(n,r),p=Math.max(n,r)),{left:c,top:d,right:h,bottom:p}}function Ta(i,e,t,n){return i?0:pn(e,t,n)}function Z8(i,e,t){const n=i.options.borderWidth,r=i.borderSkipped,s=sM(n);return{t:Ta(r.top,s.top,0,t),r:Ta(r.right,s.right,0,e),b:Ta(r.bottom,s.bottom,0,t),l:Ta(r.left,s.left,0,e)}}function J8(i,e,t){const{enableBorderRadius:n}=i.getProps(["enableBorderRadius"]),r=i.options.borderRadius,s=Qo(r),o=Math.min(e,t),c=i.borderSkipped,h=n||Ye(r);return{topLeft:Ta(!h||c.top||c.left,s.topLeft,0,o),topRight:Ta(!h||c.top||c.right,s.topRight,0,o),bottomLeft:Ta(!h||c.bottom||c.left,s.bottomLeft,0,o),bottomRight:Ta(!h||c.bottom||c.right,s.bottomRight,0,o)}}function eq(i){const e=NM(i),t=e.right-e.left,n=e.bottom-e.top,r=Z8(i,t/2,n/2),s=J8(i,t/2,n/2);return{outer:{x:e.left,y:e.top,w:t,h:n,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function vv(i,e,t,n){const r=e===null,s=t===null,c=i&&!(r&&s)&&NM(i,n);return c&&(r||ms(e,c.left,c.right))&&(s||ms(t,c.top,c.bottom))}function tq(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function nq(i,e){i.rect(e.x,e.y,e.w,e.h)}function bv(i,e,t={}){const n=i.x!==t.x?-e:0,r=i.y!==t.y?-e:0,s=(i.x+i.w!==t.x+t.w?e:0)-n,o=(i.y+i.h!==t.y+t.h?e:0)-r;return{x:i.x+n,y:i.y+r,w:i.w+s,h:i.h+o,radius:i.radius}}class iq extends Ls{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:r}}=this,{inner:s,outer:o}=eq(this),c=tq(o.radius)?cd:nq;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),c(e,bv(o,t,s)),e.clip(),c(e,bv(s,-t,o)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),c(e,bv(s,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,n){return vv(this,e,t,n)}inXRange(e,t){return vv(this,e,null,t)}inYRange(e,t){return vv(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+r)/2:t,y:s?n:(n+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}var rq=Object.freeze({__proto__:null,ArcElement:z8,BarElement:iq,LineElement:Pd,PointElement:PM});const pb=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],OD=pb.map(i=>i.replace("rgb(","rgba(").replace(")",", 0.5)"));function LM(i){return pb[i%pb.length]}function VM(i){return OD[i%OD.length]}function sq(i,e){return i.borderColor=LM(e),i.backgroundColor=VM(e),++e}function aq(i,e){return i.backgroundColor=i.data.map(()=>LM(e++)),e}function oq(i,e){return i.backgroundColor=i.data.map(()=>VM(e++)),e}function lq(i){let e=0;return(t,n)=>{const r=i.getDatasetMeta(n).controller;r instanceof Q0?e=aq(t,e):r instanceof EM?e=oq(t,e):r&&(e=sq(t,e))}}function PD(i){let e;for(e in i)if(i[e].borderColor||i[e].backgroundColor)return!0;return!1}function cq(i){return i&&(i.borderColor||i.backgroundColor)}function uq(){return Ct.borderColor!=="rgba(0,0,0,0.1)"||Ct.backgroundColor!=="rgba(0,0,0,0.1)"}var hq={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(i,e,t){if(!t.enabled)return;const{data:{datasets:n},options:r}=i.config,{elements:s}=r,o=PD(n)||cq(r)||s&&PD(s)||uq();if(!t.forceOverride&&o)return;const c=lq(i);n.forEach(c)}};function dq(i,e,t,n,r){const s=r.samples||n;if(s>=t)return i.slice(e,e+t);const o=[],c=(t-2)/(s-2);let h=0;const d=e+t-1;let p=e,y,_,b,E,S;for(o[h++]=i[p],y=0;y<s-2;y++){let T=0,C=0,N;const j=Math.floor((y+1)*c)+1+e,q=Math.min(Math.floor((y+2)*c)+1,t)+e,H=q-j;for(N=j;N<q;N++)T+=i[N].x,C+=i[N].y;T/=H,C/=H;const K=Math.floor(y*c)+1+e,M=Math.min(Math.floor((y+1)*c)+1,t)+e,{x:A,y:k}=i[p];for(b=E=-1,N=K;N<M;N++)E=.5*Math.abs((A-T)*(i[N].y-k)-(A-i[N].x)*(C-k)),E>b&&(b=E,_=i[N],S=N);o[h++]=_,p=S}return o[h++]=i[d],o}function fq(i,e,t,n){let r=0,s=0,o,c,h,d,p,y,_,b,E,S;const T=[],C=e+t-1,N=i[e].x,q=i[C].x-N;for(o=e;o<e+t;++o){c=i[o],h=(c.x-N)/q*n,d=c.y;const H=h|0;if(H===p)d<E?(E=d,y=o):d>S&&(S=d,_=o),r=(s*r+c.x)/++s;else{const K=o-1;if(!Ue(y)&&!Ue(_)){const M=Math.min(y,_),A=Math.max(y,_);M!==b&&M!==K&&T.push({...i[M],x:r}),A!==b&&A!==K&&T.push({...i[A],x:r})}o>0&&K!==b&&T.push(i[K]),T.push(c),p=H,s=0,E=S=d,y=_=b=o}}return T}function BM(i){if(i._decimated){const e=i._data;delete i._decimated,delete i._data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function ND(i){i.data.datasets.forEach(e=>{BM(e)})}function pq(i,e){const t=e.length;let n=0,r;const{iScale:s}=i,{min:o,max:c,minDefined:h,maxDefined:d}=s.getUserBounds();return h&&(n=pn(gs(e,s.axis,o).lo,0,t-1)),d?r=pn(gs(e,s.axis,c).hi+1,n,t)-n:r=t-n,{start:n,count:r}}var mq={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(i,e,t)=>{if(!t.enabled){ND(i);return}const n=i.width;i.data.datasets.forEach((r,s)=>{const{_data:o,indexAxis:c}=r,h=i.getDatasetMeta(s),d=o||r.data;if(Ih([c,i.options.indexAxis])==="y"||!h.controller.supportsDecimation)return;const p=i.scales[h.xAxisID];if(p.type!=="linear"&&p.type!=="time"||i.options.parsing)return;let{start:y,count:_}=pq(h,d);const b=t.threshold||4*n;if(_<=b){BM(r);return}Ue(o)&&(r._data=d,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(S){this._data=S}}));let E;switch(t.algorithm){case"lttb":E=dq(d,y,_,n,t);break;case"min-max":E=fq(d,y,_,n);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}r._decimated=E})},destroy(i){ND(i)}};function gq(i,e,t){const n=i.segments,r=i.points,s=e.points,o=[];for(const c of n){let{start:h,end:d}=c;d=Mg(h,d,r);const p=mb(t,r[h],r[d],c.loop);if(!e.segments){o.push({source:c,target:p,start:r[h],end:r[d]});continue}const y=gM(e,p);for(const _ of y){const b=mb(t,s[_.start],s[_.end],_.loop),E=mM(c,r,b);for(const S of E)o.push({source:S,target:_,start:{[t]:LD(p,b,"start",Math.max)},end:{[t]:LD(p,b,"end",Math.min)}})}}return o}function mb(i,e,t,n){if(n)return;let r=e[i],s=t[i];return i==="angle"&&(r=On(r),s=On(s)),{property:i,start:r,end:s}}function yq(i,e){const{x:t=null,y:n=null}=i||{},r=e.points,s=[];return e.segments.forEach(({start:o,end:c})=>{c=Mg(o,c,r);const h=r[o],d=r[c];n!==null?(s.push({x:h.x,y:n}),s.push({x:d.x,y:n})):t!==null&&(s.push({x:t,y:h.y}),s.push({x:t,y:d.y}))}),s}function Mg(i,e,t){for(;e>i;e--){const n=t[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function LD(i,e,t,n){return i&&e?n(i[t],e[t]):i?i[t]:e?e[t]:0}function FM(i,e){let t=[],n=!1;return xt(i)?(n=!0,t=i):t=yq(i,e),t.length?new Pd({points:t,options:{tension:0},_loop:n,_fullLoop:n}):null}function VD(i){return i&&i.fill!==!1}function _q(i,e,t){let r=i[e].fill;const s=[e];let o;if(!t)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!Nt(r))return r;if(o=i[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function vq(i,e,t){const n=Tq(i);if(Ye(n))return isNaN(n.value)?!1:n;let r=parseFloat(n);return Nt(r)&&Math.floor(r)===r?bq(n[0],e,r,t):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function bq(i,e,t,n){return(i==="-"||i==="+")&&(t=e+t),t===e||t<0||t>=n?!1:t}function wq(i,e){let t=null;return i==="start"?t=e.bottom:i==="end"?t=e.top:Ye(i)?t=e.getPixelForValue(i.value):e.getBasePixel&&(t=e.getBasePixel()),t}function Eq(i,e,t){let n;return i==="start"?n=t:i==="end"?n=e.options.reverse?e.min:e.max:Ye(i)?n=i.value:n=e.getBaseValue(),n}function Tq(i){const e=i.options,t=e.fill;let n=Ie(t&&t.target,t);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function Sq(i){const{scale:e,index:t,line:n}=i,r=[],s=n.segments,o=n.points,c=xq(e,t);c.push(FM({x:null,y:e.bottom},n));for(let h=0;h<s.length;h++){const d=s[h];for(let p=d.start;p<=d.end;p++)Dq(r,o[p],c)}return new Pd({points:r,options:{}})}function xq(i,e){const t=[],n=i.getMatchingVisibleMetas("line");for(let r=0;r<n.length;r++){const s=n[r];if(s.index===e)break;s.hidden||t.unshift(s.dataset)}return t}function Dq(i,e,t){const n=[];for(let r=0;r<t.length;r++){const s=t[r],{first:o,last:c,point:h}=Cq(s,e,"x");if(!(!h||o&&c)){if(o)n.unshift(h);else if(i.push(h),!c)break}}i.push(...n)}function Cq(i,e,t){const n=i.interpolate(e,t);if(!n)return{};const r=n[t],s=i.segments,o=i.points;let c=!1,h=!1;for(let d=0;d<s.length;d++){const p=s[d],y=o[p.start][t],_=o[p.end][t];if(ms(r,y,_)){c=r===y,h=r===_;break}}return{first:c,last:h,point:n}}class UM{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:r,y:s,radius:o}=this;return t=t||{start:0,end:Et},e.arc(r,s,o,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:r}=this,s=e.angle;return{x:t+Math.cos(s)*r,y:n+Math.sin(s)*r,angle:s}}}function Aq(i){const{chart:e,fill:t,line:n}=i;if(Nt(t))return Rq(e,t);if(t==="stack")return Sq(i);if(t==="shape")return!0;const r=kq(i);return r instanceof UM?r:FM(r,n)}function Rq(i,e){const t=i.getDatasetMeta(e);return t&&i.isDatasetVisible(e)?t.dataset:null}function kq(i){return(i.scale||{}).getPointPositionForValue?Iq(i):Mq(i)}function Mq(i){const{scale:e={},fill:t}=i,n=wq(t,e);if(Nt(n)){const r=e.isHorizontal();return{x:r?n:null,y:r?null:n}}return null}function Iq(i){const{scale:e,fill:t}=i,n=e.options,r=e.getLabels().length,s=n.reverse?e.max:e.min,o=Eq(t,e,s),c=[];if(n.grid.circular){const h=e.getPointPositionForValue(0,s);return new UM({x:h.x,y:h.y,radius:e.getDistanceFromCenterForValue(o)})}for(let h=0;h<r;++h)c.push(e.getPointPositionForValue(h,o));return c}function wv(i,e,t){const n=Aq(e),{chart:r,index:s,line:o,scale:c,axis:h}=e,d=o.options,p=d.fill,y=d.backgroundColor,{above:_=y,below:b=y}=p||{},E=r.getDatasetMeta(s),S=yM(r,E);n&&o.points.length&&(Cg(i,t),Oq(i,{line:o,target:n,above:_,below:b,area:t,scale:c,axis:h,clip:S}),Ag(i))}function Oq(i,e){const{line:t,target:n,above:r,below:s,area:o,scale:c,clip:h}=e,d=t._loop?"angle":e.axis;i.save();let p=s;s!==r&&(d==="x"?(BD(i,n,o.top),Ev(i,{line:t,target:n,color:r,scale:c,property:d,clip:h}),i.restore(),i.save(),BD(i,n,o.bottom)):d==="y"&&(FD(i,n,o.left),Ev(i,{line:t,target:n,color:s,scale:c,property:d,clip:h}),i.restore(),i.save(),FD(i,n,o.right),p=r)),Ev(i,{line:t,target:n,color:p,scale:c,property:d,clip:h}),i.restore()}function BD(i,e,t){const{segments:n,points:r}=e;let s=!0,o=!1;i.beginPath();for(const c of n){const{start:h,end:d}=c,p=r[h],y=r[Mg(h,d,r)];s?(i.moveTo(p.x,p.y),s=!1):(i.lineTo(p.x,t),i.lineTo(p.x,p.y)),o=!!e.pathSegment(i,c,{move:o}),o?i.closePath():i.lineTo(y.x,t)}i.lineTo(e.first().x,t),i.closePath(),i.clip()}function FD(i,e,t){const{segments:n,points:r}=e;let s=!0,o=!1;i.beginPath();for(const c of n){const{start:h,end:d}=c,p=r[h],y=r[Mg(h,d,r)];s?(i.moveTo(p.x,p.y),s=!1):(i.lineTo(t,p.y),i.lineTo(p.x,p.y)),o=!!e.pathSegment(i,c,{move:o}),o?i.closePath():i.lineTo(t,y.y)}i.lineTo(t,e.first().y),i.closePath(),i.clip()}function Ev(i,e){const{line:t,target:n,property:r,color:s,scale:o,clip:c}=e,h=gq(t,n,r);for(const{source:d,target:p,start:y,end:_}of h){const{style:{backgroundColor:b=s}={}}=d,E=n!==!0;i.save(),i.fillStyle=b,Pq(i,o,c,E&&mb(r,y,_)),i.beginPath();const S=!!t.pathSegment(i,d);let T;if(E){S?i.closePath():UD(i,n,_,r);const C=!!n.pathSegment(i,p,{move:S,reverse:!0});T=S&&C,T||UD(i,n,y,r)}i.closePath(),i.fill(T?"evenodd":"nonzero"),i.restore()}}function Pq(i,e,t,n){const r=e.chart.chartArea,{property:s,start:o,end:c}=n||{};if(s==="x"||s==="y"){let h,d,p,y;s==="x"?(h=o,d=r.top,p=c,y=r.bottom):(h=r.left,d=o,p=r.right,y=c),i.beginPath(),t&&(h=Math.max(h,t.left),p=Math.min(p,t.right),d=Math.max(d,t.top),y=Math.min(y,t.bottom)),i.rect(h,d,p-h,y-d),i.clip()}}function UD(i,e,t,n){const r=e.interpolate(t,n);r&&i.lineTo(r.x,r.y)}var Nq={id:"filler",afterDatasetsUpdate(i,e,t){const n=(i.data.datasets||[]).length,r=[];let s,o,c,h;for(o=0;o<n;++o)s=i.getDatasetMeta(o),c=s.dataset,h=null,c&&c.options&&c instanceof Pd&&(h={visible:i.isDatasetVisible(o),index:o,fill:vq(c,o,n),chart:i,axis:s.controller.options.indexAxis,scale:s.vScale,line:c}),s.$filler=h,r.push(h);for(o=0;o<n;++o)h=r[o],!(!h||h.fill===!1)&&(h.fill=_q(r,o,t.propagate))},beforeDraw(i,e,t){const n=t.drawTime==="beforeDraw",r=i.getSortedVisibleDatasetMetas(),s=i.chartArea;for(let o=r.length-1;o>=0;--o){const c=r[o].$filler;c&&(c.line.updateControlPoints(s,c.axis),n&&c.fill&&wv(i.ctx,c,s))}},beforeDatasetsDraw(i,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const n=i.getSortedVisibleDatasetMetas();for(let r=n.length-1;r>=0;--r){const s=n[r].$filler;VD(s)&&wv(i.ctx,s,i.chartArea)}},beforeDatasetDraw(i,e,t){const n=e.meta.$filler;!VD(n)||t.drawTime!=="beforeDatasetDraw"||wv(i.ctx,n,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const jD=(i,e)=>{let{boxHeight:t=e,boxWidth:n=e}=i;return i.usePointStyle&&(t=Math.min(t,e),n=i.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:t,itemHeight:Math.max(e,t)}},Lq=(i,e)=>i!==null&&e!==null&&i.datasetIndex===e.datasetIndex&&i.index===e.index;class zD extends Ls{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=vt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(n=>e.filter(n,this.chart.data))),e.sort&&(t=t.sort((n,r)=>e.sort(n,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,r=sn(n.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:c,itemHeight:h}=jD(n,s);let d,p;t.font=r.string,this.isHorizontal()?(d=this.maxWidth,p=this._fitRows(o,s,c,h)+10):(p=this.maxHeight,d=this._fitCols(o,r,c,h)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(p,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,r){const{ctx:s,maxWidth:o,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],d=this.lineWidths=[0],p=r+c;let y=e;s.textAlign="left",s.textBaseline="middle";let _=-1,b=-p;return this.legendItems.forEach((E,S)=>{const T=n+t/2+s.measureText(E.text).width;(S===0||d[d.length-1]+T+2*c>o)&&(y+=p,d[d.length-(S>0?0:1)]=0,b+=p,_++),h[S]={left:0,top:b,row:_,width:T,height:r},d[d.length-1]+=T+c}),y}_fitCols(e,t,n,r){const{ctx:s,maxHeight:o,options:{labels:{padding:c}}}=this,h=this.legendHitBoxes=[],d=this.columnSizes=[],p=o-e;let y=c,_=0,b=0,E=0,S=0;return this.legendItems.forEach((T,C)=>{const{itemWidth:N,itemHeight:j}=Vq(n,t,s,T,r);C>0&&b+j+2*c>p&&(y+=_+c,d.push({width:_,height:b}),E+=_+c,S++,_=b=0),h[C]={left:E,top:b,col:S,width:N,height:j},_=Math.max(_,N),b+=j+c}),y+=_,d.push({width:_,height:b}),y}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:r},rtl:s}}=this,o=Cc(s,this.left,this.width);if(this.isHorizontal()){let c=0,h=Mn(n,this.left+r,this.right-this.lineWidths[c]);for(const d of t)c!==d.row&&(c=d.row,h=Mn(n,this.left+r,this.right-this.lineWidths[c])),d.top+=this.top+e+r,d.left=o.leftForLtr(o.x(h),d.width),h+=d.width+r}else{let c=0,h=Mn(n,this.top+e+r,this.bottom-this.columnSizes[c].height);for(const d of t)d.col!==c&&(c=d.col,h=Mn(n,this.top+e+r,this.bottom-this.columnSizes[c].height)),d.top=h,d.left+=this.left+r,d.left=o.leftForLtr(o.x(d.left),d.width),h+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Cg(e,this),this._draw(),Ag(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:r}=this,{align:s,labels:o}=e,c=Ct.color,h=Cc(e.rtl,this.left,this.width),d=sn(o.font),{padding:p}=o,y=d.size,_=y/2;let b;this.drawTitle(),r.textAlign=h.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:E,boxHeight:S,itemHeight:T}=jD(o,y),C=function(K,M,A){if(isNaN(E)||E<=0||isNaN(S)||S<0)return;r.save();const k=Ie(A.lineWidth,1);if(r.fillStyle=Ie(A.fillStyle,c),r.lineCap=Ie(A.lineCap,"butt"),r.lineDashOffset=Ie(A.lineDashOffset,0),r.lineJoin=Ie(A.lineJoin,"miter"),r.lineWidth=k,r.strokeStyle=Ie(A.strokeStyle,c),r.setLineDash(Ie(A.lineDash,[])),o.usePointStyle){const L={radius:S*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:k},B=h.xPlus(K,E/2),U=M+_;rM(r,L,B,U,o.pointStyleWidth&&E)}else{const L=M+Math.max((y-S)/2,0),B=h.leftForLtr(K,E),U=Qo(A.borderRadius);r.beginPath(),Object.values(U).some(V=>V!==0)?cd(r,{x:B,y:L,w:E,h:S,radius:U}):r.rect(B,L,E,S),r.fill(),k!==0&&r.stroke()}r.restore()},N=function(K,M,A){ol(r,A.text,K,M+T/2,d,{strikethrough:A.hidden,textAlign:h.textAlign(A.textAlign)})},j=this.isHorizontal(),q=this._computeTitleHeight();j?b={x:Mn(s,this.left+p,this.right-n[0]),y:this.top+p+q,line:0}:b={x:this.left+p,y:Mn(s,this.top+q+p,this.bottom-t[0].height),line:0},dM(this.ctx,e.textDirection);const H=T+p;this.legendItems.forEach((K,M)=>{r.strokeStyle=K.fontColor,r.fillStyle=K.fontColor;const A=r.measureText(K.text).width,k=h.textAlign(K.textAlign||(K.textAlign=o.textAlign)),L=E+_+A;let B=b.x,U=b.y;h.setWidth(this.width),j?M>0&&B+L+p>this.right&&(U=b.y+=H,b.line++,B=b.x=Mn(s,this.left+p,this.right-n[b.line])):M>0&&U+H>this.bottom&&(B=b.x=B+t[b.line].width+p,b.line++,U=b.y=Mn(s,this.top+q+p,this.bottom-t[b.line].height));const V=h.x(B);if(C(V,U,K),B=QH(k,B+E+_,j?B+L:this.right,e.rtl),N(h.x(B),U,K),j)b.x+=L+p;else if(typeof K.text!="string"){const _e=d.lineHeight;b.y+=jM(K,_e)+p}else b.y+=H}),fM(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=sn(t.font),r=Bn(t.padding);if(!t.display)return;const s=Cc(e.rtl,this.left,this.width),o=this.ctx,c=t.position,h=n.size/2,d=r.top+h;let p,y=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),p=this.top+d,y=Mn(e.align,y,this.right-_);else{const E=this.columnSizes.reduce((S,T)=>Math.max(S,T.height),0);p=d+Mn(e.align,this.top,this.bottom-E-e.labels.padding-this._computeTitleHeight())}const b=Mn(c,y,y+_);o.textAlign=s.textAlign(j0(c)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=n.string,ol(o,t.text,b,p,n)}_computeTitleHeight(){const e=this.options.title,t=sn(e.font),n=Bn(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,r,s;if(ms(e,this.left,this.right)&&ms(t,this.top,this.bottom)){for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(r=s[n],ms(e,r.left,r.left+r.width)&&ms(t,r.top,r.top+r.height))return this.legendItems[n]}return null}handleEvent(e){const t=this.options;if(!Uq(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=Lq(r,n);r&&!s&&vt(t.onLeave,[e,r,this],this),this._hoveredItem=n,n&&!s&&vt(t.onHover,[e,n,this],this)}else n&&vt(t.onClick,[e,n,this],this)}}function Vq(i,e,t,n,r){const s=Bq(n,i,e,t),o=Fq(r,n,e.lineHeight);return{itemWidth:s,itemHeight:o}}function Bq(i,e,t,n){let r=i.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+t.size/2+n.measureText(r).width}function Fq(i,e,t){let n=i;return typeof e.text!="string"&&(n=jM(e,t)),n}function jM(i,e){const t=i.text?i.text.length:0;return e*t}function Uq(i,e){return!!((i==="mousemove"||i==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(i==="click"||i==="mouseup"))}var zM={id:"legend",_element:zD,start(i,e,t){const n=i.legend=new zD({ctx:i.ctx,options:t,chart:i});Ln.configure(i,n,t),Ln.addBox(i,n)},stop(i){Ln.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,e,t){const n=i.legend;Ln.configure(i,n,t),n.options=t},afterUpdate(i){const e=i.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(i,e){e.replay||i.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,e,t){const n=e.datasetIndex,r=t.chart;r.isDatasetVisible(n)?(r.hide(n),e.hidden=!0):(r.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){const e=i.data.datasets,{labels:{usePointStyle:t,pointStyle:n,textAlign:r,color:s,useBorderRadius:o,borderRadius:c}}=i.legend.options;return i._getSortedDatasetMetas().map(h=>{const d=h.controller.getStyle(t?0:void 0),p=Bn(d.borderWidth);return{text:e[h.index].label,fillStyle:d.backgroundColor,fontColor:s,hidden:!h.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:d.borderColor,pointStyle:n||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:o&&(c||d.borderRadius),datasetIndex:h.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}};class X0 extends Ls{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const r=xt(n.text)?n.text.length:1;this._padding=Bn(n.padding);const s=r*sn(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:n,bottom:r,right:s,options:o}=this,c=o.align;let h=0,d,p,y;return this.isHorizontal()?(p=Mn(c,n,s),y=t+e,d=s-n):(o.position==="left"?(p=n+e,y=Mn(c,r,t),h=Je*-.5):(p=s-e,y=Mn(c,t,r),h=Je*.5),d=r-t),{titleX:p,titleY:y,maxWidth:d,rotation:h}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=sn(t.font),s=n.lineHeight/2+this._padding.top,{titleX:o,titleY:c,maxWidth:h,rotation:d}=this._drawArgs(s);ol(e,t.text,0,0,n,{color:t.color,maxWidth:h,rotation:d,textAlign:j0(t.align),textBaseline:"middle",translation:[o,c]})}}function jq(i,e){const t=new X0({ctx:i.ctx,options:e,chart:i});Ln.configure(i,t,e),Ln.addBox(i,t),i.titleBlock=t}var HM={id:"title",_element:X0,start(i,e,t){jq(i,t)},stop(i){const e=i.titleBlock;Ln.removeBox(i,e),delete i.titleBlock},beforeUpdate(i,e,t){const n=i.titleBlock;Ln.configure(i,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Mp=new WeakMap;var zq={id:"subtitle",start(i,e,t){const n=new X0({ctx:i.ctx,options:t,chart:i});Ln.configure(i,n,t),Ln.addBox(i,n),Mp.set(i,n)},stop(i){Ln.removeBox(i,Mp.get(i)),Mp.delete(i)},beforeUpdate(i,e,t){const n=Mp.get(i);Ln.configure(i,n,t),n.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ph={average(i){if(!i.length)return!1;let e,t,n=new Set,r=0,s=0;for(e=0,t=i.length;e<t;++e){const c=i[e].element;if(c&&c.hasValue()){const h=c.tooltipPosition();n.add(h.x),r+=h.y,++s}}return s===0||n.size===0?!1:{x:[...n].reduce((c,h)=>c+h)/n.size,y:r/s}},nearest(i,e){if(!i.length)return!1;let t=e.x,n=e.y,r=Number.POSITIVE_INFINITY,s,o,c;for(s=0,o=i.length;s<o;++s){const h=i[s].element;if(h&&h.hasValue()){const d=h.getCenterPoint(),p=lb(e,d);p<r&&(r=p,c=h)}}if(c){const h=c.tooltipPosition();t=h.x,n=h.y}return{x:t,y:n}}};function mr(i,e){return e&&(xt(e)?Array.prototype.push.apply(i,e):i.push(e)),i}function hs(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function Hq(i,e){const{element:t,datasetIndex:n,index:r}=e,s=i.getDatasetMeta(n).controller,{label:o,value:c}=s.getLabelAndValue(r);return{chart:i,label:o,parsed:s.getParsed(r),raw:i.data.datasets[n].data[r],formattedValue:c,dataset:s.getDataset(),dataIndex:r,datasetIndex:n,element:t}}function HD(i,e){const t=i.chart.ctx,{body:n,footer:r,title:s}=i,{boxWidth:o,boxHeight:c}=e,h=sn(e.bodyFont),d=sn(e.titleFont),p=sn(e.footerFont),y=s.length,_=r.length,b=n.length,E=Bn(e.padding);let S=E.height,T=0,C=n.reduce((q,H)=>q+H.before.length+H.lines.length+H.after.length,0);if(C+=i.beforeBody.length+i.afterBody.length,y&&(S+=y*d.lineHeight+(y-1)*e.titleSpacing+e.titleMarginBottom),C){const q=e.displayColors?Math.max(c,h.lineHeight):h.lineHeight;S+=b*q+(C-b)*h.lineHeight+(C-1)*e.bodySpacing}_&&(S+=e.footerMarginTop+_*p.lineHeight+(_-1)*e.footerSpacing);let N=0;const j=function(q){T=Math.max(T,t.measureText(q).width+N)};return t.save(),t.font=d.string,ut(i.title,j),t.font=h.string,ut(i.beforeBody.concat(i.afterBody),j),N=e.displayColors?o+2+e.boxPadding:0,ut(n,q=>{ut(q.before,j),ut(q.lines,j),ut(q.after,j)}),N=0,t.font=p.string,ut(i.footer,j),t.restore(),T+=E.width,{width:T,height:S}}function Yq(i,e){const{y:t,height:n}=e;return t<n/2?"top":t>i.height-n/2?"bottom":"center"}function qq(i,e,t,n){const{x:r,width:s}=n,o=t.caretSize+t.caretPadding;if(i==="left"&&r+s+o>e.width||i==="right"&&r-s-o<0)return!0}function Wq(i,e,t,n){const{x:r,width:s}=t,{width:o,chartArea:{left:c,right:h}}=i;let d="center";return n==="center"?d=r<=(c+h)/2?"left":"right":r<=s/2?d="left":r>=o-s/2&&(d="right"),qq(d,i,e,t)&&(d="center"),d}function YD(i,e,t){const n=t.yAlign||e.yAlign||Yq(i,t);return{xAlign:t.xAlign||e.xAlign||Wq(i,e,t,n),yAlign:n}}function Gq(i,e){let{x:t,width:n}=i;return e==="right"?t-=n:e==="center"&&(t-=n/2),t}function $q(i,e,t){let{y:n,height:r}=i;return e==="top"?n+=t:e==="bottom"?n-=r+t:n-=r/2,n}function qD(i,e,t,n){const{caretSize:r,caretPadding:s,cornerRadius:o}=i,{xAlign:c,yAlign:h}=t,d=r+s,{topLeft:p,topRight:y,bottomLeft:_,bottomRight:b}=Qo(o);let E=Gq(e,c);const S=$q(e,h,d);return h==="center"?c==="left"?E+=d:c==="right"&&(E-=d):c==="left"?E-=Math.max(p,_)+r:c==="right"&&(E+=Math.max(y,b)+r),{x:pn(E,0,n.width-e.width),y:pn(S,0,n.height-e.height)}}function Ip(i,e,t){const n=Bn(t.padding);return e==="center"?i.x+i.width/2:e==="right"?i.x+i.width-n.right:i.x+n.left}function WD(i){return mr([],hs(i))}function Qq(i,e,t){return qa(i,{tooltip:e,tooltipItems:t,type:"tooltip"})}function GD(i,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?i.override(t):i}const YM={beforeTitle:ls,title(i){if(i.length>0){const e=i[0],t=e.chart.data.labels,n=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return t[e.dataIndex]}return""},afterTitle:ls,beforeBody:ls,beforeLabel:ls,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let e=i.dataset.label||"";e&&(e+=": ");const t=i.formattedValue;return Ue(t)||(e+=t),e},labelColor(i){const t=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){const t=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:ls,afterBody:ls,beforeFooter:ls,footer:ls,afterFooter:ls};function $n(i,e,t,n){const r=i[e].call(t,n);return typeof r>"u"?YM[e].call(t,n):r}class $D extends Ls{static positioners=Ph;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,s=new _M(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Qq(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:n}=t,r=$n(n,"beforeTitle",this,e),s=$n(n,"title",this,e),o=$n(n,"afterTitle",this,e);let c=[];return c=mr(c,hs(r)),c=mr(c,hs(s)),c=mr(c,hs(o)),c}getBeforeBody(e,t){return WD($n(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,r=[];return ut(e,s=>{const o={before:[],lines:[],after:[]},c=GD(n,s);mr(o.before,hs($n(c,"beforeLabel",this,s))),mr(o.lines,$n(c,"label",this,s)),mr(o.after,hs($n(c,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(e,t){return WD($n(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,r=$n(n,"beforeFooter",this,e),s=$n(n,"footer",this,e),o=$n(n,"afterFooter",this,e);let c=[];return c=mr(c,hs(r)),c=mr(c,hs(s)),c=mr(c,hs(o)),c}_createItems(e){const t=this._active,n=this.chart.data,r=[],s=[],o=[];let c=[],h,d;for(h=0,d=t.length;h<d;++h)c.push(Hq(this.chart,t[h]));return e.filter&&(c=c.filter((p,y,_)=>e.filter(p,y,_,n))),e.itemSort&&(c=c.sort((p,y)=>e.itemSort(p,y,n))),ut(c,p=>{const y=GD(e.callbacks,p);r.push($n(y,"labelColor",this,p)),s.push($n(y,"labelPointStyle",this,p)),o.push($n(y,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=c,c}update(e,t){const n=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const c=Ph[n.position].call(this,r,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const h=this._size=HD(this,n),d=Object.assign({},c,h),p=YD(this.chart,n,d),y=qD(n,d,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,s={opacity:1,x:y.x,y:y.y,width:h.width,height:h.height,caretX:c.x,caretY:c.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,r){const s=this.getCaretPosition(e,n,r);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,n){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:c}=n,{topLeft:h,topRight:d,bottomLeft:p,bottomRight:y}=Qo(c),{x:_,y:b}=e,{width:E,height:S}=t;let T,C,N,j,q,H;return s==="center"?(q=b+S/2,r==="left"?(T=_,C=T-o,j=q+o,H=q-o):(T=_+E,C=T+o,j=q-o,H=q+o),N=T):(r==="left"?C=_+Math.max(h,p)+o:r==="right"?C=_+E-Math.max(d,y)-o:C=this.caretX,s==="top"?(j=b,q=j-o,T=C-o,N=C+o):(j=b+S,q=j+o,T=C+o,N=C-o),H=j),{x1:T,x2:C,x3:N,y1:j,y2:q,y3:H}}drawTitle(e,t,n){const r=this.title,s=r.length;let o,c,h;if(s){const d=Cc(n.rtl,this.x,this.width);for(e.x=Ip(this,n.titleAlign,n),t.textAlign=d.textAlign(n.titleAlign),t.textBaseline="middle",o=sn(n.titleFont),c=n.titleSpacing,t.fillStyle=n.titleColor,t.font=o.string,h=0;h<s;++h)t.fillText(r[h],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+c,h+1===s&&(e.y+=n.titleMarginBottom-c)}}_drawColorBox(e,t,n,r,s){const o=this.labelColors[n],c=this.labelPointStyles[n],{boxHeight:h,boxWidth:d}=s,p=sn(s.bodyFont),y=Ip(this,"left",s),_=r.x(y),b=h<p.lineHeight?(p.lineHeight-h)/2:0,E=t.y+b;if(s.usePointStyle){const S={radius:Math.min(d,h)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},T=r.leftForLtr(_,d)+d/2,C=E+h/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,ub(e,S,T,C),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,ub(e,S,T,C)}else{e.lineWidth=Ye(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const S=r.leftForLtr(_,d),T=r.leftForLtr(r.xPlus(_,1),d-2),C=Qo(o.borderRadius);Object.values(C).some(N=>N!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,cd(e,{x:S,y:E,w:d,h,radius:C}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),cd(e,{x:T,y:E+1,w:d-2,h:h-2,radius:C}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(S,E,d,h),e.strokeRect(S,E,d,h),e.fillStyle=o.backgroundColor,e.fillRect(T,E+1,d-2,h-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:c,boxHeight:h,boxWidth:d,boxPadding:p}=n,y=sn(n.bodyFont);let _=y.lineHeight,b=0;const E=Cc(n.rtl,this.x,this.width),S=function(A){t.fillText(A,E.x(e.x+b),e.y+_/2),e.y+=_+s},T=E.textAlign(o);let C,N,j,q,H,K,M;for(t.textAlign=o,t.textBaseline="middle",t.font=y.string,e.x=Ip(this,T,n),t.fillStyle=n.bodyColor,ut(this.beforeBody,S),b=c&&T!=="right"?o==="center"?d/2+p:d+2+p:0,q=0,K=r.length;q<K;++q){for(C=r[q],N=this.labelTextColors[q],t.fillStyle=N,ut(C.before,S),j=C.lines,c&&j.length&&(this._drawColorBox(t,e,q,E,n),_=Math.max(y.lineHeight,h)),H=0,M=j.length;H<M;++H)S(j[H]),_=y.lineHeight;ut(C.after,S)}b=0,_=y.lineHeight,ut(this.afterBody,S),e.y-=s}drawFooter(e,t,n){const r=this.footer,s=r.length;let o,c;if(s){const h=Cc(n.rtl,this.x,this.width);for(e.x=Ip(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=h.textAlign(n.footerAlign),t.textBaseline="middle",o=sn(n.footerFont),t.fillStyle=n.footerColor,t.font=o.string,c=0;c<s;++c)t.fillText(r[c],h.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,t,n,r){const{xAlign:s,yAlign:o}=this,{x:c,y:h}=e,{width:d,height:p}=n,{topLeft:y,topRight:_,bottomLeft:b,bottomRight:E}=Qo(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(c+y,h),o==="top"&&this.drawCaret(e,t,n,r),t.lineTo(c+d-_,h),t.quadraticCurveTo(c+d,h,c+d,h+_),o==="center"&&s==="right"&&this.drawCaret(e,t,n,r),t.lineTo(c+d,h+p-E),t.quadraticCurveTo(c+d,h+p,c+d-E,h+p),o==="bottom"&&this.drawCaret(e,t,n,r),t.lineTo(c+b,h+p),t.quadraticCurveTo(c,h+p,c,h+p-b),o==="center"&&s==="left"&&this.drawCaret(e,t,n,r),t.lineTo(c,h+y),t.quadraticCurveTo(c,h,c+y,h),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,r=n&&n.x,s=n&&n.y;if(r||s){const o=Ph[e.position].call(this,this._active,this._eventPosition);if(!o)return;const c=this._size=HD(this,e),h=Object.assign({},o,this._size),d=YD(t,e,h),p=qD(e,h,d,t);(r._to!==p.x||s._to!==p.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=c.width,this.height=c.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=Bn(t.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&c&&(e.save(),e.globalAlpha=n,this.drawBackground(s,e,r,t),dM(e,t.textDirection),s.y+=o.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),fM(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,r=e.map(({datasetIndex:c,index:h})=>{const d=this.chart.getDatasetMeta(c);if(!d)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:d.data[h],index:h}}),s=!Om(n,r),o=this._positionChanged(r,t);(s||o)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,n=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(e,s,t,n),c=this._positionChanged(o,e),h=t||!Om(o,s)||c;return h&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),h}_getActiveElements(e,t,n,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return t.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,n);return s.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:n,caretY:r,options:s}=this,o=Ph[s.position].call(this,e,t);return o!==!1&&(n!==o.x||r!==o.y)}}var qM={id:"tooltip",_element:$D,positioners:Ph,afterInit(i,e,t){t&&(i.tooltip=new $D({chart:i,options:t}))},beforeUpdate(i,e,t){i.tooltip&&i.tooltip.initialize(t)},reset(i,e,t){i.tooltip&&i.tooltip.initialize(t)},afterDraw(i){const e=i.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(i.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",t)}},afterEvent(i,e){if(i.tooltip){const t=e.replay;i.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,e)=>e.bodyFont.size,boxWidth:(i,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:YM},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Kq=Object.freeze({__proto__:null,Colors:hq,Decimation:mq,Filler:Nq,Legend:zM,SubTitle:zq,Title:HM,Tooltip:qM});const Xq=(i,e,t,n)=>(typeof e=="string"?(t=i.push(e)-1,n.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function Zq(i,e,t,n){const r=i.indexOf(e);if(r===-1)return Xq(i,e,t,n);const s=i.lastIndexOf(e);return r!==s?t:r}const Jq=(i,e)=>i===null?null:pn(Math.round(i),0,e);function QD(i){const e=this.getLabels();return i>=0&&i<e.length?e[i]:i}class WM extends yl{static id="category";static defaults={ticks:{callback:QD}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const n=this.getLabels();for(const{index:r,label:s}of t)n[r]===s&&n.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Ue(e))return null;const n=this.getLabels();return t=isFinite(t)&&n[t]===e?t:Zq(n,e,Ie(t,e),this._addedLabels),Jq(t,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),t||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,r=[];let s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=t;o++)r.push({value:o});return r}getLabelForValue(e){return QD.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function eW(i,e){const t=[],{bounds:r,step:s,min:o,max:c,precision:h,count:d,maxTicks:p,maxDigits:y,includeBounds:_}=i,b=s||1,E=p-1,{min:S,max:T}=e,C=!Ue(o),N=!Ue(c),j=!Ue(d),q=(T-S)/(y+1);let H=H1((T-S)/E/b)*b,K,M,A,k;if(H<1e-14&&!C&&!N)return[{value:S},{value:T}];k=Math.ceil(T/H)-Math.floor(S/H),k>E&&(H=H1(k*H/E/b)*b),Ue(h)||(K=Math.pow(10,h),H=Math.ceil(H*K)/K),r==="ticks"?(M=Math.floor(S/H)*H,A=Math.ceil(T/H)*H):(M=S,A=T),C&&N&&s&&zH((c-o)/s,H/1e3)?(k=Math.round(Math.min((c-o)/H,p)),H=(c-o)/k,M=o,A=c):j?(M=C?o:M,A=N?c:A,k=d-1,H=(A-M)/k):(k=(A-M)/H,Hh(k,Math.round(k),H/1e3)?k=Math.round(k):k=Math.ceil(k));const L=Math.max(Y1(H),Y1(M));K=Math.pow(10,Ue(h)?L:h),M=Math.round(M*K)/K,A=Math.round(A*K)/K;let B=0;for(C&&(_&&M!==o?(t.push({value:o}),M<o&&B++,Hh(Math.round((M+B*H)*K)/K,o,KD(o,q,i))&&B++):M<o&&B++);B<k;++B){const U=Math.round((M+B*H)*K)/K;if(N&&U>c)break;t.push({value:U})}return N&&_&&A!==c?t.length&&Hh(t[t.length-1].value,c,KD(c,q,i))?t[t.length-1].value=c:t.push({value:c}):(!N||A===c)&&t.push({value:A}),t}function KD(i,e,{horizontal:t,minRotation:n}){const r=Hi(n),s=(t?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+i).length;return Math.min(e/s,o)}class Um extends yl{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Ue(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this;const o=h=>r=t?r:h,c=h=>s=n?s:h;if(e){const h=kr(r),d=kr(s);h<0&&d<0?c(0):h>0&&d>0&&o(0)}if(r===s){let h=s===0?1:Math.abs(s*.05);c(s+h),e||o(r-h)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:n}=e,r;return n?(r=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,o=eW(r,s);return e.bounds==="ticks"&&Qk(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const r=(n-t)/Math.max(e.length-1,1)/2;t-=r,n+=r}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return Id(e,this.chart.options.locale,this.options.ticks.format)}}class GM extends Um{static id="linear";static defaults={ticks:{callback:Dg.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Nt(e)?e:0,this.max=Nt(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=Hi(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const hd=i=>Math.floor(Ea(i)),Po=(i,e)=>Math.pow(10,hd(i)+e);function XD(i){return i/Math.pow(10,hd(i))===1}function ZD(i,e,t){const n=Math.pow(10,t),r=Math.floor(i/n);return Math.ceil(e/n)-r}function tW(i,e){const t=e-i;let n=hd(t);for(;ZD(i,e,n)>10;)n++;for(;ZD(i,e,n)<10;)n--;return Math.min(n,hd(i))}function nW(i,{min:e,max:t}){e=li(i.min,e);const n=[],r=hd(e);let s=tW(e,t),o=s<0?Math.pow(10,Math.abs(s)):1;const c=Math.pow(10,s),h=r>s?Math.pow(10,r):0,d=Math.round((e-h)*o)/o,p=Math.floor((e-h)/c/10)*c*10;let y=Math.floor((d-p)/Math.pow(10,s)),_=li(i.min,Math.round((h+p+y*Math.pow(10,s))*o)/o);for(;_<t;)n.push({value:_,major:XD(_),significand:y}),y>=10?y=y<15?15:20:y++,y>=20&&(s++,y=2,o=s>=0?1:o),_=Math.round((h+p+y*Math.pow(10,s))*o)/o;const b=li(i.max,_);return n.push({value:b,major:XD(b),significand:y}),n}class iW extends yl{static id="logarithmic";static defaults={ticks:{callback:Dg.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=Um.prototype.parse.apply(this,[e,t]);if(n===0){this._zero=!0;return}return Nt(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Nt(e)?Math.max(0,e):null,this.max=Nt(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Nt(this._userMin)&&(this.min=e===Po(this.min,0)?Po(this.min,-1):Po(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,r=this.max;const s=c=>n=e?n:c,o=c=>r=t?r:c;n===r&&(n<=0?(s(1),o(10)):(s(Po(n,-1)),o(Po(r,1)))),n<=0&&s(Po(r,-1)),r<=0&&o(Po(n,1)),this.min=n,this.max=r}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},n=nW(t,this);return e.bounds==="ticks"&&Qk(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":Id(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Ea(e),this._valueRange=Ea(this.max)-Ea(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Ea(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function gb(i){const e=i.ticks;if(e.display&&i.display){const t=Bn(e.backdropPadding);return Ie(e.font&&e.font.size,Ct.font.size)+t.height}return 0}function rW(i,e,t){return t=xt(t)?t:[t],{w:s7(i,e.string,t),h:t.length*e.lineHeight}}function JD(i,e,t,n,r){return i===n||i===r?{start:e-t/2,end:e+t/2}:i<n||i>r?{start:e-t,end:e}:{start:e,end:e+t}}function sW(i){const e={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},t=Object.assign({},e),n=[],r=[],s=i._pointLabels.length,o=i.options.pointLabels,c=o.centerPointLabels?Je/s:0;for(let h=0;h<s;h++){const d=o.setContext(i.getPointLabelContext(h));r[h]=d.padding;const p=i.getPointPosition(h,i.drawingArea+r[h],c),y=sn(d.font),_=rW(i.ctx,y,i._pointLabels[h]);n[h]=_;const b=On(i.getIndexAngle(h)+c),E=Math.round(F0(b)),S=JD(E,p.x,_.w,0,180),T=JD(E,p.y,_.h,90,270);aW(t,e,b,S,T)}i.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),i._pointLabelItems=cW(i,n,r)}function aW(i,e,t,n,r){const s=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t));let c=0,h=0;n.start<e.l?(c=(e.l-n.start)/s,i.l=Math.min(i.l,e.l-c)):n.end>e.r&&(c=(n.end-e.r)/s,i.r=Math.max(i.r,e.r+c)),r.start<e.t?(h=(e.t-r.start)/o,i.t=Math.min(i.t,e.t-h)):r.end>e.b&&(h=(r.end-e.b)/o,i.b=Math.max(i.b,e.b+h))}function oW(i,e,t){const n=i.drawingArea,{extra:r,additionalAngle:s,padding:o,size:c}=t,h=i.getPointPosition(e,n+r+o,s),d=Math.round(F0(On(h.angle+Yt))),p=dW(h.y,c.h,d),y=uW(d),_=hW(h.x,c.w,y);return{visible:!0,x:h.x,y:p,textAlign:y,left:_,top:p,right:_+c.w,bottom:p+c.h}}function lW(i,e){if(!e)return!0;const{left:t,top:n,right:r,bottom:s}=i;return!(ys({x:t,y:n},e)||ys({x:t,y:s},e)||ys({x:r,y:n},e)||ys({x:r,y:s},e))}function cW(i,e,t){const n=[],r=i._pointLabels.length,s=i.options,{centerPointLabels:o,display:c}=s.pointLabels,h={extra:gb(s)/2,additionalAngle:o?Je/r:0};let d;for(let p=0;p<r;p++){h.padding=t[p],h.size=e[p];const y=oW(i,p,h);n.push(y),c==="auto"&&(y.visible=lW(y,d),y.visible&&(d=y))}return n}function uW(i){return i===0||i===180?"center":i<180?"left":"right"}function hW(i,e,t){return t==="right"?i-=e:t==="center"&&(i-=e/2),i}function dW(i,e,t){return t===90||t===270?i-=e/2:(t>270||t<90)&&(i-=e),i}function fW(i,e,t){const{left:n,top:r,right:s,bottom:o}=t,{backdropColor:c}=e;if(!Ue(c)){const h=Qo(e.borderRadius),d=Bn(e.backdropPadding);i.fillStyle=c;const p=n-d.left,y=r-d.top,_=s-n+d.width,b=o-r+d.height;Object.values(h).some(E=>E!==0)?(i.beginPath(),cd(i,{x:p,y,w:_,h:b,radius:h}),i.fill()):i.fillRect(p,y,_,b)}}function pW(i,e){const{ctx:t,options:{pointLabels:n}}=i;for(let r=e-1;r>=0;r--){const s=i._pointLabelItems[r];if(!s.visible)continue;const o=n.setContext(i.getPointLabelContext(r));fW(t,o,s);const c=sn(o.font),{x:h,y:d,textAlign:p}=s;ol(t,i._pointLabels[r],h,d+c.lineHeight/2,c,{color:o.color,textAlign:p,textBaseline:"middle"})}}function $M(i,e,t,n){const{ctx:r}=i;if(t)r.arc(i.xCenter,i.yCenter,e,0,Et);else{let s=i.getPointPosition(0,e);r.moveTo(s.x,s.y);for(let o=1;o<n;o++)s=i.getPointPosition(o,e),r.lineTo(s.x,s.y)}}function mW(i,e,t,n,r){const s=i.ctx,o=e.circular,{color:c,lineWidth:h}=e;!o&&!n||!c||!h||t<0||(s.save(),s.strokeStyle=c,s.lineWidth=h,s.setLineDash(r.dash||[]),s.lineDashOffset=r.dashOffset,s.beginPath(),$M(i,t,o,n),s.closePath(),s.stroke(),s.restore())}function gW(i,e,t){return qa(i,{label:t,index:e,type:"pointLabel"})}class yW extends Um{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Dg.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Bn(gb(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Nt(e)&&!isNaN(e)?e:0,this.max=Nt(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/gb(this.options))}generateTickLabels(e){Um.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,n)=>{const r=vt(this.options.pointLabels.callback,[t,n],this);return r||r===0?r:""}).filter((t,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?sW(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,r))}getIndexAngle(e){const t=Et/(this._pointLabels.length||1),n=this.options.startAngle||0;return On(e*t+Hi(n))}getDistanceFromCenterForValue(e){if(Ue(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Ue(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return gW(this.getContext(),e,n)}}getPointPosition(e,t,n=0){const r=this.getIndexAngle(e)-Yt+n;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:r,bottom:s}=this._pointLabelItems[e];return{left:t,top:n,right:r,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),$M(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:r,border:s}=t,o=this._pointLabels.length;let c,h,d;if(t.pointLabels.display&&pW(this,o),r.display&&this.ticks.forEach((p,y)=>{if(y!==0||y===0&&this.min<0){h=this.getDistanceFromCenterForValue(p.value);const _=this.getContext(y),b=r.setContext(_),E=s.setContext(_);mW(this,b,h,o,E)}}),n.display){for(e.save(),c=o-1;c>=0;c--){const p=n.setContext(this.getPointLabelContext(c)),{color:y,lineWidth:_}=p;!_||!y||(e.lineWidth=_,e.strokeStyle=y,e.setLineDash(p.borderDash),e.lineDashOffset=p.borderDashOffset,h=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),d=this.getPointPosition(c,h),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(d.x,d.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((c,h)=>{if(h===0&&this.min>=0&&!t.reverse)return;const d=n.setContext(this.getContext(h)),p=sn(d.font);if(s=this.getDistanceFromCenterForValue(this.ticks[h].value),d.showLabelBackdrop){e.font=p.string,o=e.measureText(c.label).width,e.fillStyle=d.backdropColor;const y=Bn(d.backdropPadding);e.fillRect(-o/2-y.left,-s-p.size/2-y.top,o+y.width,p.size+y.height)}ol(e,c.label,0,-s,p,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),e.restore()}drawTitle(){}}const Ig={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Zn=Object.keys(Ig);function eC(i,e){return i-e}function tC(i,e){if(Ue(e))return null;const t=i._adapter,{parser:n,round:r,isoWeekday:s}=i._parseOpts;let o=e;return typeof n=="function"&&(o=n(o)),Nt(o)||(o=typeof n=="string"?t.parse(o,n):t.parse(o)),o===null?null:(r&&(o=r==="week"&&(Hc(s)||s===!0)?t.startOf(o,"isoWeek",s):t.startOf(o,r)),+o)}function nC(i,e,t,n){const r=Zn.length;for(let s=Zn.indexOf(i);s<r-1;++s){const o=Ig[Zn[s]],c=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(c*o.size))<=n)return Zn[s]}return Zn[r-1]}function _W(i,e,t,n,r){for(let s=Zn.length-1;s>=Zn.indexOf(t);s--){const o=Zn[s];if(Ig[o].common&&i._adapter.diff(r,n,o)>=e-1)return o}return Zn[t?Zn.indexOf(t):0]}function vW(i){for(let e=Zn.indexOf(i)+1,t=Zn.length;e<t;++e)if(Ig[Zn[e]].common)return Zn[e]}function iC(i,e,t){if(!t)i[e]=!0;else if(t.length){const{lo:n,hi:r}=U0(t,e),s=t[n]>=e?t[n]:t[r];i[s]=!0}}function bW(i,e,t,n){const r=i._adapter,s=+r.startOf(e[0].value,n),o=e[e.length-1].value;let c,h;for(c=s;c<=o;c=+r.add(c,1,n))h=t[c],h>=0&&(e[h].major=!0);return e}function rC(i,e,t){const n=[],r={},s=e.length;let o,c;for(o=0;o<s;++o)c=e[o],r[c]=o,n.push({value:c,major:!1});return s===0||!t?n:bW(i,n,r,t)}class yb extends yl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const n=e.time||(e.time={}),r=this._adapter=new CY._date(e.adapters.date);r.init(t),zh(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:tC(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:c}=this.getUserBounds();function h(d){!o&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!c&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!o||!c)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),r=Nt(r)&&!isNaN(r)?r:+t.startOf(Date.now(),n),s=Nt(s)&&!isNaN(s)?s:+t.endOf(Date.now(),n)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,r=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,c=WH(r,s,o);return this._unit=t.unit||(n.autoSkip?nC(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):_W(this,c.length,t.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:vW(this._unit),this.initOffsets(r),e.reverse&&c.reverse(),rC(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,n=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?n=s:n=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=pn(t,0,o),n=pn(n,0,o),this._offsets={start:t,end:n,factor:1/(t+1+n)}}_generate(){const e=this._adapter,t=this.min,n=this.max,r=this.options,s=r.time,o=s.unit||nC(s.minUnit,t,n,this._getLabelCapacity(t)),c=Ie(r.ticks.stepSize,1),h=o==="week"?s.isoWeekday:!1,d=Hc(h)||h===!0,p={};let y=t,_,b;if(d&&(y=+e.startOf(y,"isoWeek",h)),y=+e.startOf(y,d?"day":o),e.diff(n,t,o)>1e5*c)throw new Error(t+" and "+n+" are too far apart with stepSize of "+c+" "+o);const E=r.ticks.source==="data"&&this.getDataTimestamps();for(_=y,b=0;_<n;_=+e.add(_,c,o),b++)iC(p,_,E);return(_===n||r.bounds==="ticks"||b===1)&&iC(p,_,E),Object.keys(p).sort(eC).map(S=>+S)}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,s=this._unit,o=t||r[s];return this._adapter.format(e,o)}_tickFormatFunction(e,t,n,r){const s=this.options,o=s.ticks.callback;if(o)return vt(o,[e,t,n],this);const c=s.time.displayFormats,h=this._unit,d=this._majorUnit,p=h&&c[h],y=d&&c[d],_=n[t],b=d&&y&&_&&_.major;return this._adapter.format(e,r||(b?y:p))}generateTickLabels(e){let t,n,r;for(t=0,n=e.length;t<n;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,r=Hi(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(r),o=Math.sin(r),c=this._resolveTickFontOptions(0).size;return{w:n*s+c*o,h:n*o+c*s}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,r=n[t.unit]||n.millisecond,s=this._tickFormatFunction(e,0,rC(this,[e],this._majorUnit),r),o=this._getLabelSize(s),c=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],t,n;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,n=r.length;t<n;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const r=this.getLabels();for(t=0,n=r.length;t<n;++t)e.push(tC(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Zk(e.sort(eC))}}function Op(i,e,t){let n=0,r=i.length-1,s,o,c,h;t?(e>=i[n].pos&&e<=i[r].pos&&({lo:n,hi:r}=gs(i,"pos",e)),{pos:s,time:c}=i[n],{pos:o,time:h}=i[r]):(e>=i[n].time&&e<=i[r].time&&({lo:n,hi:r}=gs(i,"time",e)),{time:s,pos:c}=i[n],{time:o,pos:h}=i[r]);const d=o-s;return d?c+(h-c)*(e-s)/d:c}class wW extends yb{static id="timeseries";static defaults=yb.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Op(t,this.min),this._tableRange=Op(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,r=[],s=[];let o,c,h,d,p;for(o=0,c=e.length;o<c;++o)d=e[o],d>=t&&d<=n&&r.push(d);if(r.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(o=0,c=r.length;o<c;++o)p=r[o+1],h=r[o-1],d=r[o],Math.round((p+h)/2)!==d&&s.push({time:d,pos:o/(c-1)});return s}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(t)||n.length===1)&&n.push(t),n.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return t.length&&n.length?e=this.normalize(t.concat(n)):e=t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Op(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return Op(this._table,n*this._tableRange+this._minPos,!0)}}var EW=Object.freeze({__proto__:null,CategoryScale:WM,LinearScale:GM,LogarithmicScale:iW,RadialLinearScale:yW,TimeScale:yb,TimeSeriesScale:wW});const TW=[DY,rq,Kq,EW],QM="label";function sC(i,e){typeof i=="function"?i(e):i&&(i.current=e)}function SW(i,e){const t=i.options;t&&e&&Object.assign(t,e)}function KM(i,e){i.labels=e}function XM(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:QM;const n=[];i.datasets=e.map(r=>{const s=i.datasets.find(o=>o[t]===r[t]);return!s||!r.data||n.includes(s)?{...r}:(n.push(s),Object.assign(s,r),s)})}function xW(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:QM;const t={labels:[],datasets:[]};return KM(t,i.labels),XM(t,i.datasets,e),t}function DW(i,e){const{height:t=150,width:n=300,redraw:r=!1,datasetIdKey:s,type:o,data:c,options:h,plugins:d=[],fallbackContent:p,updateMode:y,..._}=i,b=P.useRef(null),E=P.useRef(null),S=()=>{b.current&&(E.current=new Od(b.current,{type:o,data:xW(c,s),options:h&&{...h},plugins:d}),sC(e,E.current))},T=()=>{sC(e,null),E.current&&(E.current.destroy(),E.current=null)};return P.useEffect(()=>{!r&&E.current&&h&&SW(E.current,h)},[r,h]),P.useEffect(()=>{!r&&E.current&&KM(E.current.config.data,c.labels)},[r,c.labels]),P.useEffect(()=>{!r&&E.current&&c.datasets&&XM(E.current.config.data,c.datasets,s)},[r,c.datasets]),P.useEffect(()=>{E.current&&(r?(T(),setTimeout(S)):E.current.update(y))},[r,h,c.labels,c.datasets,y]),P.useEffect(()=>{E.current&&(T(),setTimeout(S))},[o]),P.useEffect(()=>(S(),()=>T()),[]),ie.createElement("canvas",{ref:b,role:"img",height:t,width:n,..._},p)}const CW=P.forwardRef(DW);function AW(i,e){return Od.register(e),P.forwardRef((t,n)=>ie.createElement(CW,{...t,ref:n,type:i}))}const ZM=AW("line",wM),RW="_card_hw1sq_1",kW="_header_hw1sq_10",MW="_title_hw1sq_19",IW="_timeToggles_hw1sq_26",OW="_toggleButton_hw1sq_34",PW="_active_hw1sq_46",NW="_chartContainer_hw1sq_52",LW="_trendIndicator_hw1sq_58",cs={card:RW,header:kW,title:MW,timeToggles:IW,toggleButton:OW,active:PW,chartContainer:NW,trendIndicator:LW};Od.register(...TW);const VW=(i,e=7)=>{let t=[];for(let n=0;n<i.length;n++){const r=i.slice(Math.max(0,n-e+1),n+1),s=r.reduce((o,c)=>o+c.weight_kg,0);t.push({date:i[n].id,weight_kg:parseFloat((s/r.length).toFixed(2))})}return t},BW=i=>{if(i.length<7)return"Maintaining";const e=i.slice(-7),t=e[0].weight_kg,r=e[e.length-1].weight_kg-t;return Math.abs(r)<.1?"Maintaining":r>0?"Gaining":"Losing"},FW=({weightData:i=[],weightGoal:e})=>{const[t,n]=P.useState(30),r=P.useMemo(()=>{if(!i)return[];if(t===0)return i;const d=new Date;return d.setDate(d.getDate()-t),i.filter(p=>new Date(p.id)>=d)},[i,t]),s=P.useMemo(()=>VW(r),[r]),o=P.useMemo(()=>BW(s),[s]),c={labels:r.map(d=>d.id),datasets:[{label:"Daily Weight",data:r.map(d=>d.weight_kg),borderColor:"#1877f2",backgroundColor:"#1877f2",tension:.1,borderWidth:3},{label:"7-Day Average",data:s.map(d=>d.weight_kg),borderColor:"#00b894",backgroundColor:"#00b894",borderDash:[5,5],pointRadius:0,tension:.2,borderWidth:3},{label:"Goal Weight",data:Array(r.length).fill(e),borderColor:"#ff7675",backgroundColor:"#ff7675",borderDash:[],pointRadius:0,fill:!1,borderWidth:3}].filter(d=>d.label!=="Goal Weight"||e)},h={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,pointStyle:"line",boxWidth:40,boxHeight:10}},title:{display:!1}},scales:{y:{title:{display:!0,text:"Weight (kg)"}}}};return O.jsxs("div",{className:cs.card,children:[O.jsxs("div",{className:cs.header,children:[O.jsx("h2",{className:cs.title,children:"Weight Chart"}),O.jsx("div",{className:cs.timeToggles,children:[30,90,0].map(d=>O.jsx("button",{className:`${cs.toggleButton} ${t===d?cs.active:""}`,onClick:()=>n(d),children:d===0?"All Time":`${d} Days`},d))})]}),O.jsx("div",{className:cs.chartContainer,children:r.length>0?O.jsx(ZM,{options:h,data:c}):O.jsx("p",{className:cs.emptyText,children:"Log your weight to see your progress chart."})}),O.jsxs("div",{className:cs.trendIndicator,children:[O.jsx("strong",{children:"Trend:"})," ",o]})]})},UW="_chartCard_175d6_1",jW="_chartHeader_175d6_9",zW="_timeRangeButtons_175d6_23",HW="_timeRangeButton_175d6_23",YW="_active_175d6_44",qW="_chartCanvasContainer_175d6_50",WW="_emptyChart_175d6_56",Di={chartCard:UW,chartHeader:jW,timeRangeButtons:zW,timeRangeButton:HW,active:YW,chartCanvasContainer:qW,emptyChart:WW};Od.register(WM,GM,PM,Pd,HM,qM,zM);const GW=()=>{const{user:i}=ml(),{userProfile:e}=tu(),[t,n]=P.useState([]),[r,s]=P.useState("30"),[o,c]=P.useState(!0);P.useEffect(()=>{(async()=>{if(!i)return;c(!0);const b=new Date;let E=new Date;r==="30"?E.setDate(b.getDate()-29):r==="90"?E.setDate(b.getDate()-89):E=new Date(2023,0,1);const S=E.toISOString().split("T")[0],T=b.toISOString().split("T")[0];try{const C=await IB(i.uid,S,T);n(C)}catch(C){console.error("Error fetching calorie data:",C)}c(!1)})()},[i,r]);const h=t.map(_=>_.date),d=t.map(_=>_.totalCalories),p={labels:h,datasets:[{label:"Calories Consumed",data:d,borderColor:"rgb(75, 192, 192)",backgroundColor:"rgba(75, 192, 192, 0.5)",tension:.1,fill:!1,borderWidth:3},e?.calorieTarget&&{label:"Calorie Target",data:h.map(()=>e.calorieTarget),borderColor:"rgb(255, 99, 132)",backgroundColor:"rgba(255, 99, 132, 0.5)",borderDash:[5,5],pointRadius:0,fill:!1,borderWidth:3}].filter(Boolean)},y={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,pointStyle:"line",boxWidth:40,boxHeight:10}},title:{display:!0,text:"Calorie Intake Over Time"}},scales:{x:{title:{display:!0,text:"Date"}},y:{title:{display:!0,text:"Calories (kcal)"},beginAtZero:!0}}};return o?O.jsx("div",{className:Di.chartContainer,children:"Loading calorie data..."}):O.jsxs("div",{className:Di.chartCard,children:[O.jsxs("div",{className:Di.chartHeader,children:[O.jsx("h3",{children:"Calorie Trends"}),O.jsxs("div",{className:Di.timeRangeButtons,children:[O.jsx("button",{className:`${Di.timeRangeButton} ${r==="30"?Di.active:""}`,onClick:()=>s("30"),children:"30 Days"}),O.jsx("button",{className:`${Di.timeRangeButton} ${r==="90"?Di.active:""}`,onClick:()=>s("90"),children:"90 Days"}),O.jsx("button",{className:`${Di.timeRangeButton} ${r==="all"?Di.active:""}`,onClick:()=>s("all"),children:"All Time"})]})]}),O.jsx("div",{className:Di.chartCanvasContainer,children:t.length>0?O.jsx(ZM,{data:p,options:y}):O.jsx("p",{className:Di.emptyChart,children:"No calorie data available for this period."})})]})},$W="_overlay_67j86_1",QW="_modal_67j86_14",KW="_closeButton_67j86_30",XW="_title_67j86_46",ZW="_form_67j86_53",JW="_inputGroup_67j86_53",eG="_input_67j86_53",tG="_mealTypeTiles_67j86_84",nG="_mealTypeTile_67j86_84",iG="_active_67j86_106",rG="_saveButton_67j86_112",Qn={overlay:$W,modal:QW,closeButton:KW,title:XW,form:ZW,inputGroup:JW,input:eG,mealTypeTiles:tG,mealTypeTile:nG,active:iG,saveButton:rG},sG=({isOpen:i,onClose:e,onSave:t,selectedDate:n,foodToEdit:r})=>{const[s,o]=P.useState(""),[c,h]=P.useState(""),[d,p]=P.useState("Breakfast"),y=["Breakfast","Lunch","Dinner","Snacks"];P.useEffect(()=>{r?(o(r.description||""),h(typeof r.calories=="number"?r.calories.toString():""),p(r.mealType||"Breakfast")):(o(""),h(""),p("Breakfast"))},[r,i]);const _=b=>{b.preventDefault();const E=s.trim()===""?d:s;if(E&&Number(c)>0){const S=r?"edit":"add",T={description:E,calories:Number(c)};t(S,d,T,n,r),e()}};return i?O.jsx("div",{className:Qn.overlay,onClick:e,children:O.jsxs("div",{className:Qn.modal,onClick:b=>b.stopPropagation(),children:[O.jsx("button",{onClick:e,className:Qn.closeButton,children:""}),O.jsx("h2",{className:Qn.title,children:`Log Calories (for ${n})`}),O.jsxs("form",{onSubmit:_,className:Qn.form,children:[O.jsxs("div",{className:Qn.inputGroup,children:[O.jsx("label",{children:"Meal Type"}),O.jsx("div",{className:Qn.mealTypeTiles,children:y.map(b=>O.jsx("button",{type:"button",className:`${Qn.mealTypeTile} ${d===b?Qn.active:""}`,onClick:()=>p(b),children:b},b))})]}),O.jsxs("div",{className:Qn.inputGroup,children:[O.jsx("label",{htmlFor:"description",children:"Description (optional)"}),O.jsx("input",{type:"text",id:"description",placeholder:"e.g., Apple slices with peanut butter",value:s,onChange:b=>o(b.target.value),className:Qn.input})]}),O.jsxs("div",{className:Qn.inputGroup,children:[O.jsx("label",{htmlFor:"calories",children:"Calories (kcal)"}),O.jsx("input",{type:"number",id:"calories",placeholder:"e.g., 250",value:c,onChange:b=>h(b.target.value),className:Qn.input,required:!0})]}),O.jsx("button",{type:"submit",className:Qn.saveButton,children:"LOG"})]})]})}):null},aG="_overlay_dd1qb_1",oG="_modal_dd1qb_14",lG="_title_dd1qb_31",cG="_message_dd1qb_37",uG="_actions_dd1qb_43",hG="_cancelButton_dd1qb_49",dG="_confirmButton_dd1qb_50",No={overlay:aG,modal:oG,title:lG,message:cG,actions:uG,cancelButton:hG,confirmButton:dG},fG=({isOpen:i,onClose:e,onConfirm:t,title:n,message:r})=>i?O.jsx("div",{className:No.overlay,onClick:e,children:O.jsxs("div",{className:No.modal,onClick:s=>s.stopPropagation(),children:[O.jsx("h2",{className:No.title,children:n}),O.jsx("p",{className:No.message,children:r}),O.jsxs("div",{className:No.actions,children:[O.jsx("button",{onClick:e,className:No.cancelButton,children:"Cancel"}),O.jsx("button",{onClick:t,className:No.confirmButton,children:"Confirm"})]})]})}):null,Nh=()=>new Date().toISOString().split("T")[0],pG=i=>{const e={weekday:"short",month:"short",day:"numeric"};return new Date(i).toLocaleDateString(void 0,e)},Tv=i=>{const e=Nh(),t=new Date;t.setDate(t.getDate()-1);const n=t.toISOString().split("T")[0];return i===e?"Today":i===n?"Yesterday":pG(i)},mG=()=>{const i=fd(),{user:e}=ml(),{userProfile:t}=tu(),{theme:n,toggleTheme:r}=zB();P.useEffect(()=>{document.title="HealthTracker - Dashboard"},[]);const[s,o]=P.useState([]),[c,h]=P.useState({Breakfast:[],Lunch:[],Dinner:[],Snacks:[]}),[d,p]=P.useState(!0),[y,_]=P.useState(!0),[b,E]=P.useState(Nh()),[S,T]=P.useState(!1),[C,N]=P.useState(null),[j,q]=P.useState(!1),[H,K]=P.useState(null),M=P.useCallback(async()=>{if(e){p(!0);const ne=await DB(e.uid);o(ne),p(!1)}},[e]),A=P.useCallback(async()=>{if(e){_(!0);const ne=await AB(e.uid,b),le={Breakfast:[],Lunch:[],Dinner:[],Snacks:[]};ne.forEach(F=>{le[F.mealType]&&le[F.mealType].push(F)}),h(le),_(!1)}},[e,b]);P.useEffect(()=>{M()},[M]),P.useEffect(()=>{A()},[A]);const k=P.useMemo(()=>Object.values(c).flat().reduce((ne,le)=>ne+le.calories,0),[c]),L=async(ne,le,F,re=Nh(),fe=null)=>{if(e)try{if(ne==="add"){const he={...F,mealType:le};delete he.id,await RB(e.uid,he,re),await b0(e.uid,F)}else if(ne==="delete"){K(F),q(!0);return}else if(ne==="edit"){const he={...F,mealType:le};fe&&await kB(e.uid,fe.id,he)}await A()}catch(he){console.error("DashboardPage - Error in handleLogUpdate:",he)}},B=async()=>{if(!(!e||!H))try{await MB(e.uid,H.id),await A()}catch(ne){console.error("DashboardPage - Error during deletion confirmation:",ne)}finally{q(!1),K(null)}},U=async(ne,le)=>{e&&(await CB(e.uid,ne,Number(le)),await M())},V=async()=>{try{await TB(),i("/login")}catch(ne){console.error("Error signing out: ",ne)}},_e=ne=>{const le=new Date(b);le.setDate(le.getDate()+ne),E(le.toISOString().split("T")[0])},de=(ne=null)=>{N(ne),T(!0)},W=()=>{T(!1),N(null)},ee=ne=>{de(ne)};return e===void 0||t===void 0?O.jsx("div",{className:"full-page-loader",children:O.jsx("div",{})}):O.jsxs("div",{className:kn.pageContainer,children:[O.jsxs("header",{className:kn.header,children:[O.jsx("h1",{className:kn.logo,children:"HealthTracker"}),O.jsxs("div",{className:kn.headerControls,children:[O.jsx("button",{onClick:r,className:kn.themeToggleButton,title:"Toggle theme",children:n==="light"?O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-moon",children:O.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}):O.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-sun",children:[O.jsx("circle",{cx:"12",cy:"12",r:"5"}),O.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),O.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),O.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),O.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),O.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),O.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),O.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),O.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]})}),O.jsxs("span",{className:kn.welcomeMessage,onClick:()=>i("/profile"),style:{cursor:"pointer"},children:["Welcome, ",t?.displayName||e?.displayName,"!"]}),O.jsx("button",{onClick:V,className:kn.signOutButton,children:"Sign Out"})]})]}),O.jsxs("main",{className:kn.dashboardGrid,children:[O.jsx("section",{className:kn.gridColumn,children:d?O.jsx("div",{className:kn.sectionLoader,children:"Loading Weight Data..."}):O.jsxs(O.Fragment,{children:[O.jsx(lH,{onSave:U,entries:s,getRelativeDateString:Tv}),O.jsx(FW,{weightData:s,weightGoal:t?.weightGoal_kg})]})}),O.jsxs("section",{className:kn.gridColumn,children:[O.jsx(sU,{target:t?.calorieTarget,food:k,onLogCaloriesClick:de}),O.jsxs("div",{className:kn.dateNavigationContainer,children:[O.jsx("button",{onClick:()=>_e(-1),className:kn.dateNavButton,children:"<"}),O.jsx("span",{className:kn.currentDateDisplay,children:Tv(b)}),O.jsx("button",{onClick:()=>_e(1),className:kn.dateNavButton,disabled:b===Nh(),title:b===Nh()?"You are viewing today's data.":"Navigate to next day",children:">"})]}),y?O.jsx("div",{className:kn.sectionLoader,children:"Loading Meal Data..."}):O.jsxs(O.Fragment,{children:[O.jsx(mU,{dailyLogData:c,onUpdateLog:L,selectedDate:b,getRelativeDateString:Tv,onEditFoodClick:ee}),O.jsx(GW,{})]})]})]}),O.jsx(sG,{isOpen:S,onClose:W,onSave:L,selectedDate:b,foodToEdit:C}),O.jsx(fG,{isOpen:j,onClose:()=>q(!1),onConfirm:B,title:"Confirm Deletion",message:H?`Are you sure you want to delete ${H.description}?`:"Are you sure you want to delete this item?"})]})},gG="_pageContainer_ookj4_1",yG="_header_ookj4_8",_G="_logo_ookj4_19",vG="_backButton_ookj4_26",bG="_profileContent_ookj4_43",wG="_sectionTitle_ookj4_52",EG="_form_ookj4_61",TG="_inputGroup_ookj4_68",SG="_input_ookj4_68",xG="_select_ookj4_81",DG="_saveButton_ookj4_99",tt={pageContainer:gG,header:yG,logo:_G,backButton:vG,profileContent:bG,sectionTitle:wG,form:EG,inputGroup:TG,input:SG,select:xG,saveButton:DG},CG=()=>{const i=fd(),{user:e}=ml(),{userProfile:t,refreshUserProfile:n}=tu(),{showToast:r}=sk();P.useEffect(()=>{document.title="HealthTracker - Profile"},[]);const[s,o]=P.useState(""),[c,h]=P.useState(""),[d,p]=P.useState(""),[y,_]=P.useState("sedentary"),[b,E]=P.useState("maintain"),[S,T]=P.useState(""),[C,N]=P.useState(""),[j,q]=P.useState(""),[H,K]=P.useState(""),[M,A]=P.useState(""),[k,L]=P.useState(!0),[B,U]=P.useState(!1),[V,_e]=P.useState(!1),de=[{value:"sedentary",label:"Sedentary (little or no exercise)"},{value:"lightly_active",label:"Lightly Active (light exercise/sports 1-3 days/week)"},{value:"moderately_active",label:"Moderately Active (moderate exercise/sports 3-5 days/week)"},{value:"very_active",label:"Very Active (hard exercise/sports 6-7 days/week)"}],W=[{value:"lose",label:"Lose Weight"},{value:"maintain",label:"Maintain Weight"},{value:"gain",label:"Gain Weight"}];P.useEffect(()=>{t?(o(t.displayName||""),h(t.height_cm?.toString()||""),p(t.birthYear?.toString()||""),_(t.activityLevel||"sedentary"),E(t.goal||"maintain"),T(t.weightGoal_kg?.toString()||""),N(t.calorieTarget?.toString()||""),L(!1)):e&&(async()=>{const F=await nk(e.uid);F&&(o(F.displayName||""),h(F.height_cm?.toString()||""),p(F.birthYear?.toString()||""),_(F.activityLevel||"sedentary"),E(F.goal||"maintain"),T(F.weightGoal_kg?.toString()||""),N(F.calorieTarget?.toString()||"")),L(!1)})()},[e,t]);const ee=async le=>{if(le.preventDefault(),!!e){U(!0);try{await xB(e.uid,{displayName:s,height_cm:Number(c),birthYear:Number(d),activityLevel:y,goal:b,weightGoal_kg:Number(S),calorieTarget:Number(C)||null}),await n(),r("Profile updated successfully!","success")}catch(F){r(`Profile update failed: ${F.message}`,"error"),console.error("Profile update error:",F)}finally{U(!1)}}},ne=async le=>{if(le.preventDefault(),!!e){if(H!==M){r("New passwords do not match.","error");return}if(H.length<6){r("Password should be at least 6 characters.","error");return}_e(!0);try{if(e.email){const F=ul.credential(e.email,j);await LL(e,F),await FL(e,H),r("Password updated successfully!","success"),q(""),K(""),A("")}}catch(F){r(`Password update failed: ${F.message}. Please re-login if you haven't recently.`,"error"),console.error("Password update error:",F)}finally{_e(!1)}}};return k?O.jsx("div",{className:"full-page-loader",children:O.jsx("div",{})}):O.jsxs("div",{className:tt.pageContainer,children:[O.jsxs("header",{className:tt.header,children:[O.jsx("h1",{className:tt.logo,children:"HealthTracker"}),O.jsx("button",{onClick:()=>i("/dashboard"),className:tt.backButton,children:"< Back to Dashboard"})]}),O.jsxs("main",{className:tt.profileContent,children:[O.jsx("h2",{className:tt.sectionTitle,children:"Edit Profile"}),O.jsxs("form",{onSubmit:ee,className:tt.form,children:[O.jsxs("div",{className:tt.inputGroup,children:[O.jsx("label",{htmlFor:"displayName",children:"Display Name"}),O.jsx("input",{type:"text",id:"displayName",value:s,onChange:le=>o(le.target.value),className:tt.input})]}),O.jsxs("div",{className:tt.inputGroup,children:[O.jsx("label",{htmlFor:"height",children:"Height (cm)"}),O.jsx("input",{type:"number",id:"height",value:c,onChange:le=>h(le.target.value),className:tt.input})]}),O.jsxs("div",{className:tt.inputGroup,children:[O.jsx("label",{htmlFor:"birthYear",children:"Birth Year"}),O.jsx("input",{type:"number",id:"birthYear",value:d,onChange:le=>p(le.target.value),className:tt.input})]}),O.jsxs("div",{className:tt.inputGroup,children:[O.jsx("label",{htmlFor:"activityLevel",children:"Activity Level"}),O.jsx("select",{id:"activityLevel",value:y,onChange:le=>_(le.target.value),className:tt.select,children:de.map(le=>O.jsx("option",{value:le.value,children:le.label},le.value))})]}),O.jsxs("div",{className:tt.inputGroup,children:[O.jsx("label",{htmlFor:"goal",children:"Goal"}),O.jsx("select",{id:"goal",value:b,onChange:le=>E(le.target.value),className:tt.select,children:W.map(le=>O.jsx("option",{value:le.value,children:le.label},le.value))})]}),O.jsxs("div",{className:tt.inputGroup,children:[O.jsx("label",{htmlFor:"weightGoal",children:"Target Weight (kg)"}),O.jsx("input",{type:"number",id:"weightGoal",value:S,onChange:le=>T(le.target.value),className:tt.input})]}),O.jsxs("div",{className:tt.inputGroup,children:[O.jsx("label",{htmlFor:"calorieTarget",children:"Daily Calorie Target"}),O.jsx("input",{type:"number",id:"calorieTarget",value:C,onChange:le=>N(le.target.value),className:tt.input})]}),O.jsx("button",{type:"submit",className:tt.saveButton,disabled:B,children:B?"Saving...":"Save Profile"})]}),O.jsx("h2",{className:tt.sectionTitle,children:"Change Password"}),O.jsxs("form",{onSubmit:ne,className:tt.form,children:[O.jsxs("div",{className:tt.inputGroup,children:[O.jsx("label",{htmlFor:"currentPassword",children:"Current Password"}),O.jsx("input",{type:"password",id:"currentPassword",value:j,onChange:le=>q(le.target.value),className:tt.input,required:!0})]}),O.jsxs("div",{className:tt.inputGroup,children:[O.jsx("label",{htmlFor:"newPassword",children:"New Password"}),O.jsx("input",{type:"password",id:"newPassword",value:H,onChange:le=>K(le.target.value),className:tt.input,required:!0})]}),O.jsxs("div",{className:tt.inputGroup,children:[O.jsx("label",{htmlFor:"confirmNewPassword",children:"Confirm New Password"}),O.jsx("input",{type:"password",id:"confirmNewPassword",value:M,onChange:le=>A(le.target.value),className:tt.input,required:!0})]}),O.jsx("button",{type:"submit",className:tt.saveButton,disabled:V,children:V?"Updating...":"Update Password"})]})]})]})},Sv=({children:i})=>{const{user:e,loading:t}=ml(),{userProfile:n,loading:r}=tu(),s=Is();if(t||r)return O.jsx("div",{className:"full-page-loader",children:O.jsx("div",{})});if(!e)return O.jsx(jo,{to:"/login"});if(e&&!n?.calorieTarget){if(s.pathname!=="/onboarding")return O.jsx(jo,{to:"/onboarding"})}else if(e&&n?.calorieTarget&&s.pathname==="/onboarding")return O.jsx(jo,{to:"/dashboard"});return i};function AG(){const{user:i,loading:e}=ml(),{loading:t}=tu();return e||t?O.jsx("div",{className:"full-page-loader",children:O.jsx("div",{})}):O.jsxs(EP,{children:[O.jsx(Lo,{path:"/",element:i?O.jsx(jo,{to:"/dashboard"}):O.jsx(jo,{to:"/login"})}),O.jsx(Lo,{path:"/login",element:i?O.jsx(jo,{to:"/dashboard"}):O.jsx(JB,{})}),O.jsx(Lo,{path:"/signup",element:i?O.jsx(jo,{to:"/dashboard"}):O.jsx(cF,{})}),O.jsx(Lo,{path:"/onboarding",element:O.jsx(Sv,{children:O.jsx(MF,{})})}),O.jsx(Lo,{path:"/dashboard",element:O.jsx(Sv,{children:O.jsx(mG,{})})}),O.jsx(Lo,{path:"/profile",element:O.jsx(Sv,{children:O.jsx(CG,{})})})]})}const aC=document.getElementById("root");aC&&IO.createRoot(aC).render(O.jsx(P.StrictMode,{children:O.jsx(qP,{children:O.jsx(jB,{children:O.jsx(OB,{children:O.jsx(HB,{children:O.jsx(AG,{})})})})})}));
